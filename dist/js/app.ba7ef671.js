(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0622":function(e,t,n){e.exports=n.p+"img/sign-in.857c8105.svg"},"0be9":function(e,t,n){e.exports={searchBox:"Textsearch_searchBox_1SbLb"}},"0c69":function(e,t,n){"use strict";n("c02a")},"10b7":function(e,t,n){e.exports=n.p+"img/chat.b54d0730.svg"},"175a":function(e,t,n){"use strict";n("c4c4")},"187b":function(e,t,n){"use strict";var r=n("a652"),o=n.n(r);n.d(t,"default",(function(){return o.a}))},"1d0f":function(e,t,n){"use strict";n("32db")},"1fec":function(e,t,n){e.exports=n.p+"img/plugin.71b16b67.svg"},"229a":function(e,t,n){"use strict";n("4472")},"24ac":function(e,t,n){e.exports={textWrapperSearch:"Home_textWrapperSearch_1uPYg",textWrapperSearchMobile:"Home_textWrapperSearchMobile_2KNYE"}},3069:function(e,t,n){},3163:function(e,t,n){},"31f3":function(e,t,n){e.exports=n.p+"img/log.2b2ea6d0.svg"},"32db":function(e,t,n){},"334d":function(e,t,n){e.exports=n.p+"img/eye-on.e881e189.svg"},4472:function(e,t,n){},4612:function(e,t,n){e.exports=n.p+"img/switch-off.17f7401d.svg"},4623:function(e,t,n){e.exports=n.p+"img/remove-off.9d54941e.svg"},"46b4":function(e,t,n){"use strict";n("3163")},"4fbc":function(e,t,n){e.exports=n.p+"img/revert.3fe2bc78.svg"},"533a":function(e,t,n){"use strict";var r=n("ad1d"),o=n.n(r);n.d(t,"default",(function(){return o.a}))},"5c0f":function(e,t,n){"use strict";var r=n("6ea6"),o=n.n(r);n.d(t,"default",(function(){return o.a}))},"62a5":function(e,t,n){"use strict";n("3069")},"67c1":function(e,t,n){e.exports=n.p+"img/remove-on.9d54941e.svg"},6951:function(e,t,n){"use strict";n("d470")},"6c34":function(e,t,n){"use strict";var r=n("24ac"),o=n.n(r);n.d(t,"default",(function(){return o.a}))},"6ea6":function(e,t,n){e.exports={wrapperContentMobile:"Index_wrapperContentMobile_3O52m",wrapperContent:"Index_wrapperContent_1bUq4",title:"Index_title_1kpia",list:"Index_list_3qW8z",icon:"Index_icon_2jnZk",section:"Index_section_bVQDf"}},"70bb":function(e,t,n){e.exports=n.p+"img/paste.c9ceeece.svg"},7835:function(e,t,n){e.exports=n.p+"img/add-on.5a83fc0e.svg"},"7ccc":function(e,t,n){"use strict";n("9816")},8423:function(e,t,n){e.exports=n.p+"img/switch-on.70cdd4b4.svg"},"8c45":function(e,t,n){"use strict";var r=n("d0e0"),o=n.n(r);n.d(t,"default",(function(){return o.a}))},9233:function(e,t,n){e.exports=n.p+"img/cut.5b0b166e.svg"},9816:function(e,t,n){},"99ba":function(e,t,n){e.exports=n.p+"img/goal.dfe3dc4c.svg"},a652:function(e,t,n){e.exports={title:"UsedBy_title_3F9En",precondition:"UsedBy_precondition_1vpBY",preconditionPath:"UsedBy_preconditionPath_3XvY1"}},ad1d:function(e,t,n){e.exports={title:"Preconditions_title_1ANO_",precondition:"Preconditions_precondition_XjUJT",preconditionPath:"Preconditions_preconditionPath_1K70l"}},b969:function(e,t,n){e.exports=n.p+"img/pin-off.addc500f.svg"},bc82:function(e,t,n){e.exports=n.p+"img/pin-on.ae33cffa.svg"},c02a:function(e,t,n){},c4c4:function(e,t,n){},c8fa:function(e,t,n){e.exports=n.p+"img/menu.4256f039.svg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t,n,o,i,a){var c=Object(r["J"])("router-view");return Object(r["A"])(),Object(r["g"])(c)}n("a4d3"),n("e01a"),n("99af"),n("d3b7"),n("96cf");var i,a,c,s=n("1da1"),u=n("ade3"),l=n("3835"),d=n("5502"),p=(n("c975"),n("a434"),n("b85c")),b={SET_PINS:"SET_PINS",ADD_TO_PINS:"ADD_TO_PINS",REMOVE_PIN:"REMOVE_PIN",ADD_TO_PINS_REVERSE:"ADD_TO_PINS_REVERSE"},m={AddPin:"AddPin",RemovePin:"RemovePin"},f={namespaced:!0,state:{pins:{},pinsReverse:{}},actions:(i={},Object(u["a"])(i,m.AddPin,(function(e,t){var n=e.commit,r=e.rootState,o=r.tree.nodeRecord[t.nodeId].parent;if(o){var i=[];while(o&&o.id!=t.parentId)i.push(o.id),o=r.tree.nodeRecord[o.id].parent;i.push(t.parentId),n(b.ADD_TO_PINS,{nodeId:t.nodeId,parentIds:i});for(var a=0,c=i;a<c.length;a++){var s=c[a];n(b.ADD_TO_PINS_REVERSE,{nodeId:s,pinId:t.nodeId})}}})),Object(u["a"])(i,m.RemovePin,(function(e,t){var n=e.commit;n(b.REMOVE_PIN,t)})),i),mutations:(a={},Object(u["a"])(a,b.SET_PINS,(function(e,t){for(var n in e.pins=t,e.pinsReverse={},t){var r,o=Object(p["a"])(t[n]);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.pinsReverse[i]||(e.pinsReverse[i]=[]),e.pinsReverse[i].push(n)}}catch(a){o.e(a)}finally{o.f()}}})),Object(u["a"])(a,b.ADD_TO_PINS,(function(e,t){e.pins[t.nodeId]=t.parentIds})),Object(u["a"])(a,b.ADD_TO_PINS_REVERSE,(function(e,t){e.pinsReverse[t.nodeId]||(e.pinsReverse[t.nodeId]=[]),e.pinsReverse[t.nodeId].push(t.pinId)})),Object(u["a"])(a,b.REMOVE_PIN,(function(e,t){var n,r=Object(p["a"])(e.pins[t]);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=e.pinsReverse[o].indexOf(t);e.pinsReverse[o].splice(i,1)}}catch(a){r.e(a)}finally{r.f()}delete e.pins[t]})),a)},O=(n("25f0"),n("ddb0"),n("e6de")),v=function(e,t,n){var r=new Error(e);return{error:r,kv:t,code:n}},h=n("bc3a"),g=n.n(h),j={SET_PRECONDITIONS:"SET_PRECONDITIONS",UPDATE_PRECONDITIONS:"UPDATE_PRECONDITIONS",REMOVE_PRECONDITION:"REMOVE_PRECONDITION"},y={namespaced:!0,state:{preconditions:{},reverseIndex:{}},mutations:(c={},Object(u["a"])(c,j.SET_PRECONDITIONS,(function(e,t){for(var n in e.preconditions=t,e.reverseIndex={},t){var r,o=Object(p["a"])(t[n]);try{for(o.s();!(r=o.n()).done;){var i=r.value;"undefined"===typeof e.reverseIndex[i]&&(e.reverseIndex[i]=[]),e.reverseIndex[i].push(n)}}catch(a){o.e(a)}finally{o.f()}}})),Object(u["a"])(c,j.UPDATE_PRECONDITIONS,(function(e,t){e.preconditions[t.nodeID]||(e.preconditions[t.nodeID]=[]);var n,r=Object(p["a"])(e.preconditions[t.nodeID]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.reverseIndex[o]&&-1!=e.reverseIndex[o].indexOf(t.nodeID)&&e.reverseIndex[o].splice(e.reverseIndex[o].indexOf(t.nodeID),1)}}catch(s){r.e(s)}finally{r.f()}e.preconditions[t.nodeID]=t.preconditionIDs;var i,a=Object(p["a"])(e.preconditions[t.nodeID]);try{for(a.s();!(i=a.n()).done;){var c=i.value;e.reverseIndex[c]||(e.reverseIndex[c]=[]),e.reverseIndex[c].push(t.nodeID)}}catch(s){a.e(s)}finally{a.f()}})),Object(u["a"])(c,j.REMOVE_PRECONDITION,(function(e,t){if(e.preconditions[t.nodeID]){var n=e.preconditions[t.nodeID];n&&-1!=n.indexOf(t.preconditionID)&&(n.splice(n.indexOf(t.preconditionID),1),e.reverseIndex[t.preconditionID]&&-1!=e.reverseIndex[t.preconditionID].indexOf(t.nodeID)&&e.reverseIndex[t.preconditionID].splice(e.reverseIndex[t.preconditionID].indexOf(t.nodeID),1))}})),c)},x={UPDATE_IMAGES:"UPDATE_IMAGES"},I={namespaced:!0,state:{images:{}},mutations:Object(u["a"])({},x.UPDATE_IMAGES,(function(e,t){e.images[t.nodeID]=t.images}))};n("4de4"),n("4160"),n("b0c0"),n("07ac"),n("159b");function N(e){var t;return e?Array.isArray(e)?(t=e.filter((function(e){return!!e})).sort(),t.forEach((function(e,t,n){return n[t]=e.toString()}))):(t=Object.values(e).filter((function(e){return!!e})).sort(),t.forEach((function(e,t,n){return n[t]=e.toString()}))):t=[],t}function w(e){var t={id:e["0"].id.toString(),title:e["0"].name,position:e["0"].position,children:[]},n=[t];while(n.length>0){var r=n.pop();if(r){if(!e[r.id])return[null,v("Cannot find id in dbNodes",{"node.id":r.id,dbNodes:e})];if(e[r.id].children=N(e[r.id].children),e[r.id].children.length){var o,i=[],a=Object(p["a"])(e[r.id].children);try{for(a.s();!(o=a.n()).done;){var c=o.value;if(!e[c])return[null,v("Cannot find child id in dbNodes",{childID:c,parentID:r.id})];i.push({id:c.toString(),title:e[c].name,position:e[c].position,children:[]})}}catch(s){a.e(s)}finally{a.f()}r.children=i,n.push.apply(n,i)}}}return[t,null]}n("d6b6");var k,D,T=n("2ef0"),E=n("1494"),_="https://us-central1-sci-map-1982.cloudfunctions.net/",R=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O["a"].database().ref().update(t);case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",v("api: error in update",{err:e.t0}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(T["debounce"])(R,2e3),S={ROOT_WIDTH:window.innerWidth>window.innerHeight?window.innerWidth:1.5*.95*window.innerWidth,ROOT_HEIGHT:window.innerWidth>window.innerHeight?.95*window.innerHeight:1.5*window.innerHeight,ROOT_CENTER_X:window.innerWidth>window.innerHeight?.3*window.innerWidth+.7*window.innerWidth/2:window.innerWidth/2,ROOT_CENTER_Y:window.innerWidth>window.innerHeight?window.innerHeight/2:.75*window.innerHeight/2,ST_WIDTH:1e3,ST_HEIGHT:1e3,initFirebase:function(){var e={apiKey:"AIzaSyCP50k-WOkTeG8BYvRtu4Bo_x3T2RnVsxU",authDomain:"sci-map-1982.firebaseapp.com",databaseURL:"https://sci-map-1982.firebaseio.com",projectId:"sci-map-1982",storageBucket:"sci-map-1982.appspot.com",messagingSenderId:"340899060236",appId:"1:340899060236:web:b136e9289e342a8bb62c29",measurementId:"G-TV74Q61H9P"};O["a"].initializeApp(e),O["a"].analytics()},callFunction:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=O["a"].auth().currentUser,r){n.next=3;break}return n.abrupt("return",["",v("callFunction: cannot determine current user",{})]);case 3:return n.next=5,r.getIdToken(!0);case 5:return t.idToken=n.sent,n.prev=6,n.next=9,g.a.get(_+e,{params:t});case 9:return o=n.sent,n.abrupt("return",[o.data,null]);case 13:return n.prev=13,n.t0=n["catch"](6),n.abrupt("return",["",v("Error in callFunction",{method:e,params:t,e:n.t0})]);case 16:case"end":return n.stop()}}),n,null,[[6,13]])})))()},getMapFromDB:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].database().ref("map").get();case 2:if(t=e.sent,t.exists()){e.next=5;break}return e.abrupt("return",[null,v("!snapshot.exists",{})]);case 5:return n=t.val(),e.abrupt("return",[n,null]);case 7:case"end":return e.stop()}}),e)})))()},getMapFromStorage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=O["a"].storage().ref(),o=r.child("/map.json"),e&&(o=r.child("/user/".concat(e.uid,"/map.json"))),n.next=5,o.getDownloadURL();case 5:return i=n.sent,n.next=8,g.a.get(i);case 8:return a=n.sent,n.abrupt("return",[{id:"0",title:"",position:{x:t.ROOT_WIDTH/2,y:t.ROOT_HEIGHT/2},children:a.data},null]);case 10:case"end":return n.stop()}}),n)})))()},getMap:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getMapFromDB();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",[null,v(e.t0.message,{e:e.t0})]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getPins:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,null!=e){t.next=13;break}return n=O["a"].storage().ref(),r=n.child("/pins.json"),t.next=6,r.getDownloadURL();case 6:return o=t.sent,t.next=9,g.a.get(o);case 9:return i=t.sent,t.abrupt("return",[i.data,null]);case 13:return t.next=15,O["a"].database().ref("user_data/".concat(e.uid,"/pins")).get();case 15:if(a=t.sent,a.exists()){t.next=18;break}return t.abrupt("return",[null,v("!snapshot.exists",{})]);case 18:return t.abrupt("return",[a.val(),null]);case 19:t.next=24;break;case 21:return t.prev=21,t.t0=t["catch"](0),t.abrupt("return",[null,v(t.t0.message,{e:t.t0})]);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},savePins:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,O["a"].database().ref("user_data/".concat(e.uid,"/pins")).set(t);case 4:case"end":return n.stop()}}),n)})))()},getSubscriptions:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",[null,null]);case 2:return t.prev=2,t.next=5,O["a"].database().ref("user_subscription/".concat(e.uid)).get();case 5:if(n=t.sent,n.exists()){t.next=8;break}return t.abrupt("return",[null,v("!snapshot.exists",{})]);case 8:return t.abrupt("return",[n.val(),null]);case 11:return t.prev=11,t.t0=t["catch"](2),t.abrupt("return",[null,v(t.t0.message,{e:t.t0})]);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},setSubscription:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,O["a"].database().ref("user_subscription/".concat(e.uid,"/").concat(t.nodeID)).set(t.mode);case 4:case"end":return n.stop()}}),n)})))()},getPreconditions:function(e){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O["a"].database().ref("precondition").get();case 3:if(t=e.sent,t.exists()){e.next=6;break}return e.abrupt("return",[null,v("!snapshot.exists",{})]);case 6:return n=t.val(),e.abrupt("return",[n,null]);case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",[null,v(e.t0.message,{e:e.t0})]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},savePreconditions:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,O["a"].database().ref("precondition/"+t.nodeId).set(t.preconditionIds);case 4:case"end":return n.stop()}}),n)})))()},subscribeMapNodeChange:function(e,t){this.subscribeDBChange("map/".concat(e),(function(e){if(e.exists()){var n=e.val();n.id=n.id.toString(),n.children=N(n.children),t(n)}}))},subscribeNodeContentChange:function(e,t){this.subscribeDBChange("node_content/".concat(e),(function(e){if(e.exists()){var n=e.val();t(n)}}))},subscribePreconditionNodeChange:function(e){this.subscribeDBChange("precondition/".concat(e),(function(t){if(t.exists()){var n=t.val();Ut.commit("precondition/".concat(j.UPDATE_PRECONDITIONS),{nodeID:e,preconditionIDs:n})}}))},subscribeNodeImageChange:function(e){this.subscribeDBChange("node_image/".concat(e),(function(t){if(t.exists()){var n=t.val();Ut.commit("image/".concat(x.UPDATE_IMAGES),{nodeID:e,images:n})}}))},subscribeDBChange:function(e,t){O["a"].database().ref(e).on("value",t)},unsubscribeDBChange:function(e,t){O["a"].database().ref(e).off("value",t)},transaction:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O["a"].database().ref("map/"+e).transaction(t,(function(){}),!1);case 2:case"end":return n.stop()}}),n)})))()},setPublicUserData:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O["a"].database().ref("public_user_data/"+e).set({displayName:t,discordName:n});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.error(r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},getMapNode:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O["a"].database().ref("map/"+e).get();case 2:if(n=t.sent,r=n.val(),r){t.next=7;break}return console.error("got null fetching from map/nodeID",e),t.abrupt("return",null);case 7:return r.id=r.id.toString(),r.children=N(r.children),t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})))()},getTrashNode:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O["a"].database().ref("trash/".concat(e,"/").concat(t)).get();case 2:return r=n.sent,n.abrupt("return",r.val());case 4:case"end":return n.stop()}}),n)})))()},generateKey:function(){return O["a"].database().ref().push().key},findKeyInList:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O["a"].database().ref(e).orderByValue().equalTo(t).limitToFirst(1).get();case 2:return r=n.sent,n.abrupt("return",r.key);case 4:case"end":return n.stop()}}),n)})))()},findKeyOfChild:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O["a"].database().ref("map/"+e).get();case 2:if(r=n.sent,o=r.val(),o.children){n.next=6;break}return n.abrupt("return",null);case 6:n.t0=regeneratorRuntime.keys(o.children);case 7:if((n.t1=n.t0()).done){n.next=13;break}if(i=n.t1.value,o.children[i].toString()!==t){n.next=11;break}return n.abrupt("return",i);case 11:n.next=7;break;case 13:return n.abrupt("return",null);case 14:case"end":return n.stop()}}),n)})))()},update:R,debouncedUpdate:C,getUserSubscribePeriod:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return","");case 2:return n=e.uid,t.next=5,O["a"].database().ref("user_data/".concat(n,"/subscribe_period")).get();case 5:if(r=t.sent,r.exists()){t.next=8;break}return t.abrupt("return","");case 8:return t.abrupt("return",r.val());case 9:case"end":return t.stop()}}),t)})))()},setUserSubscribePeriod:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.uid,n.next=3,O["a"].database().ref("user_data/".concat(r,"/subscribe_period")).set(t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},setUserLastSearch:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O["a"].database().ref("user_data/".concat(e,"/last_search")).set(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},getUserComments:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.uid,t.next=3,O["a"].database().ref("user_data/".concat(n,"/comment")).get();case 3:if(r=t.sent,r.exists()){t.next=6;break}return t.abrupt("return",[null,v("!snapshot.exists",{})]);case 6:return o=r.val(),t.abrupt("return",[o,null]);case 8:case"end":return t.stop()}}),t)})))()},getNodeContent:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].database().ref("node_content").get();case 2:if(t=e.sent,t.exists()){e.next=5;break}return e.abrupt("return",[{},null]);case 5:return e.abrupt("return",[t.val(),null]);case 6:case"end":return e.stop()}}),e)})))()}},P={SET_SUBSCRIPTIONS:"SET_SUBSCRIPTIONS",SET_SUBSCRIPTION:"SET_SUBSCRIPTION"},A={ToggleSubscription:"ToggleSubscription"},M={namespaced:!0,state:{subscriptions:{}},actions:Object(u["a"])({},A.ToggleSubscription,(function(e,t){var n=e.commit,r=e.state,o=e.rootState,i={nodeID:t,mode:0};r.subscriptions[t]&&0!=r.subscriptions[t]?1==r.subscriptions[t]&&(i.mode=null):i.mode=1,n(P.SET_SUBSCRIPTION,i),S.setSubscription(o.user.user,i)})),mutations:(k={},Object(u["a"])(k,P.SET_SUBSCRIPTIONS,(function(e,t){e.subscriptions=t||{}})),Object(u["a"])(k,P.SET_SUBSCRIPTION,(function(e,t){t.mode>0?e.subscriptions[t.nodeID]=t.mode:delete e.subscriptions[t.nodeID]})),k)},B={SET_MAP:"SET_MAP"},L={namespaced:!0,state:{layerMap:{}},mutations:Object(u["a"])({},B.SET_MAP,(function(e,t){e.layerMap[t.layerName]=t.titleBoxMap}))},z=36e5,V={ADD_NODES:"ADD_NODES",REMOVE_NODES:"REMOVE_NODES"},H={CheckNodeID:"CheckNodeID"},U={namespaced:!0,state:{permittedNodeIDs:{}},mutations:(D={},Object(u["a"])(D,V.ADD_NODES,(function(e,t){var n,r=Object(p["a"])(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.permittedNodeIDs[o]=(new Date).getTime()}}catch(i){r.e(i)}finally{r.f()}})),Object(u["a"])(D,V.REMOVE_NODES,(function(e,t){var n,r=Object(p["a"])(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;delete e.permittedNodeIDs[o]}}catch(i){r.e(i)}finally{r.f()}})),D),actions:Object(u["a"])({},H.CheckNodeID,(function(e,t){var n=e.commit,r=e.state;return!!(r.permittedNodeIDs[t]&&(new Date).getTime()<r.permittedNodeIDs[t]+z)||(r.permittedNodeIDs[t]&&n(V.REMOVE_NODES,[t]),!1)}))},q=(n("c740"),n("caad"),n("d81d"),n("2532"),n("3ca3"),n("2909")),J=n("53ca"),W=(n("a15b"),n("13d5"),n("a9e3"),n("b64b"),n("595b")),G=n("9fe2"),$=n("dcbe"),Y=n.n($),F=0;function X(e,t){return(e%t+t)%t}function Z(e){var t=Math.pow(10,F);return Math.round(e*t)/t}function K(e){return Object(T["cloneDeep"])(e)}function Q(e,t){var n;t||console.error(e);var r=[];for(var o in t)r.push(o,t[o]);(n=console).error.apply(n,[e].concat(r))}var ee=n("ec26");function te(e,t){for(var n in t){var r=t[Number(n)];if(r&&r[e])return[r[e],Number(n)]}return[null,null]}function ne(e,t){var n,r=[],o=Object(p["a"])(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i){var a,c=Object(p["a"])(e);try{for(c.s();!(a=c.n()).done;){var s=a.value;i[s]&&r.push(i[s])}}catch(u){c.e(u)}finally{c.f()}}}}catch(u){o.e(u)}finally{o.f()}return r}function re(e,t){return{id:Object(ee["a"])(),position:t,title:e,children:[]}}function oe(e,t,n){var r=te(e.id,t),o=Object(l["a"])(r,1),i=o[0];if(null===i)return[null,null,v("getNewNodeCenter: cannot find mapNode for parent",{parentId:e.id,mapNodeLayers:t})];if(0===e.children.length){var a,c=i.border.map((function(e){return{from:i.center,to:e}})),s=c[0],u=Object(p["a"])(c);try{for(u.s();!(a=u.n()).done;){var d=a.value;ue(d)>ue(s)&&(s=d)}}catch(z){u.e(z)}finally{u.f()}var b=.5;return n&&(b=.5*Math.random()+1/4),[{x:s.from.x+b*(s.to.x-s.from.x),y:s.from.y+b*(s.to.y-s.from.y)},null,null]}var m=e.children[0],f=te(m.id,t),O=Object(l["a"])(f,1),h=O[0];if(null===h)return[null,null,v("getNewNodeCenter: cannot find maxDiagChild in layers",{maxDiagChildId:m.id,mapNodeLayers:t})];var g,j=Object(p["a"])(e.children);try{for(j.s();!(g=j.n()).done;){var y=g.value,x=te(y.id,t),I=Object(l["a"])(x,1),N=I[0];if(null===N)return[null,null,v("getNewNodeCenter: cannot find child in layers",{childId:y.id,mapNodeLayers:t})];var w=Ee(N.border),k=Object(l["a"])(w,2),D=k[0],T=k[1];if(T)return[null,null,v("getNewNodeCenter: error getMaxDiagonal",{childMapNode:N,err1:T})];var E=Ee(h.border),_=Object(l["a"])(E,2),R=_[0],C=_[1];if(C)return[null,null,v("getNewNodeCenter: error getMaxDiagonal",{maxDiagChildMapNode:h,err2:C})];ue(D)>ue(R)&&(h=N)}}catch(z){j.e(z)}finally{j.f()}var S=3/4;n&&(S=Math.random()*(1/4)+.625);var P=Ee(h.border),A=Object(l["a"])(P,1),M=A[0],B=Ne(M,S).to,L=K(m);return L.position=Ne(M,1/4).to,[B,L,null]}function ie(e,t){if(null==e.tree)return v("state.tree == null",{});var n=e.nodeRecord[t.nodeId];if(!n)return v("updateNodePosition: cannot find node in nodeRecord",{"v.nodeId":t.nodeId,"state.nodeRecord":e.nodeRecord});if(!n.parent)return v("updateNodePosition: cannot move root of tree",{"v.nodeId":t.nodeId});var r=_e("normalize",t.position,n.parent.id,e.mapNodeLayers),o=Object(l["a"])(r,1),i=o[0];n.node.position=i;var a=te(n.parent.id,e.mapNodeLayers),c=Object(l["a"])(a,2),s=c[0],u=c[1];if(!s||null===u)return v("updateNodePosition: cannot find mapNode for parent",{id:n.parent.id,"state.mapNodeLayers":e.mapNodeLayers});var d=Re(n.parent,s.border,s.center),p=Object(l["a"])(d,2),b=p[0],m=p[1];return null==b||null!=m?v("updateNodePosition: create layers for parent",{id:n.parent.id,parentMapNode:s}):Ce(e.mapNodeLayers,b,u)}var ae,ce,se=[{x:0,y:0},{x:0,y:S.ST_HEIGHT},{x:S.ST_WIDTH,y:S.ST_HEIGHT},{x:S.ST_WIDTH,y:0}];function ue(e){return Math.sqrt(Math.pow(e.from.x-e.to.x,2)+Math.pow(e.from.y-e.to.y,2))}function le(e){if(!e)throw new Error("polygonToTurf: p is empty");var t=e.map((function(e){return[e.x,e.y]}));return t.push([e[0].x,e[0].y]),W["polygon"]([t])}function de(e,t){return W["booleanPointInPolygon"](W["point"]([e.x,e.y]),le(t))}function pe(e){var t=e.map((function(e){return[e.x,e.y]}));return t.push([e[0].x,e[0].y]),[t]}function be(e){return Math.abs(Object(G["a"])(e.map((function(e){return[e.x,e.y]}))))}function me(e,t){var n=K(e),r=K(t),o=1;while(be(n)<1e3&&be(r)<1e3)o*=10,n=e.map((function(e){return{x:e.x*o,y:e.y*o}})),r=t.map((function(e){return{x:e.x*o,y:e.y*o}}));n=n.map((function(e){return{x:Z(e.x),y:Z(e.y)}})),r=r.map((function(e){return{x:Z(e.x),y:Z(e.y)}}));var i=pe(n),a=pe(r);if(null==i||null==a)return[null,v("intersect: error in polygonToPCPolygon",{p1:e,p2:t})];var c=Y.a.intersection(i,a);if(null==c||!c.length)return[[],null];var s,u=[],l=Object(p["a"])(c[0]);try{for(l.s();!(s=l.n()).done;){var d,b=s.value,m=[],f=Object(p["a"])(b);try{for(f.s();!(d=f.n()).done;){var O=d.value;m.push({x:O[0]/o,y:O[1]/o})}}catch(h){f.e(h)}finally{f.f()}m.pop(),u.push(m)}}catch(h){l.e(h)}finally{l.f()}return[u,null]}function fe(e){e||console.error("bad border",e);var t=e.reduce((function(e,t){return e.x>t.x?t:e})).x,n=e.reduce((function(e,t){return e.y>t.y?t:e})).y,r=e.reduce((function(e,t){return e.x<t.x?t:e})).x,o=e.reduce((function(e,t){return e.y<t.y?t:e})).y;return{leftBottom:{x:t,y:n},rightTop:{x:r,y:o}}}function Oe(e,t,n){var r,o=e.map((function(e){return W["point"]([e.x,e.y])})),i=W["featureCollection"](o),a=W["voronoi"](i,{bbox:[t.x,t.y,n.x,n.y]}),c={},s=0,u=Object(p["a"])(a.features);try{for(u.s();!(r=u.n()).done;){var l=r.value;if(!l)return[{},v("getVoronoiCellsInSquare: undefined cell",{centers:e,leftBottom:t,rightTop:n,cells:a})];var d=l.geometry.coordinates[0].map((function(e){return{x:e[0],y:e[1]}}));d.pop(),c[s]=d,s++}}catch(b){u.e(b)}finally{u.f()}return[c,null]}function ve(e,t){if(!e)return[[],v("getVoronoiCells: bad outerBorder",{outerBorder:e,centers:t})];var n=fe(e),r=Oe(t,n.leftBottom,n.rightTop),o=Object(l["a"])(r,2),i=o[0],a=o[1];if(a)return[[],v("getVoronoiCells: error in getVoronoiCellsInSquare",{err:a,bb:n,centers:t})];var c=[];for(var s in t){if(!i[s])return[[],v("Cannot find index in cellMap",{index:s,centers:t,cellMap:i,BoundingBorders:n,outerBorder:e})];var u=me(i[s],e),d=Object(l["a"])(u,2),p=d[0],b=d[1];if(null==p||null!=b)return[[],v("getVoronoiCells error",{err:b,cellBorder:i[s],outerBorder:e})];if(p==[])return[[],v("Voronoi cell has no intersection with outerBorder",{point:t[s]})];if(p.length>1)return[[],v("Voronoi cell has more than one intersection with outerBorder",{point:t[s]})];c.push({border:p[0],center:t[s]})}return[c,null]}function he(e,t,n){return e&&e==t?"#f3afaf":n&&-1!=n.indexOf(t)?"#62f363":"transparent"}function ge(e,t,n){return e&&e==t||n&&-1!=n.indexOf(t)?"0.2":"0"}function je(e){return e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(",")}function ye(e){var t={},n=[{node:e,parent:null}],r=function(){var e=n.pop();if(!e)return"break";t[e.node.id]=e,n.push.apply(n,Object(q["a"])(e.node.children.map((function(t){return{node:t,parent:e.node}}))))};while(n.length){var o=r();if("break"===o)break}return t}function xe(e,t){return{from:{x:t.x,y:t.y},to:{x:t.x+(e.to.x-e.from.x),y:t.y+(e.to.y-e.from.y)}}}function Ie(e,t){var n=xe(t,e.to);return{from:{x:e.from.x,y:e.from.y},to:{x:n.to.x,y:n.to.y}}}function Ne(e,t){var n=xe(e,{x:0,y:0});return xe({from:{x:0,y:0},to:{x:n.to.x*t,y:n.to.y*t}},e.from)}function we(e,t){return xe(t,e).to}function ke(e,t){var n=e.from.x,r=e.from.y,o=e.to.x,i=e.to.y,a=t.from.x,c=t.from.y,s=t.to.x,u=t.to.y,l=(u-c)*(o-n)-(s-a)*(i-r),d=(s-a)*(r-c)-(u-c)*(n-a),p=(o-n)*(r-c)-(i-r)*(n-a);if(0==l)return null;var b=d/l,m=p/l;return b>=0&&b<=1&&m>=0&&m<=1?{x:n+b*(o-n),y:r+b*(i-r)}:null}function De(e,t,n){var r=W["centerOfMass"](le(e)).geometry;if(null==r)return[null,v("morphChildrenPoints oldBorder centerOfMass error",{oldBorder:e,oldPoints:n})];var o=W["centerOfMass"](le(t)).geometry;if(null==o)return[null,v("morphChildrenPoints newBorder centerOfMass error",{newBorder:t,oldPoints:n})];var i={x:r.coordinates[0],y:r.coordinates[1]},a={x:o.coordinates[0],y:o.coordinates[1]};for(var c in e=e.map((function(e){return we(e,{from:i,to:a})})),n)n[c]=we(n[c],{from:i,to:a});var s=Math.max(ue({from:fe(e).leftBottom,to:fe(e).rightTop}),ue({from:fe(t).leftBottom,to:fe(t).rightTop})),u={};for(var l in n){var d=n[l];if(a.x!=d.x||a.y!=d.y){var p={from:a,to:n[l]};p=Ne(p,s/ue(p));var b=null;for(var m in e){var f={from:e[m],to:e[(Number(m)+1)%e.length]},O=ke(p,f);if(null!=O){b=O;break}}if(null==b)return[null,v("morphChildrenPoints cannot find intersection with oldBorder",{centerToPoint:p,oldBorder:e})];var h=null;for(var g in t){var j={from:t[g],to:t[(Number(g)+1)%t.length]},y=ke(p,j);if(null!=y){h=y;break}}if(null==h)return[null,v("morphChildrenPoints cannot find intersection with newBorder",{centerToPoint:p,newBorder:t})];if(b.x!=h.x||b.y!=h.y){var x=ue({from:a,to:h})/ue({from:a,to:b});u[l]=Ne({from:a,to:d},x).to}else u[l]=d}else u[l]=d}return[u,null]}function Te(){return{from:{x:0,y:0},to:{x:0,y:0}}}function Ee(e){if(!e||e.length<3)return[Te(),v("getMaxDiagonal: bad polygon",{polygon:e})];var t=[];if(3==e.length)for(var n in e){var r=Ne({from:e[X(Number(n)-1,e.length)],to:e[X(Number(n)+1,e.length)]},.5);t.push({from:e[n],to:r.to})}else for(var o in e)for(var i in e)Number(i)!=X(Number(o)-1,e.length)&&Number(i)!=Number(o)&&Number(i)!=X(Number(o)+1,e.length)&&t.push({from:e[o],to:e[i]});for(var a=t[0],c=0,s=t;c<s.length;c++){var u=s[c];ue(u)>ue(a)&&(a=u)}return[a,null]}function _e(e,t,n,r){var o;if(n){var i,a,c=te(n,r),s=Object(l["a"])(c,1),u=s[0];if(!u)return[null,v("UPDATE_NODE: Cannot findMapNode",{id:n})];if("denormalize"===e){if(!de(t,se))return[null,v("convertPosition: position outside NORMALIZED_BORDER",{normalizedBorder:se,position:t,parentID:n})];var d=De(se,u.border,{tmp:t}),p=Object(l["a"])(d,2);i=p[0],a=p[1]}else{if(!de(t,u.border))return[null,v("convertPosition: position outside parentMapNode.border",{"parentMapNode.border":u.border,"parentMapNode.center":u.center,position:t,parentID:n})];var b=De(u.border,se,{tmp:t}),m=Object(l["a"])(b,2);if(i=m[0],a=m[1],null!==a)return[null,v("UPDATE_NODE: Cannot morphChildrenPoints",{type:e,normalizedBorder:se,"parentMapNode.border":u.border,"dbNode.position":t})];i["tmp"].x<0&&(i["tmp"].x=1),i["tmp"].x>S.ST_WIDTH&&(i["tmp"].x=S.ST_WIDTH-1),i["tmp"].y<0&&(i["tmp"].y=1),i["tmp"].y>S.ST_HEIGHT&&(i["tmp"].y=S.ST_HEIGHT-1)}if(null!==a)return[null,v("UPDATE_NODE: Cannot morphChildrenPoints",{type:e,normalizedBorder:se,"parentMapNode.border":u.border,"dbNode.position":t})];o=i["tmp"]}else o="denormalize"===e?{x:S.ROOT_CENTER_X,y:S.ROOT_CENTER_Y}:{x:S.ST_WIDTH/2,y:S.ST_HEIGHT/2};return[o,null]}function Re(e,t,n){if(0==Object.keys(e).length)return[[],null];var r=[[e]],o=[Object(u["a"])({},e.id,{id:e.id,border:t,title:e.title,center:n})];while(1){var i,a=r[r.length-1],c=o[r.length-1],s=[],d={},b=Object(p["a"])(a);try{for(b.s();!(i=b.n()).done;){var m=i.value;if(!m.children)return[null,v("treeToMapNodeLayers: treeNode with children undefined",{treeNode:m})];if(m.children.length){var f={},O="";for(var h in m.children){if(O=JSON.stringify(m.children[h].position),f[O]&&f[O].length>0)return[null,v("two children has the same center",{firstId:f[O],secondId:m.children[h].id})];f[O]=m.children[h].id}if(s.push.apply(s,Object(q["a"])(m.children)),!c[m.id])return[null,v("Cannot find node in mapNodeLayers",{layer:o[o.length-1],treeNode:m})];var g,j=K(m.children),y=Object(p["a"])(j);try{for(y.s();!(g=y.n()).done;){var x=g.value,I=_e("denormalize",x.position,m.id,[c]),N=Object(l["a"])(I,2),w=N[0],k=N[1];if(k)return[null,k];x.position=w}}catch(B){y.e(B)}finally{y.f()}var D=ve(c[m.id].border,j.map((function(e){return{x:e.position.x,y:e.position.y}}))),T=Object(l["a"])(D,2),E=T[0],_=T[1];if(null!=_)return[null,_];var R,C=Object(p["a"])(E);try{for(C.s();!(R=C.n()).done;){var S,P=R.value,A=Object(p["a"])(j);try{for(A.s();!(S=A.n()).done;){var M=S.value;M.position.x==P.center.x&&M.position.y==P.center.y&&(d[M.id]={id:M.id,title:M.title,center:M.position,border:P.border})}}catch(B){A.e(B)}finally{A.f()}}}catch(B){C.e(B)}finally{C.f()}}}}catch(B){b.e(B)}finally{b.f()}if(!s.length)return[o,null];r.push(s),o.push(d)}}function Ce(e,t,n){if(n>=e.length||n<0)return v("startFromLevel >= recipientLayers.length or startFromLevel < 0",{startFromLevel:n,"recipientLayers.length":e.length});var r=n;while(r<n+t.length){for(var o in t[r-n])e[r][o]=t[r-n][o];r++}return null}var Se={SET_CONTENTS:"SET_CONTENTS",SET_USER_COMMENTS:"SET_USER_COMMENTS",SET_NODE_CONTENT:"SET_NODE_CONTENT",SET_NODE_COMMENT:"SET_NODE_COMMENT"},Pe={getNodeContent:"getNodeContent",setNodeContent:"setNodeContent",setNodeComment:"setNodeComment"},Ae={nodeID:"",content:""};function Me(e,t){e[t]||(e[t]=K(Ae),e[t].nodeID=t)}var Be={nodeID:"",comment:""};function Le(e,t){e[t]||(e[t]=K(Be),e[t].nodeID=t)}var ze,Ve,He={namespaced:!0,state:{nodeContents:{},userNodeComments:{}},actions:(ae={},Object(u["a"])(ae,Pe.getNodeContent,(function(e,t){var n=e.state;return n.nodeContents[t]})),Object(u["a"])(ae,Pe.setNodeComment,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.commit,i=e.rootState,i.user.user&&!i.user.user.isAnonymous){n.next=3;break}return n.abrupt("return",null);case 3:return n.next=5,S.debouncedUpdate((r={},Object(u["a"])(r,"user_data/".concat(i.user.user.uid,"/comment/").concat(t.nodeID,"/nodeID"),t.nodeID),Object(u["a"])(r,"user_data/".concat(i.user.user.uid,"/comment/").concat(t.nodeID,"/comment"),t.comment),r));case 5:if(a=n.sent,!a){n.next=8;break}return n.abrupt("return",a);case 8:return o("".concat(Se.SET_NODE_COMMENT),t),n.abrupt("return",null);case 10:case"end":return n.stop()}}),n)})))()})),Object(u["a"])(ae,Pe.setNodeContent,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,e.state,o("".concat(Se.SET_NODE_CONTENT),t),n.next=4,S.debouncedUpdate((r={},Object(u["a"])(r,"node_content/".concat(t.nodeID,"/nodeID"),t.nodeID),Object(u["a"])(r,"node_content/".concat(t.nodeID,"/content"),t.content),r));case 4:if(i=n.sent,!i){n.next=7;break}return n.abrupt("return",i);case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})))()})),ae),mutations:(ce={},Object(u["a"])(ce,Se.SET_CONTENTS,(function(e,t){e.nodeContents=t})),Object(u["a"])(ce,Se.SET_USER_COMMENTS,(function(e,t){e.userNodeComments=t})),Object(u["a"])(ce,Se.SET_NODE_CONTENT,(function(e,t){Me(e.nodeContents,t.nodeID),e.nodeContents[t.nodeID].content=t.content})),Object(u["a"])(ce,Se.SET_NODE_COMMENT,(function(e,t){Le(e.userNodeComments,t.nodeID),e.userNodeComments[t.nodeID].comment=t.comment})),ce)},Ue=(n("ac1f"),n("841c"),n("5bd5")),qe=new Ue["Worker"]({language:"en",tokenize:"forward"});function Je(e,t){qe.add(e,t)}function We(e){return qe.search(e)}var Ge,$e={SET_USER:"SET_USER",SET_SUBSCRIBE_PERIOD:"SET_SUBSCRIBE_PERIOD"},Ye={signIn:"signIn",signOut:"signOut",setSubscribePeriod:"setSubscribePeriod"},Fe={namespaced:!0,state:{user:null,subscribePeriod:""},mutations:(ze={},Object(u["a"])(ze,$e.SET_USER,(function(e,t){e.user=t})),Object(u["a"])(ze,$e.SET_SUBSCRIBE_PERIOD,(function(e,t){e.subscribePeriod=t})),ze),actions:(Ve={},Object(u["a"])(Ve,Ye.signIn,(function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.next=3,O["a"].auth().signInWithPopup(new O["a"].auth.GoogleAuthProvider);case 3:case"end":return t.stop()}}),t)})))()})),Object(u["a"])(Ve,Ye.signOut,(function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,O["a"].auth().signOut();case 3:n($e.SET_USER,null);case 4:case"end":return t.stop()}}),t)})))()})),Object(u["a"])(Ve,Ye.setSubscribePeriod,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,o=e.state,o.user){n.next=3;break}return n.abrupt("return");case 3:return r($e.SET_SUBSCRIBE_PERIOD,t),n.next=6,S.setUserSubscribePeriod(o.user,t);case 6:case"end":return n.stop()}}),n)})))()})),Ve)};function Xe(e){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.getMap(t);case 2:if(n=e.sent,r=Object(l["a"])(n,2),o=r[0],i=r[1],(null===o||i)&&Q("fetchMap: cannot api.getMap(user)",{err:i}),a=w(o),c=Object(l["a"])(a,2),s=c[0],u=c[1],null===u){e.next=10;break}return e.abrupt("return",[null,u]);case 10:for(d in Ut.commit("tree/".concat(xt.SET_TREE),s),o)Qe(d);case 12:case"end":return e.stop()}}),e)}))),Ze.apply(this,arguments)}function Ke(e){S.unsubscribeDBChange("map/".concat(e)),S.unsubscribeDBChange("node_content/".concat(e)),S.unsubscribeDBChange("precondition/".concat(e)),S.unsubscribeDBChange("node_image/".concat(e))}function Qe(e){S.subscribeMapNodeChange(e,(function(e){return Ut.dispatch("tree/".concat(It.handleMapNodeUpdate),e)})),S.subscribeNodeContentChange(e,(function(e){Je(e.nodeID,e.content),Ut.commit("nodeContent/".concat(Se.SET_NODE_CONTENT),e)})),S.subscribePreconditionNodeChange(e),S.subscribeNodeImageChange(e)}function et(e){return tt.apply(this,arguments)}function tt(){return tt=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.getPins(t);case 2:if(n=e.sent,r=Object(l["a"])(n,2),o=r[0],i=r[1],null==o&&(i?console.error("fetchPins",i):console.log("fetchPins: empty pins")),!t||o){e.next=15;break}return e.next=10,S.getPins(null);case 10:a=e.sent,c=Object(l["a"])(a,2),o=c[0],i=c[1],(null==o||i)&&(console.error(i),o={});case 15:Ut.commit("pin/".concat(b.SET_PINS),o);case 16:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}function nt(e){return rt.apply(this,arguments)}function rt(){return rt=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.getUserSubscribePeriod(t);case 4:n=e.sent,Ut.commit("user/".concat($e.SET_SUBSCRIBE_PERIOD),n);case 6:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}function ot(e){return it.apply(this,arguments)}function it(){return it=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.getSubscriptions(t);case 2:n=e.sent,r=Object(l["a"])(n,2),o=r[0],i=r[1],null==o&&(i?console.error("fetchSubscriptions",i):console.log("fetchSubscriptions: empty")),Ut.commit("subscriptions/".concat(P.SET_SUBSCRIPTIONS),o);case 8:case"end":return e.stop()}}),e)}))),it.apply(this,arguments)}function at(e){return ct.apply(this,arguments)}function ct(){return ct=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.getPreconditions(t);case 2:if(n=e.sent,r=Object(l["a"])(n,2),o=r[0],i=r[1],(null==o||i)&&(console.error(i),o={}),!t||o){e.next=15;break}return e.next=10,S.getPreconditions(null);case 10:a=e.sent,c=Object(l["a"])(a,2),o=c[0],i=c[1],(null==o||i)&&(console.error(i),o={});case 15:Ut.commit("precondition/".concat(j.SET_PRECONDITIONS),o);case 16:case"end":return e.stop()}}),e)}))),ct.apply(this,arguments)}function st(e){return ut.apply(this,arguments)}function ut(){return ut=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.getNodeContent();case 2:if(n=e.sent,r=Object(l["a"])(n,2),o=r[0],i=r[1],null!=o&&!i){e.next=9;break}return Q("fetchNodeContents error",{err:i}),e.abrupt("return");case 9:for(c in a={},o)a[c]={nodeID:o[c].nodeID,content:o[c].content};if(Ut.commit("nodeContent/".concat(Se.SET_CONTENTS),a),!t){e.next=25;break}return e.next=15,S.getUserComments(t);case 15:if(s=e.sent,u=Object(l["a"])(s,2),d=u[0],p=u[1],!p){e.next=22;break}return Q("fetch userComments error",{err:p,user:t}),e.abrupt("return");case 22:if(null!==d){e.next=24;break}return e.abrupt("return");case 24:Ut.commit("nodeContent/".concat(Se.SET_USER_COMMENTS),d);case 25:case"end":return e.stop()}}),e)}))),ut.apply(this,arguments)}function lt(e){return dt.apply(this,arguments)}function dt(){return dt=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return e.next=4,et(t);case 4:return e.next=6,nt(t);case 6:return e.next=8,ot(t);case 8:return e.next=10,at(t);case 10:return e.next=12,st(t);case 12:case"end":return e.stop()}}),e)}))),dt.apply(this,arguments)}var pt=2560,bt=2e3,mt=1/3,ft=[{x:0,y:mt*bt},{x:0,y:2*mt*bt},{x:mt/2.5*pt,y:(1-mt/4)*bt},{x:mt*pt,y:bt},{x:2*mt*pt,y:bt},{x:(1-mt/2.5)*pt,y:(1-mt/4)*bt},{x:pt,y:2*mt*bt},{x:pt,y:mt*bt},{x:(1-mt/2.5)*pt,y:mt/4*bt},{x:2*mt*pt,y:0},{x:mt*pt,y:0},{x:mt/2.5*pt,y:mt/4*bt}],Ot={x:S.ROOT_CENTER_X,y:S.ROOT_CENTER_Y},vt=Math.min(S.ROOT_WIDTH/pt,S.ROOT_HEIGHT/bt);for(var ht in ft)ft[ht].x=vt*ft[ht].x+S.ROOT_CENTER_X-vt*pt/2,ft[ht].y=vt*ft[ht].y+S.ROOT_CENTER_Y-vt*bt/2;var gt,jt,yt,xt={SET_SELECTED_NODE_ID:"SET_SELECTED_NODE_ID",SET_TREE:"SET_TREE",UPDATE_NODE_POSITION:"UPDATE_NODE_POSITION",REMOVE_NODE:"REMOVE_NODE"},It={handleMapNodeUpdate:"handleMapNodeUpdate"},Nt={namespaced:!0,state:function(){return{tree:null,nodeRecord:{},mapNodeLayers:[],selectedNodeId:null}},getters:{selectedNode:function(e){return e.selectedNodeId&&e.nodeRecord[e.selectedNodeId]?e.nodeRecord[e.selectedNodeId].node:null}},actions:Object(u["a"])({},It.handleMapNodeUpdate,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i,a,c,s,u,d,b,m,f,O,v,h,g,j,y,x,I,N,w,k,D,T,E;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,o=e.state,i=o.nodeRecord[t.id],i){n.next=4;break}return n.abrupt("return");case 4:if(a={id:i.node.id,parentID:i.parent?i.parent.id:null,name:i.node.title,children:i.node.children.map((function(e){return e.id})).sort(),position:i.node.position},c=t.children.filter((function(e){return!a.children.includes(e)})),s=a.children.filter((function(e){return!t.children.includes(e)})),!c.length){n.next=29;break}u=Object(p["a"])(c),n.prev=9,b=regeneratorRuntime.mark((function e(){var n,i,a,c,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=d.value,o.nodeRecord[n]&&(console.log("actions.handleDBUpdate: remove node for cut-and-paste",o.nodeRecord[n]),i={nodeID:n,returnError:null},r(xt.REMOVE_NODE,{nodeID:n,returnError:null}),i.returnError&&Q("handleDBUpdate: cannot cut node",{err:i.returnError})),e.next=4,S.getMapNode(n);case 4:if(a=e.sent,console.log("actions.handleDBUpdate: add node for cut-and-paste",a),c=[a],a){e.next=11;break}return t.children=t.children.filter((function(e){return e!=n})),Q("Cannot find node for addition",{nodeID:n}),e.abrupt("return","continue");case 11:s=regeneratorRuntime.mark((function e(){var t,n,r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=c.pop(),t){e.next=3;break}return e.abrupt("return","continue");case 3:if(n={id:t.id,title:t.name,position:t.position,children:[]},o.nodeRecord[t.parentID]){e.next=7;break}return Q("Cannot find nodeID in nodeRecord",{nodeID:t.parentID}),e.abrupt("return",{v:{v:void 0}});case 7:o.nodeRecord[t.parentID].node.children=o.nodeRecord[t.parentID].node.children.filter((function(e){return e.id!=n.id})),o.nodeRecord[t.parentID].node.children.push(n),o.nodeRecord[n.id]={parent:o.nodeRecord[t.parentID].node,node:n},Qe(n.id),r=Object(p["a"])(t.children),e.prev=12,a=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.value,e.next=3,S.getMapNode(n);case 3:if(r=e.sent,r){e.next=8;break}return t.children=t.children.filter((function(e){return e!=n})),Q("Cannot find node for addition",{nodeID:n}),e.abrupt("return","continue");case 8:c.push(r);case 9:case"end":return e.stop()}}),e)})),r.s();case 15:if((i=r.n()).done){e.next=22;break}return e.delegateYield(a(),"t0",17);case 17:if(s=e.t0,"continue"!==s){e.next=20;break}return e.abrupt("continue",20);case 20:e.next=15;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](12),r.e(e.t1);case 27:return e.prev=27,r.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[12,24,27,30]])}));case 12:if(!c.length){e.next=21;break}return e.delegateYield(s(),"t0",14);case 14:if(u=e.t0,"continue"!==u){e.next=17;break}return e.abrupt("continue",12);case 17:if("object"!==Object(J["a"])(u)){e.next=19;break}return e.abrupt("return",u.v);case 19:e.next=12;break;case 21:case"end":return e.stop()}}),e)})),u.s();case 12:if((d=u.n()).done){n.next=21;break}return n.delegateYield(b(),"t0",14);case 14:if(m=n.t0,"continue"!==m){n.next=17;break}return n.abrupt("continue",19);case 17:if("object"!==Object(J["a"])(m)){n.next=19;break}return n.abrupt("return",m.v);case 19:n.next=12;break;case 21:n.next=26;break;case 23:n.prev=23,n.t1=n["catch"](9),u.e(n.t1);case 26:return n.prev=26,u.f(),n.finish(26);case 29:if(!s.length){n.next=54;break}f=Object(p["a"])(s),n.prev=31,f.s();case 33:if((O=f.n()).done){n.next=46;break}if(v=O.value,o.nodeRecord[v]&&o.nodeRecord[v].parent){n.next=37;break}return n.abrupt("continue",44);case 37:if(!o.nodeRecord[v]||o.nodeRecord[v].parent.id===t.id){n.next=39;break}return n.abrupt("continue",44);case 39:console.log("actions.handleDBUpdate: removing children",o.nodeRecord[v]),h={nodeID:v,returnError:null},r(xt.REMOVE_NODE,h),h.returnError&&Q("actions.handleDBUpdate: cannot remove node",{err:h.returnError,id:v}),Ke(v);case 44:n.next=33;break;case 46:n.next=51;break;case 48:n.prev=48,n.t2=n["catch"](31),f.e(n.t2);case 51:return n.prev=51,f.f(),n.finish(51);case 54:if(!s.length&&!c.length){n.next=60;break}if(g=Re(o.tree,ft,Ot),j=Object(l["a"])(g,2),y=j[0],x=j[1],!x){n.next=59;break}return Q("Cannot treeToMapNodeLayers",{err:x}),n.abrupt("return");case 59:o.mapNodeLayers=y;case 60:if(Z(t.position.x)===Z(a.position.x)&&Z(t.position.y)===Z(a.position.y)){n.next=68;break}if(I=_e("denormalize",t.position,i.parent?i.parent.id:null,o.mapNodeLayers),N=Object(l["a"])(I,1),w=N[0],a.parentID!=t.parentID){n.next=68;break}if(k={nodeId:t.id,newCenter:w,returnError:null},r(xt.UPDATE_NODE_POSITION,k),null===k.returnError){n.next=68;break}return Q("actions.handleDBUpdate: cannot update node's position",{dbNode:t,err:k.returnError}),n.abrupt("return");case 68:if(a.name===t.name){n.next=74;break}if(i.node.title=t.name,D=te(a.id,o.mapNodeLayers),T=Object(l["a"])(D,1),E=T[0],E){n.next=73;break}return n.abrupt("return");case 73:E.title=t.name;case 74:case"end":return n.stop()}}),n,null,[[9,23,26,29],[31,48,51,54]])})))()})),mutations:(Ge={},Object(u["a"])(Ge,xt.REMOVE_NODE,(function(e,t){if(null!==e.tree)if(e.nodeRecord[t.nodeID]){var n=e.nodeRecord[t.nodeID].parent;if(n){var r=[t.nodeID];while(r.length){var o=r.pop();o&&(r.push.apply(r,Object(q["a"])(e.nodeRecord[o].node.children.map((function(e){return e.id})))),delete e.nodeRecord[o])}var i=n.children.findIndex((function(e){return e.id===t.nodeID}));n.children.splice(i,1)}else t.returnError=v("REMOVE_NODE: cannot remove root node",{nodeId:t.nodeID})}else t.returnError=v("REMOVE_NODE: cannot find nodeId in nodeRecord",{nodeID:t.nodeID,nodeRecord:e.nodeRecord});else t.returnError=v("state.tree === null",{})})),Object(u["a"])(Ge,xt.SET_SELECTED_NODE_ID,(function(e,t){e.selectedNodeId=t})),Object(u["a"])(Ge,xt.SET_TREE,(function(e,t){if(null==t)return e.tree=null,e.nodeRecord={},void(e.mapNodeLayers=[]);e.tree=t,e.nodeRecord=ye(t);var n=Re(t,ft,Ot),r=Object(l["a"])(n,2),o=r[0],i=r[1];null!=o&&null==i?e.mapNodeLayers=o:console.error(i)})),Object(u["a"])(Ge,xt.UPDATE_NODE_POSITION,(function(e,t){var n=e.nodeRecord[t.nodeId].parent;if(null!==n){var r=te(n.id,e.mapNodeLayers),o=Object(l["a"])(r,1),i=o[0];if(!i)return void(t.returnError=v("UPDATE_NODE_POSITION: cannot find parent mapNode",{"parent.id":n.id,"state.mapNodeLayers":e.mapNodeLayers}));if(!de(t.newCenter,i.border))return void(t.returnError=v("!isInside",{newCenter:t.newCenter,"parentMapNode.border":i.border}))}t.returnError=ie(e,{nodeId:t.nodeId,position:t.newCenter})})),Ge)},wt={ADD_ZOOM:"ADD_ZOOM",ADD_PAN:"ADD_PAN",ADD_RELATIVE_PAN:"ADD_RELATIVE_PAN",SET_PAN:"SET_PAN",SET_ZOOM_CENTER:"SET_ZOOM_CENTER",RESET_ZOOM_AND_PAN:"RESET_ZOOM_AND_PAN"},kt=.002,Dt=1,Tt=100,Et=Object(T["debounce"])((function(e,t){e.debouncedZoom=t,e.relative.zoom=1}),Tt),_t=Object(T["debounce"])((function(e,t){e.debouncedPan=t,e.relative.pan={x:0,y:0}}),Tt),Rt={namespaced:!0,state:{zoom:1,pan:{x:0,y:0},debouncedZoom:1,debouncedPan:{x:0,y:0},zoomCenter:{x:0,y:0},relative:{zoom:1,pan:{x:0,y:0}}},mutations:(gt={},Object(u["a"])(gt,wt.SET_ZOOM_CENTER,(function(e,t){e.zoomCenter=t})),Object(u["a"])(gt,wt.ADD_ZOOM,(function(e,t){var n=e.zoom*Math.pow(2,t*kt);n<.5||(e.zoom=n,e.relative.zoom=e.relative.zoom*Math.pow(2,t*kt),Et(e,e.zoom))})),Object(u["a"])(gt,wt.ADD_PAN,(function(e,t){e.pan=Ie({from:{x:0,y:0},to:e.pan},Ne(t,Dt)).to,_t(e,e.pan)})),Object(u["a"])(gt,wt.ADD_RELATIVE_PAN,(function(e,t){e.relative.pan=Ie({from:{x:0,y:0},to:e.relative.pan},Ne(t,Dt)).to,_t(e,e.pan)})),Object(u["a"])(gt,wt.SET_PAN,(function(e,t){e.pan=t,_t(e,e.pan)})),Object(u["a"])(gt,wt.RESET_ZOOM_AND_PAN,(function(e,t){e.pan={x:0,y:0},_t(e,e.pan),e.zoom=1,Et(e,e.zoom)})),gt)},Ct={ADD_CUT_PASTE:"ADD_CUT_PASTE",ADD_CREATE:"ADD_CREATE",ADD_REMOVE:"ADD_REMOVE",ADD_POSITION_CHANGE:"ADD_POSITION_CHANGE"};(function(e){e["CUT_PASTE"]="CUT_PASTE",e["CREATE"]="CREATE",e["REMOVE"]="REMOVE",e["POSITION_CHANGE"]="POSITION_CHANGE"})(yt||(yt={}));var St,Pt={CUT_PASTE:"CUT_PASTE",CREATE:"CREATE",REMOVE:"REMOVE",POSITION_CHANGE:"POSITION_CHANGE"},At={namespaced:!0,state:{stableChangeList:{},localChangeList:{}},mutations:(jt={},Object(u["a"])(jt,Ct.ADD_CUT_PASTE,(function(e,t){e.localChangeList[t.nodeID]||(e.localChangeList[t.nodeID]={}),e.localChangeList[t.nodeID][Pt.CREATE]?e.localChangeList[t.nodeID][Pt.CREATE].parentID=t.newParentID:e.localChangeList[t.nodeID][Pt.CUT_PASTE]=t})),Object(u["a"])(jt,Ct.ADD_CREATE,(function(e,t){e.localChangeList[t.nodeID]||(e.localChangeList[t.nodeID]={}),e.localChangeList[t.nodeID][Pt.CREATE]=t})),Object(u["a"])(jt,Ct.ADD_REMOVE,(function(e,t){e.localChangeList[t.nodeID]={},e.localChangeList[t.nodeID][Pt.REMOVE]=t})),Object(u["a"])(jt,Ct.ADD_POSITION_CHANGE,(function(e,t){e.localChangeList[t.nodeID]||(e.localChangeList[t.nodeID]={});var n=t.oldPosition;e.localChangeList[t.nodeID][Pt.POSITION_CHANGE]&&(n=e.localChangeList[t.nodeID][Pt.POSITION_CHANGE].oldPosition),e.localChangeList[t.nodeID][Pt.POSITION_CHANGE]={nodeID:t.nodeID,oldPosition:n,newPosition:t.newPosition}})),jt),actions:{}},Mt=(n("fb6a"),{SET_NODE_IDS:"SET_NODE_IDS"}),Bt={namespaced:!0,state:{nodeIDs:[]},mutations:Object(u["a"])({},Mt.SET_NODE_IDS,(function(e,t){t.length>20?e.nodeIDs=t.slice(0,20):e.nodeIDs=t}))},Lt={init:"init",updateNodePosition:"updateNodePosition",createNode:"createNode",cutPasteNode:"cutPasteNode",removeNode:"removeNode",setEditMode:"setEditMode",confirmSignInPopup:"confirmSignInPopup"},zt={SET_EDIT_MODE:"SET_EDIT_MODE"},Vt=Object(T["debounce"])((function(e,t,n,r){var o=_e("normalize",t,n,r),i=Object(l["a"])(o,1),a=i[0];S.update(Object(u["a"])({},"map/".concat(e,"/position"),a))}),200),Ht=Symbol(),Ut=Object(d["a"])({state:{editModeOn:!1},mutations:Object(u["a"])({},zt.SET_EDIT_MODE,(function(e,t){e.editModeOn=t})),actions:(St={},Object(u["a"])(St,Lt.confirmSignInPopup,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.dispatch,t.confirm.require({message:t.message,header:"SignIn",acceptLabel:"Ok, Sign In",rejectLabel:"No, thanks, just watching",accept:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r("user/".concat(Ye.signIn));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),reject:function(){}});case 2:case"end":return n.stop()}}),n)})))()})),Object(u["a"])(St,Lt.setEditMode,(function(e,t){var n=e.commit;n(zt.SET_EDIT_MODE,t)})),Object(u["a"])(St,Lt.init,(function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,S.initFirebase(),O["a"].auth().onAuthStateChanged((function(e){e&&!e.isAnonymous?(S.setPublicUserData(e.uid,e.displayName,null),n("user/".concat($e.SET_USER),e),lt(e)):(n("user/".concat($e.SET_USER),null),lt(null))}));case 3:case"end":return t.stop()}}),t)})))()})),Object(u["a"])(St,Lt.createNode,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i,a,c,s,d,p,b,m,f,O,v,h,g,j,y,x,I,N,w;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.commit,i=e.state,a=i.tree.nodeRecord[t.parentID].node,c=oe(a,i.tree.mapNodeLayers,!0),s=Object(l["a"])(c,3),d=s[0],p=s[1],b=s[2],null===b){n.next=6;break}return Q("Cannot create new center",{err:b,parent:a,"state.tree.mapNodeLayers":i.tree.mapNodeLayers}),n.abrupt("return");case 6:if(m=_e("normalize",d,t.parentID,i.tree.mapNodeLayers),f=Object(l["a"])(m,2),O=f[0],v=f[1],!v){n.next=10;break}return Q("createNode: cannot create new center",{err:v,parent:a,"state.tree.mapNodeLayers":i.tree.mapNodeLayers}),n.abrupt("return");case 10:return h=re(t.title,O),g={id:h.id,parentID:t.parentID,name:t.title,children:[],position:O},j=S.generateKey(),r={},Object(u["a"])(r,"map/".concat(g.id),g),Object(u["a"])(r,"map/".concat(g.parentID,"/children/").concat(j),g.id),y=r,p&&(x=_e("normalize",p.position,t.parentID,i.tree.mapNodeLayers),I=Object(l["a"])(x,1),N=I[0],y["map/".concat(p.id,"/position")]=N),n.next=17,S.getMapNode(t.parentID);case 17:if(w=n.sent,w){n.next=21;break}return console.error("Cannot find parent to add node",t.parentID),n.abrupt("return");case 21:return n.next=23,S.update(y);case 23:return o("history/".concat(Ct.ADD_CREATE),{nodeID:h.id,parentID:t.parentID}),n.abrupt("return",h.id);case 25:case"end":return n.stop()}}),n)})))()})),Object(u["a"])(St,Lt.cutPasteNode,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i,a,c,s,d,p,b,m,f,O,v,h,g,j,y,x,I,N;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.commit,i=e.state,a=i.tree.nodeRecord[t.nodeID].parent,c=i.tree.nodeRecord[t.parentID].node,s=oe(c,i.tree.mapNodeLayers,!0),d=Object(l["a"])(s,3),p=d[0],b=d[1],m=d[2],!m){n.next=7;break}return Q("cutPasteNode: cannot getNewNodeCenter",{err:m}),n.abrupt("return");case 7:if(f=_e("normalize",p,t.parentID,i.tree.mapNodeLayers),O=Object(l["a"])(f,2),v=O[0],h=O[1],!h){n.next=11;break}return Q("cutPasteNode: cannot create new center",{err:h,parent:parent,"state.tree.mapNodeLayers":i.tree.mapNodeLayers}),n.abrupt("return");case 11:return g=S.generateKey(),n.next=14,S.findKeyOfChild(a.id,t.nodeID);case 14:return j=n.sent,r={},Object(u["a"])(r,"map/".concat(t.nodeID,"/parentID"),c.id),Object(u["a"])(r,"map/".concat(a.id,"/children/").concat(j),null),Object(u["a"])(r,"map/".concat(c.id,"/children/").concat(g),t.nodeID),Object(u["a"])(r,"map/".concat(t.nodeID,"/position"),v),y=r,b&&(x=_e("normalize",b.position,t.parentID,i.tree.mapNodeLayers),I=Object(l["a"])(x,1),N=I[0],y["map/".concat(b.id,"/position")]=N),n.next=19,S.update(y);case 19:o("history/".concat(Ct.ADD_CUT_PASTE),{nodeID:t.nodeID,parentID:t.parentID});case 20:case"end":return n.stop()}}),n)})))()})),Object(u["a"])(St,Lt.removeNode,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,o=e.state,i=o.tree.nodeRecord[t].parent,i){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,S.update(Object(u["a"])({},"cmd/remove",t));case 6:r("history/".concat(Ct.ADD_REMOVE),{parentNodeID:i.id,nodeID:t});case 7:case"end":return n.stop()}}),n)})))()})),Object(u["a"])(St,Lt.updateNodePosition,(function(e,t){var n=e.commit,r=e.state;if(r.editModeOn){var o=te(t.nodeId,r.tree.mapNodeLayers),i=Object(l["a"])(o,1),a=i[0];if(!a)return v("UPDATE_NODE_POSITION: cannot find mapNode",{"v.nodeId":t.nodeId,"state.mapNodeLayers":r.tree.mapNodeLayers});var c=Ie({from:{x:0,y:0},to:a.center},{from:{x:0,y:0},to:t.delta}).to,s={nodeId:t.nodeId,newCenter:c,returnError:null};n("tree/".concat(xt.UPDATE_NODE_POSITION),s),null===s.returnError&&(n("history/".concat(Ct.ADD_POSITION_CHANGE),{nodeID:t.nodeId,oldPosition:a.center,newPosition:c}),Vt(t.nodeId,c,r.tree.nodeRecord[t.nodeId].parent.id,r.tree.mapNodeLayers))}})),St),modules:{pin:f,subscriptions:M,titleBox:L,image:I,precondition:y,positionChangePermits:U,tree:Nt,user:Fe,zoomPan:Rt,history:At,nodeContent:He,searchResult:Bt}});function qt(){return Object(d["b"])(Ht)}var Jt=Object(r["n"])({setup:function(){var e=qt();e.dispatch(Lt.init)}});Jt.render=o;var Wt=Jt,Gt=n("9319"),$t=n("b24b"),Yt=n("485c"),Ft=n("6c02"),Xt=Object(r["l"])(" This section is just for test/emulator cases for now "),Zt=Object(r["m"])("input",{id:"email"},null,-1),Kt=Object(r["m"])("input",{id:"password"},null,-1);function Qt(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])(r["a"],null,[Xt,Zt,Kt,Object(r["m"])("button",{onClick:t[1]||(t[1]=function(){return e.login&&e.login.apply(e,arguments)})},"login")],64)}var en=Object(r["n"])({name:"PasswordLogin",setup:function(){qt();return{login:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.getElementById("email"),n=document.getElementById("password"),e.next=4,O["a"].auth().signInWithEmailAndPassword(t.value,n.value);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}}});en.render=Qt;var tn=en,nn={class:"p-toast-message-icon"},rn={class:"p-toast-message-text"},on={class:"p-toast-summary"},an={key:0},cn={key:1},sn={key:0},un={key:1};function ln(e,t,n,o,i,a){var c=Object(r["J"])("ConfirmDialog"),s=Object(r["J"])("Toast"),u=Object(r["J"])("LogoDummy"),l=Object(r["J"])("TextSearch"),d=Object(r["J"])("Menu"),p=Object(r["J"])("NodeContent"),b=Object(r["J"])("Map"),m=Object(r["J"])("SplitterPanel"),f=Object(r["J"])("Splitter");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c),Object(r["m"])(s,{position:"bottom-left"},{icon:Object(r["V"])((function(e){return[Object(r["m"])("div",nn,[Object(r["m"])("span",{class:e.class},null,2)])]})),message:Object(r["V"])((function(e){return[Object(r["m"])("div",rn,[Object(r["m"])("span",on,Object(r["N"])(e.message.summary),1),Object(r["m"])("div",{class:"p-toast-detail",innerHTML:e.message.detail},null,8,["innerHTML"])])]})),_:1}),e.visibleZoomedPanedLayers&&e.visibleZoomedPanedLayers.length?(Object(r["A"])(),Object(r["g"])("div",cn,[Object(r["m"])("div",{class:e.isWideScreen()?e.$style.textWrapperSearch:e.$style.textWrapperSearchMobile},[Object(r["m"])(l,{style:e.isWideScreen()?"":"width: 80%;"},null,8,["style"])],2),Object(r["m"])(d,{onRestoreSelectNewParentIsOn:e.setRestoreSelectNewParentON,onRestoreSelectNewParentIsOff:e.setRestoreSelectNewParentOFF,clickedTitleId:e.clickedTitleId},null,8,["onRestoreSelectNewParentIsOn","onRestoreSelectNewParentIsOff","clickedTitleId"]),e.isWideScreen()?(Object(r["A"])(),Object(r["g"])("div",sn,[Object(r["m"])(p,{clickedTitleId:e.clickedTitleId,onSelectPreconditionIsOn:e.setSelectPreconditionON,onSelectPreconditionIsOff:e.setSelectPreconditionOFF,show:!e.editModeOn,selectedNodeId:e.selectedNodeId},null,8,["clickedTitleId","onSelectPreconditionIsOn","onSelectPreconditionIsOff","show","selectedNodeId"]),Object(r["m"])(b,{layers:e.visibleZoomedPanedLayers,selectedNodeId:e.selectedNodeId,selectedNodePreconditionIds:e.selectedNodePreconditionIds,"pin-nodes":e.pinNodes,searchResultPinNodes:e.searchResultPinNodes,searchResultNodeIDs:e.searchResultNodeIDs,onTitleDragging:e.nodeDragging,onTitleClick:e.titleClick,onTitleOver:e.titleOver,onTitleLeave:e.titleLeave,onDraggingBackground:e.mapDragging,onWheel:e.zoom},null,8,["layers","selectedNodeId","selectedNodePreconditionIds","pin-nodes","searchResultPinNodes","searchResultNodeIDs","onTitleDragging","onTitleClick","onTitleOver","onTitleLeave","onDraggingBackground","onWheel"])])):(Object(r["A"])(),Object(r["g"])("div",un,[Object(r["m"])(f,{style:"height:".concat(e.innerHeight,"px"),gutterSize:15,layout:"vertical",onResize:t[1]||(t[1]=function(t){return e.splitterResize(t)})},{default:Object(r["V"])((function(){return[Object(r["m"])(m,{class:"flex align-items-center justify-content-center",size:60},{default:Object(r["V"])((function(){return[Object(r["m"])(b,{layers:e.visibleZoomedPanedLayers,selectedNodeId:e.selectedNodeId,selectedNodePreconditionIds:e.selectedNodePreconditionIds,"pin-nodes":e.pinNodes,searchResultPinNodes:e.searchResultPinNodes,searchResultNodeIDs:e.searchResultNodeIDs,onTitleDragging:e.nodeDragging,onTitleClick:e.titleClick,onTitleOver:e.titleOver,onTitleLeave:e.titleLeave,onDraggingBackground:e.mapDragging,onWheel:e.zoom},null,8,["layers","selectedNodeId","selectedNodePreconditionIds","pin-nodes","searchResultPinNodes","searchResultNodeIDs","onTitleDragging","onTitleClick","onTitleOver","onTitleLeave","onDraggingBackground","onWheel"])]})),_:1}),Object(r["m"])(m,{class:"flex align-items-center justify-content-center",size:40},{default:Object(r["V"])((function(){return[Object(r["m"])(p,{wrapperHeight:e.contentSplitHeight,clickedTitleId:e.clickedTitleId,onSelectPreconditionIsOn:e.setSelectPreconditionON,onSelectPreconditionIsOff:e.setSelectPreconditionOFF,show:!e.editModeOn,selectedNodeId:e.selectedNodeId},null,8,["wrapperHeight","clickedTitleId","onSelectPreconditionIsOn","onSelectPreconditionIsOff","show","selectedNodeId"])]})),_:1})]})),_:1},8,["style"])]))])):(Object(r["A"])(),Object(r["g"])("div",an,[Object(r["m"])(u,{wrapHeight:e.innerHeight,wrapWidth:e.innerWidth},null,8,["wrapHeight","wrapWidth"])]))],64)}function dn(e,t,n,o,i,a){var c=Object(r["J"])("MapLayer"),s=Object(r["J"])("PreconditionLayer"),u=Object(r["J"])("PinLayer");return Object(r["A"])(),Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 ".concat(e.svgWidth," ").concat(e.svgHeight),id:e.mapID,style:{"touch-action":"none"}},[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.layers,(function(t,n){return Object(r["A"])(),Object(r["g"])(c,{key:n,"layer-id":n,"map-nodes":t,"border-color":e.borderColor(n),"font-color":e.fontColor(n),"font-size":e.fontSize(n),"font-opacity":e.fontOpacity(n),selectedNodeId:e.selectedNodeId,selectedNodePreconditionIds:e.selectedNodePreconditionIds,searchResultNodeIDs:e.searchResultNodeIDs,"map-id":e.mapID,onTitleDragging:e.draggingNode,onTitleClick:e.titleClick,onTitleOver:e.titleOver,onTitleLeave:e.titleLeave},null,8,["layer-id","map-nodes","border-color","font-color","font-size","font-opacity","selectedNodeId","selectedNodePreconditionIds","searchResultNodeIDs","map-id","onTitleDragging","onTitleClick","onTitleOver","onTitleLeave"])})),128)),Object(r["m"])(s,{selectedNodeId:e.selectedNodeId,visibleTitleIds:e.visibleTitleIds,"layer-id":"precondition",onTitleClick:e.titleClick,onTitleOver:e.titleOver,onTitleLeave:e.titleLeave},null,8,["selectedNodeId","visibleTitleIds","onTitleClick","onTitleOver","onTitleLeave"]),Object(r["m"])(u,{pinNodes:e.pinNodes,"layer-id":"pinNodes",color:"pink","font-size":8,"font-weight":"normal","text-decoration":"none",selectedNodeId:e.selectedNodeId,onTitleClick:e.titleClick,onTitleOver:e.titleOver,onTitleLeave:e.titleLeave},null,8,["pinNodes","selectedNodeId","onTitleClick","onTitleOver","onTitleLeave"]),Object(r["m"])(u,{pinNodes:e.searchResultPinNodes,"layer-id":"searchResultPinNodes",color:"red","font-size":10,"font-weight":"bold","text-decoration":"underline",selectedNodeId:e.selectedNodeId,onTitleClick:e.titleClick,onTitleOver:e.titleOver,onTitleLeave:e.titleLeave},null,8,["pinNodes","selectedNodeId","onTitleClick","onTitleOver","onTitleLeave"])],8,["width","height","viewBox","id"])}var pn=Object(r["Y"])("data-v-182e8a4c"),bn=pn((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])(r["a"],null,[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.mapNodes,(function(t,n){return Object(r["A"])(),Object(r["g"])("polygon",{key:n,stroke:e.borderColor,fill:e.polygonFill(e.selectedNodeId,t.id,e.selectedNodePreconditionIds),"fill-opacity":e.polygonFillOpacity(e.selectedNodeId,t.id,e.selectedNodePreconditionIds),"stroke-width":"2",points:e.polygonToPath(t.border),"pointer-events":"none"},null,8,["stroke","fill","fill-opacity","points"])})),128)),(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.mapNodes,(function(t){return Object(r["A"])(),Object(r["g"])("text",{id:"".concat(e.TITLE_PREFIX).concat(t.id),key:t.id,"font-family":"Roboto","font-size":"".concat(e.fontSize,"vmax"),"font-weight":e.textWeight(t.id,e.selectedNodeId),fill:e.textColor(t.id,e.selectedNodeId),"fill-opacity":e.fontOpacity,"text-decoration":e.textDecoration(t.id),class:"text"},[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.splitLines(t.title,20),(function(n,o){return Object(r["A"])(),Object(r["g"])("tspan",{key:o,x:e.titleBox[t.id]?e.titleBox[t.id].position.x:0,y:e.titleBox[t.id]&&e.innerWidth>0?e.titleBox[t.id].position.y+o*e.fontSize*Math.max(e.innerWidth,e.innerHeight)/100:0,"alignment-baseline":"hanging"},Object(r["N"])(n),9,["x","y"])})),128))],8,["id","font-size","font-weight","fill","fill-opacity","text-decoration"])})),128)),(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.mapNodes,(function(t){return Object(r["A"])(),Object(r["g"])("rect",{key:t.id,x:e.titleBox[t.id]?e.titleBox[t.id].position.x:0,y:e.titleBox[t.id]?e.titleBox[t.id].position.y:0,width:e.titleBox[t.id]?e.titleBox[t.id].bbox.width:0,height:e.titleBox[t.id]?e.titleBox[t.id].bbox.height:0,fill:"transparent","stroke-width":"0",onMouseover:function(n){return e.titleOver(t.id)},onMouseleave:function(n){return e.titleLeave(t.id)},onClick:function(n){return e.titleClick(t.id)},onMousedown:function(n){return e.titleMouseDown(t.id)},stroke:"pink",cursor:"pointer","pointer-events":"fill"},null,40,["x","y","width","height","onMouseover","onMouseleave","onClick","onMousedown"])})),128))],64)})),mn=function(e,t,n){n.nodeId&&(n.dragStart=!0,e("title-dragging",{nodeId:n.nodeId,delta:{x:t.movementX,y:t.movementY}}))},fn=function(e,t){t.nodeId&&(t.dragStart&&e("title-drop",{id:t.nodeId}),t.dragStart=!1,t.nodeId=null)},On=function(e){var t={};for(var n in e){var r=e[n];t[r.id]={position:r.center,bbox:{width:0,height:0}}}return t},vn=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,o){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},e.next=3,Object(r["s"])((function(){for(var e in o){var r=o[e],a=document.getElementById("".concat(t).concat(r.id));null!=a&&("center"==n?i[r.id]={position:{x:r.center.x-a.getBoundingClientRect().width/2,y:r.center.y-a.getBoundingClientRect().height/2},bbox:{width:a.getBoundingClientRect().width,height:a.getBoundingClientRect().height}}:"left"==n&&(i[r.id]={position:{x:r.center.x-a.getBoundingClientRect().width,y:r.center.y-a.getBoundingClientRect().height/2},bbox:{width:a.getBoundingClientRect().width,height:a.getBoundingClientRect().height}}))}}));case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),hn=function(e,t,n,o){o(On(n.value)),Object(r["T"])(n,function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",vn(e,t,r).then((function(e){return o(e)})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{immediate:!0,deep:!0})};n("1276");function gn(e,t){if(t<=0)return[];if(""==e)return[];var n=e.split(" "),r=[],o=[];while(n.length)if(o.join(" ").length>t){var i=[];o.length>1&&i.push(o.pop()),r.push(o.join(" ")),o=i}else o.push(n.shift());if(o.join(" ").length>t){var a=[];o.length>1&&a.push(o.pop()),r.push(o.join(" ")),o=a}return o.length&&r.push(o.join(" ")),r}var jn="title_",yn=Object(r["n"])({name:"MapLayer",emits:["title-over","title-leave","title-click","title-drop","title-dragging"],props:{layerId:{type:Number},mapId:{type:String,required:!0},mapNodes:{type:Object,required:!0},borderColor:{type:String,required:!0},fontSize:{type:Number,required:!0},fontColor:{type:String,required:!0},fontOpacity:{type:Number,required:!0},selectedNodeId:{type:String,validator:function(e){return"string"===typeof e||null===e},required:!0},selectedNodePreconditionIds:Object,searchResultNodeIDs:Object},setup:function(e,t){var n=Object(r["O"])(e,"mapNodes"),o=qt(),i="map_"+e.layerId,a=Object(r["e"])((function(){return o.state.titleBox.layerMap[i]}));hn(jn,"center",n,(function(e){o.commit("titleBox/".concat(B.SET_MAP),{layerName:i,titleBoxMap:e})}));var c={nodeId:null,dragStart:!1},s=function(e){return mn(t.emit,e,c)},u=function(){return fn(t.emit,c)};Object(r["y"])((function(){var t=document.getElementById(e.mapId);t?(t.addEventListener("mousemove",s),t.addEventListener("mouseup",u)):Q("MapLayer.vue: cannot find map id for event listener",{})})),Object(r["z"])((function(){var t=document.getElementById(e.mapId);t?(t.removeEventListener("mousemove",s),t.removeEventListener("mouseup",u)):Q("MapLayer.vue: cannot find map id for event listener",{})}));var l=Object(r["e"])((function(){var t={};if(!e.searchResultNodeIDs)return t;var n,r=Object(p["a"])(e.searchResultNodeIDs);try{for(r.s();!(n=r.n()).done;){var o=n.value;t[o]=!0}}catch(i){r.e(i)}finally{r.f()}return t}));return{TITLE_PREFIX:jn,titleBox:a,innerWidth:window.innerWidth,innerHeight:window.innerHeight,textColor:function(t,n){var r;return n&&n==t||e.selectedNodePreconditionIds&&-1!=(null===(r=e.selectedNodePreconditionIds)||void 0===r?void 0:r.indexOf(t))?"#ffa500":l.value[t]?"red":e.fontColor},textWeight:function(e,t){return t&&t==e||l.value[e]?"bold":"normal"},textDecoration:function(e){return l.value[e]?"underline":"none"},titleClick:function(e){t.emit("title-click",{id:e})},titleOver:function(e){t.emit("title-over",{id:e})},titleLeave:function(e){t.emit("title-leave",{id:e})},titleMouseDown:function(e){c.nodeId=e,c.dragStart=!1}}},methods:{splitLines:gn,polygonToPath:je,polygonFill:he,polygonFillOpacity:ge}});n("62a5");yn.render=bn,yn.__scopeId="data-v-182e8a4c";var xn=yn,In={on:!1},Nn=function(){In.on=!0},wn=function(){In.on=!1},kn=function(e,t){In.on&&e("dragging-background",t)},Dn={mouseDown:Nn,mouseUp:wn,mouseMove:kn};function Tn(e,t,n,o,i,a){var c=Object(r["J"])("PinMarker"),s=Object(r["J"])("SVGTextBox");return Object(r["A"])(),Object(r["g"])(r["a"],null,[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.visiblePinNodes,(function(t){return Object(r["A"])(),Object(r["g"])(c,{key:t.id,x:t.center.x,y:t.center.y,color:e.color},null,8,["x","y","color"])})),128)),(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.visiblePinNodes,(function(t){return Object(r["A"])(),Object(r["g"])(s,{text:t.title,id:"".concat(e.TITLE_PREFIX).concat(t.id),key:t.id,useLineBreak:!0,x:e.titleXY[t.id].x,y:e.titleXY[t.id].y,"line-height":8,"max-char-per-line":10,"font-family":"Roboto","font-size":e.fontSize,"font-weight":e.fontWeight,color:e.color,"text-decoration":e.textDecoration},null,8,["text","id","x","y","font-size","font-weight","color","text-decoration"])})),128)),(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.pinNodes,(function(t){return Object(r["A"])(),Object(r["g"])("rect",{key:t.id,x:e.titleXY[t.id].x,y:e.titleXY[t.id].y,width:e.titleBox[t.id]?e.titleBox[t.id].bbox.width:0,height:e.titleBox[t.id]?e.titleBox[t.id].bbox.height:0,cursor:"pointer",fill:"transparent",onClick:function(n){return e.titleBoxClick(t.id)},onMouseover:function(n){return e.titleOver(t.id)},onMouseleave:function(n){return e.titleLeave(t.id)},"stroke-width":"0",stroke:"pink"},null,40,["x","y","width","height","onClick","onMouseover","onMouseleave"])})),128))],64)}function En(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("g",{transform:"translate(".concat(e.x-e.WIDTH/2," ").concat(e.y-e.HEIGHT,") scale(0.05 0.05)")},[Object(r["m"])("path",{fill:"".concat(e.color),d:"M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n        C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n        c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"},null,8,["fill"])],8,["transform"])}var _n=18,Rn=26,Cn=Object(r["n"])({name:"PinMarker",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},color:{type:String,required:!0}},setup:function(){return{WIDTH:_n,HEIGHT:Rn}}});Cn.render=En;var Sn=Cn,Pn=Object(r["Y"])("data-v-3400d8a7"),An=Pn((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("text",{id:e.id,"font-family":e.fontFamily,"font-size":e.fontSize,"font-weight":e.fontWeight,fill:e.color,class:"text"},[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.lines,(function(t,n){return Object(r["A"])(),Object(r["g"])("tspan",{key:n,x:e.x,y:e.y>0?e.y+n*e.lineHeight:0,"alignment-baseline":"hanging"},Object(r["N"])(t),9,["x","y"])})),128))],8,["id","font-family","font-size","font-weight","fill"])})),Mn=Object(r["n"])({name:"SVGTextBox",props:{id:{type:String,required:!0},useLineBreak:{type:Boolean,required:!0},text:{type:String,required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},lineHeight:{type:Number,required:!0},maxCharPerLine:{type:Number,required:!0},fontFamily:{type:String,required:!0},fontSize:{type:Number,required:!0},fontWeight:{type:String,required:!0},color:{type:String,required:!0}},setup:function(e){var t=[];return t=e.useLineBreak?gn(e.text,e.maxCharPerLine):[e.text],{lines:t}}});n("1d0f");Mn.render=An,Mn.__scopeId="data-v-3400d8a7";var Bn=Mn,Ln="pin_title_",zn=Object(r["n"])({name:"PinLayer",components:{SVGTextBox:Bn,PinMarker:Sn},emits:["title-click","title-over","title-leave"],props:{layerId:String,pinNodes:{type:Object,required:!0},selectedNodeId:{type:String,validator:function(e){return"string"===typeof e||null===e},required:!0},color:{type:String},fontWeight:{type:String},fontSize:{type:Number},textDecoration:{type:String}},setup:function(e,t){var n=Object(r["e"])((function(){var t,n={},r=Object(p["a"])(e.pinNodes);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.id]=o}}catch(i){r.e(i)}finally{r.f()}return n})),o=Object(r["e"])((function(){var t,n={},r=Object(p["a"])(e.pinNodes);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.id!=e.selectedNodeId&&(n[o.id]=o)}}catch(i){r.e(i)}finally{r.f()}return n})),i=qt(),a="pin_"+e.layerId,c=Object(r["e"])((function(){return i.state.titleBox.layerMap[a]}));return hn(Ln,"left",n,(function(e){i.commit("titleBox/".concat(B.SET_MAP),{layerName:a,titleBoxMap:e})})),{TITLE_PREFIX:Ln,PIN_MARKER_HEIGHT:Rn,PIN_MARKER_WIDTH:_n,visiblePinNodes:o,titleBox:c,titleXY:Object(r["e"])((function(){var e={};for(var t in n.value){var r=n.value[t];e[r.id]={x:c.value[r.id]?c.value[r.id].position.x:0,y:c.value[r.id]?c.value[r.id].position.y:0}}return e})),titleBoxClick:function(e){t.emit("title-click",{id:e})},titleOver:function(e){t.emit("title-over",{id:e})},titleLeave:function(e){t.emit("title-leave",{id:e})}}}});zn.render=Tn;var Vn=zn,Hn=Object(r["m"])("defs",null,[Object(r["m"])("marker",{id:"preconditionArrowHead",markerWidth:"6",markerHeight:"7",refX:"3",refY:"3.5",orient:"auto"},[Object(r["m"])("polygon",{fill:"#aae3b9",stroke:"#aae3b9",points:"0 0, 6 3.5, 0 7"})])],-1);function Un(e,t,n,o,i,a){var c=Object(r["J"])("PreconditionArrow"),s=Object(r["J"])("SVGTextBox");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Hn,(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.preconditions,(function(t){return Object(r["A"])(),Object(r["g"])(c,{key:t.id,markerId:"preconditionArrow",from:t.center,to:e.selectedNode?e.selectedNode.center:null,color:"#aae3b9"},null,8,["from","to"])})),128)),(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.visibleTitleNodes,(function(t){return Object(r["A"])(),Object(r["g"])(s,{text:t.title,id:"".concat(e.TITLE_PREFIX).concat(t.id),key:t.id,useLineBreak:!0,x:e.visibleTitleNodeBoxes[t.id]?e.visibleTitleNodeBoxes[t.id].position.x:0,y:e.visibleTitleNodeBoxes[t.id]?e.visibleTitleNodeBoxes[t.id].position.y:0,"line-height":8,"max-char-per-line":10,"font-family":"Roboto","font-size":8,"font-weight":"normal",color:"#ffa500"},null,8,["text","id","x","y"])})),128)),(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.visibleTitleNodes,(function(t){return Object(r["A"])(),Object(r["g"])("rect",{key:t.id,x:e.visibleTitleNodeBoxes[t.id]?e.visibleTitleNodeBoxes[t.id].position.x:0,y:e.visibleTitleNodeBoxes[t.id]?e.visibleTitleNodeBoxes[t.id].position.y:0,width:e.visibleTitleNodeBoxes[t.id]?e.visibleTitleNodeBoxes[t.id].bbox.width:0,height:e.visibleTitleNodeBoxes[t.id]?e.visibleTitleNodeBoxes[t.id].bbox.height:0,cursor:"pointer",fill:"transparent",onClick:function(n){return e.titleBoxClick(t.id)},onMouseover:function(n){return e.titleBoxOver(t.id)},onMouseleave:function(n){return e.titleBoxLeave(t.id)},"stroke-width":"0",stroke:"pink"},null,40,["x","y","width","height","onClick","onMouseover","onMouseleave"])})),128))],64)}function qn(e,t,n,o,i,a){return e.from&&e.to?(Object(r["A"])(),Object(r["g"])("line",{key:0,x1:e.from.x,y1:e.from.y,x2:e.to.x,y2:e.to.y,stroke:e.color,"stroke-width":"1","marker-end":"url(#preconditionArrowHead)"},null,8,["x1","y1","x2","y2","stroke"])):Object(r["h"])("",!0)}var Jn=Object(r["n"])({name:"PreconditionArrow",props:{markerId:String,color:String,from:Object,to:Object||null}});Jn.render=qn;var Wn=Jn;function Gn(e,t){return"<a href='/".concat(e,"'>").concat(t[e]?t[e].node.title:"undefined","</a>")}function $n(e,t){var n={};for(var r in e)n[e[r]]=!0;var o={};for(var i in t)o[t[i]]=!0;var a=[];for(var c in o)n[c]||a.push(c);var s=[];for(var u in n)o[u]||s.push(u);return[a,s]}function Yn(e,t){if(!t[e]||null==t[e].parent)return[];var n=[],r=t[t[e].parent.id];while(null!==r){if(n.push(r.node),null==r.parent)break;r=t[r.parent.id]}return n}function Fn(e,t){return Yn(e,t).filter((function(e){return"0"!==e.id})).map((function(e){return e.title})).reverse().join("/")}function Xn(){return window.innerWidth>window.innerHeight}var Zn=Xn()?3:1;function Kn(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}}function Qn(e,t,n){return e.map((function(e){return Kn(e,t,n)}))}function er(e,t,n,r,o){e.x=(e.x-o.x)/n*t+r.x,e.y=(e.y-o.y)/n*t+r.y}function tr(e,t,n,r,o){e.forEach((function(e){return er(e,t,n,r,o)}))}function nr(e,t,n,r,o,i){if(!e||0==e.length)return["",null];var a=null,c=n.width*n.height,s=e[0];while(Object.keys(s).length){for(var u in a="",s){var d=Qn(s[u].border,r,o);if(de(i,d)){a=u;break}}if(""===a){var b=1/0;for(var m in s){var f=Kn(s[m].center,r,o),O=ue({from:f,to:i});O<b&&(b=O,a=m)}}var h=be(Qn(s[a].border,r,o));if(Math.floor(h)*Zn<=Math.floor(c))return null==t[a].parent?[a,null]:[t[a].parent.id,null];if(s={},!t[a])return["",v("findCurrentNode: cannot find underFocusPointNodeId in nodeRecord",{maxIntersectNodeId:a,nodeRecord:t})];var g,j=Object(p["a"])(t[a].node.children);try{for(j.s();!(g=j.n()).done;){var y=g.value,x=te(y.id,e),I=Object(l["a"])(x,1),N=I[0];if(null==N)return["",v("filterNodesAndLayers: Cannot find node in layers",{"child.id":y.id,layers:e})];s[y.id]=N}}catch(w){j.e(w)}finally{j.f()}if(0===Object.keys(s).length)return[a,null]}return["",v("filterNodesAndLayers: unknown error",{})]}function rr(e,t,n){if(!e||!e.length)return[[],null];var r=[],o=te(n,e),i=Object(l["a"])(o,2),a=i[0],c=i[1];if(null==a||null==c)return[[],v("filterNodesAndLayers-currentNode: error in findMapNode",{currentNodeId:n,layers:e})];var s={};if(null==t[a.id].parent)s[a.id]=K(a);else{var u,d=Object(p["a"])(t[a.id].parent.children);try{for(d.s();!(u=d.n()).done;){var b=u.value,m=te(b.id,[e[c]]),f=Object(l["a"])(m,2),O=f[0],h=f[1];if(null==O||null===h)return[[],v("filterNodesAndLayers-upperLayer: error in findMapNode",{"child.id":b.id,level:c,layers:[e[c]]})];s[b.id]=K(O),s[b.id].title=""}}catch(Y){d.e(Y)}finally{d.f()}}r.push(s);var g={};for(var j in s){var y,x=Object(p["a"])(t[j].node.children);try{for(x.s();!(y=x.n()).done;){var I=y.value,N=te(I.id,[e[c+1]]),w=Object(l["a"])(N,2),k=w[0],D=w[1];if(null==k||null===D)return[[],v("filterNodesAndLayers-firstLayer: error in findMapNode",{"child.id":I.id,layers:[e[c+1]]})];j!=n?(g[I.id]=K(k),g[I.id].title=""):g[I.id]=K(k)}}catch(Y){x.e(Y)}finally{x.f()}}Object.keys(g).length>0&&r.push(g);var T,E={},_=Object(p["a"])(t[n].node.children);try{for(_.s();!(T=_.n()).done;){var R,C=T.value,S=Object(p["a"])(t[C.id].node.children);try{for(S.s();!(R=S.n()).done;){var P=R.value,A=te(P.id,[e[c+2]]),M=Object(l["a"])(A,2),B=M[0],L=M[1];if(null==B||null===L)return[[],v("filterNodesAndLayers-secondLayer: error in findMapNode",{"child.id":C.id,layers:[e[c+2]]})];E[P.id]=K(B)}}catch(Y){S.e(Y)}finally{S.f()}}}catch(Y){_.e(Y)}finally{_.f()}Object.keys(E).length>0&&r.push(E);var z={};for(var V in E){var H,U=Object(p["a"])(t[V].node.children);try{for(U.s();!(H=U.n()).done;){var q=H.value,J=te(q.id,[e[c+3]]),W=Object(l["a"])(J,2),G=W[0],$=W[1];if(null==G||null===$)return[[],v("filterNodesAndLayers-thirdLayer:cannot findMapNode",{"child.id":q.id,level:c+3,layers:[e[c+3]]})];z[q.id]=K(G),z[q.id].title=""}}catch(Y){U.e(Y)}finally{U.f()}}return Object.keys(z).length>0&&r.push(z),[r,null]}function or(e,t,n,r,o){if(!e||0==e.length)return[];for(var i in e){for(var a in e[i])er(e[i][a].center,t,r,n,o),tr(e[i][a].border,t,r,n,o)}}function ir(e,t,n){if(!e||0==e.length)return[];var r=[];for(var o in e){var i={};for(var a in e[o]){var c=e[o][a];i[a]={id:c.id,title:c.title,center:Kn(c.center,t,n),border:Qn(c.border,t,n)}}r.push(i)}return r}var ar=n("0347"),cr="precondition_title_",sr=Object(r["n"])({name:"PreconditionLayer",emits:["title-over","title-leave","title-click"],components:{SVGTextBox:Bn,PreconditionArrow:Wn},props:{layerId:String,selectedNodeId:String,visibleTitleIds:Object},setup:function(e,t){var n=qt(),o=n.state.zoomPan,i=Object(r["e"])((function(){if(e.selectedNodeId&&n.state.tree.mapNodeLayers){var t=te(e.selectedNodeId,n.state.tree.mapNodeLayers),r=Object(l["a"])(t,1),i=r[0];if(!i)return null;var a=K(i);return Object(ar["a"])().phone?a.center=Kn(a.center,o.debouncedZoom,o.debouncedPan):a.center=Kn(a.center,o.zoom,o.pan),a}return null})),a=Object(r["G"])({}),c=Object(r["G"])({}),s="precondition",u=Object(r["e"])((function(){return n.state.titleBox.layerMap[s]}));return hn(cr,"left",c,(function(e){n.commit("titleBox/".concat(B.SET_MAP),{layerName:s,titleBoxMap:e})})),Object(r["T"])((function(){return Object(ar["a"])().phone?[o.debouncedZoom,o.debouncedPan,e.selectedNodeId,n.state.precondition.preconditions,e.visibleTitleIds]:[o.zoom,o.pan,e.selectedNodeId,n.state.precondition.preconditions,e.visibleTitleIds]}),(function(){var t;if(a.value={},c.value={},e.selectedNodeId&&n.state.precondition.preconditions[e.selectedNodeId]&&n.state.tree.mapNodeLayers){var r,s=K(ne(n.state.precondition.preconditions[e.selectedNodeId],n.state.tree.mapNodeLayers)),u=Object(p["a"])(s);try{for(u.s();!(r=u.n()).done;){var l=r.value;Object(ar["a"])().phone?l.center=Kn(l.center,o.debouncedZoom,o.debouncedPan):l.center=Kn(l.center,o.zoom,o.pan),a.value[l.id]=l}}catch(m){u.e(m)}finally{u.f()}}for(var d in a.value){var b;-1==(null===(b=e.visibleTitleIds)||void 0===b?void 0:b.indexOf(d))&&(c.value[d]=a.value[d])}e.selectedNodeId&&i.value&&n.state.tree.mapNodeLayers&&-1==(null===(t=e.visibleTitleIds)||void 0===t?void 0:t.indexOf(e.selectedNodeId))&&(c.value[e.selectedNodeId]=i.value)}),{immediate:!0,deep:!0}),{TITLE_PREFIX:cr,selectedNode:i,preconditions:a,visibleTitleNodes:c,visibleTitleNodeBoxes:u,titleBoxClick:function(e){t.emit("title-click",{id:e})},titleBoxOver:function(e){t.emit("title-over",{id:e})},titleBoxLeave:function(e){t.emit("title-leave",{id:e})}}}});sr.render=Un;var ur=sr,lr="mapID",dr=Object(r["n"])({name:"Map",emits:["title-dragging","title-click","title-over","title-leave","dragging-background","wheel"],components:{PreconditionLayer:ur,PinLayer:Vn,MapLayer:xn},props:{layers:Object,selectedNodeId:{type:String||null,validator:function(e){return"string"===typeof e||null===e},required:!0},selectedNodePreconditionIds:Object,pinNodes:Object,searchResultPinNodes:Object,searchResultNodeIDs:Object},setup:function(e,t){return Object(r["y"])((function(){var e=document.getElementById(lr);if(e){e.addEventListener("mousedown",(function(e){Dn.mouseDown()})),e.addEventListener("mouseup",(function(e){Dn.mouseUp()})),e.addEventListener("mousemove",(function(e){Dn.mouseMove(t.emit,{from:{x:e.clientX-e.movementX,y:e.clientY-e.movementY},to:{x:e.clientX,y:e.clientY}})})),e.addEventListener("wheel",(function(e){t.emit("wheel",{delta:-e.deltaY,center:{x:e.clientX,y:e.clientY}})}),{passive:!0});var n=1/0,r={x:0,y:0},o={x:1/0,y:1/0};e.addEventListener("touchstart",(function(e){1===e.touches.length&&(o.x=e.touches[0].clientX,o.y=e.touches[0].clientY),2===e.touches.length&&(n=1/0),Dn.mouseDown()}),{passive:!0}),e.addEventListener("touchend",(function(e){r={x:0,y:0},n=1/0,o.x=1/0,o.y=1/0,Dn.mouseUp()})),e.addEventListener("touchmove",(function(e){if(1===e.touches.length)o.x!=1/0&&o.y!=1/0&&Dn.mouseMove(t.emit,{from:o,to:{x:e.touches[0].clientX,y:e.touches[0].clientY}}),o.x=e.touches[0].clientX,o.y=e.touches[0].clientY;else if(2===e.touches.length){var i=0;n===1/0&&(r={x:e.touches[0].pageX+(e.touches[0].pageX-e.touches[1].pageX)/2,y:e.touches[0].pageY+(e.touches[0].pageY-e.touches[1].pageY)/2});var a=Math.max(Math.abs(r.x-e.touches[0].pageX),Math.abs(r.x-e.touches[1].pageX),Math.abs(r.y-e.touches[0].pageY),Math.abs(r.y-e.touches[1].pageY));n!==1/0&&(i=a-n),n=a,t.emit("wheel",{delta:4*i,center:r})}}),{passive:!0})}else Q("Map.vue: cannot find map id for event listener",{})})),{svgWidth:window.innerWidth,svgHeight:window.innerHeight,visibleTitleIds:Object(r["e"])((function(){if(!e.layers)return[];var t,n=[],r=Object(p["a"])(e.layers);try{for(r.s();!(t=r.n()).done;){var o=t.value;for(var i in o)""!=o[i].title&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n})),draggingNode:function(e){t.emit("title-dragging",{id:e.nodeId,delta:e.delta})},titleClick:function(e){t.emit("title-click",{id:e.id})},titleOver:function(e){t.emit("title-over",{id:e.id})},titleLeave:function(e){t.emit("title-leave",{id:e.id})},mapID:lr,fontSize:function(t){var n,r=0;return n=Xn()?{0:.4,1:.73,2:1.4,3:1.86}:{0:1.8*.4,1:1.314,2:2.52,3:1.8*1.86},e.layers.length>=4&&(r=n[t]),3==e.layers.length&&(r=n[t+1]),r},fontOpacity:function(t){var n=0,r={0:1,1:1,2:.2,3:1};return e.layers.length>=4&&(n=r[t]),3==e.layers.length&&(n=r[t+1]),n},fontColor:function(t){return e.layers.length>=4?"rgb(".concat(200-100*t,",").concat(200-100*t,",").concat(200-100*t,")"):3==e.layers.length?"rgb(".concat(200-100*(t+1),",").concat(200-100*(t+1),",").concat(200-100*(t+1),")"):""},borderColor:function(t){var n=0,r={0:240,1:200,2:100,3:90};return e.layers.length>=4&&(n=r[t]),3==e.layers.length&&(n=r[t+1]),"rgb(".concat(n,",").concat(n,",").concat(n,")")}}}});dr.render=dn;var pr=dr,br=n("fdc1"),mr=n.n(br),fr=n("4623"),Or=n.n(fr),vr=n("9233"),hr=n.n(vr),gr=n("31f3"),jr=n.n(gr),yr=n("0622"),xr=n.n(yr),Ir=n("99ba"),Nr=n.n(Ir),wr=n("fe82"),kr=n.n(wr),Dr=n("1fec"),Tr=n.n(Dr),Er=n("bc82"),_r=n.n(Er),Rr=n("334d"),Cr=n.n(Rr),Sr=n("10b7"),Pr=n.n(Sr),Ar={class:"p-fluid"},Mr={class:"p-field p-grid"},Br={key:0,class:"p-col-12"},Lr=Object(r["m"])("div",{style:{height:"240px"}},null,-1),zr={class:"p-col-9"},Vr={class:"p-col-1"},Hr={class:"p-col-2"},Ur={class:"p-col-12"},qr={class:"p-field p-grid"},Jr={class:"p-col-12 p-md-12"},Wr={class:"p-field p-grid"},Gr={class:"p-col-2"},$r={key:2},Yr={class:"p-field p-grid"},Fr={class:"p-fluid"},Xr={class:"p-field p-grid"},Zr=Object(r["m"])("div",{class:"p-col-12"},[Object(r["m"])("div",{style:{height:"60px"}})],-1),Kr={class:"p-col-12"},Qr=Object(r["m"])("img",{alt:"logo",src:mr.a,style:{width:"30px"}},null,-1),eo=Object(r["m"])("img",{alt:"logo",src:Or.a,style:{width:"30px"}},null,-1),to=Object(r["m"])("img",{alt:"logo",src:hr.a,style:{width:"30px"}},null,-1),no=Object(r["m"])("img",{alt:"logo",src:jr.a,style:{width:"30px"}},null,-1),ro={class:"p-fluid"},oo={class:"p-field p-grid"},io={key:0,class:"p-col-12"},ao=Object(r["m"])("div",{style:{height:"60px"}},null,-1),co=Object(r["m"])("div",{class:"p-col-12",style:{"margin-bottom":"2em"}},[Object(r["m"])("iframe",{width:"100%",src:"https://www.youtube.com/embed/DuiTlnrK6G4?si=HuVA4cs5U86H9E3l",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})],-1),so=Object(r["m"])("img",{alt:"logo",src:xr.a,style:{width:"25px"}},null,-1),uo=Object(r["m"])("img",{alt:"logo",src:Nr.a,style:{width:"30px"}},null,-1),lo=Object(r["l"])(" Keep node content "),po=Object(r["m"])("b",null,"focused and simple but profound",-1),bo=Object(r["l"])(" (you can use "),mo=Object(r["m"])("a",{target:"_blank",href:"https://markdown-it.github.io/"},"markdown",-1),fo=Object(r["l"])(" and "),Oo=Object(r["m"])("a",{target:"_blank",href:"https://katex.org/docs/supported.html"},"katex",-1),vo=Object(r["l"])(""),ho=Object(r["m"])("img",{alt:"logo",src:kr.a,style:{width:"20px","margin-bottom":"-5px"}},null,-1),go=Object(r["l"])(") "),jo=Object(r["m"])("img",{alt:"logo",src:Tr.a,style:{width:"30px"}},null,-1),yo=Object(r["l"])(" Use "),xo=Object(r["m"])("b",null,'"based on"',-1),Io=Object(r["l"])(" to link nodes that are necessary for solid understanding of your description "),No=Object(r["m"])("img",{alt:"logo",src:_r.a,style:{width:"30px"}},null,-1),wo=Object(r["m"])("img",{alt:"logo",src:Cr.a,style:{width:"30px"}},null,-1),ko=Object(r["m"])("img",{alt:"logo",src:Pr.a,style:{width:"20px"}},null,-1),Do=Object(r["l"])(" Talk to your coauthors in "),To=Object(r["m"])("a",{target:"_blank",href:"https://discord.com/channels/1171118046543347782/1171118047587745953"},"chat",-1),Eo=Object(r["l"])(" to adapt community rules and create a great content "),_o=Object(r["m"])("i",null,"One of the greatest impact one can do is to help millions to get the knowledge!",-1);function Ro(e,t,n,o,i,a){var c=Object(r["J"])("TitleImage"),s=Object(r["J"])("Title"),u=Object(r["J"])("SubscribeButton"),l=Object(r["J"])("PinButton"),d=Object(r["J"])("Markdown"),p=Object(r["J"])("TextArea"),b=Object(r["J"])("AddBasedOnButton"),m=Object(r["J"])("SectionPreconditions"),f=Object(r["J"])("SectionUsedBy"),O=Object(r["J"])("ChangeLog"),v=Object(r["K"])("tooltip");return e.show&&e.selectedNode?(Object(r["A"])(),Object(r["g"])("div",{key:0,class:"".concat(e.wrapperClass()),style:e.isWideScreen()?"":"height:".concat(e.wrapperHeight,"px;")},[Object(r["m"])("div",Ar,[e.isWideScreen()?(Object(r["A"])(),Object(r["g"])(c,{key:0,nodeID:e.selectedNodeContent?e.selectedNodeContent.nodeID:"",nodeContent:e.selectedNodeContent?e.selectedNodeContent.content:""},null,8,["nodeID","nodeContent"])):Object(r["h"])("",!0),Object(r["m"])("div",Mr,[e.isWideScreen()?(Object(r["A"])(),Object(r["g"])("div",Br,[Lr])):Object(r["h"])("",!0),Object(r["m"])("div",zr,[Object(r["m"])(s,{content:e.selectedNodeContent?e.selectedNode.title:"",onContentChanged:t[1]||(t[1]=function(t){return e.changeNodeTitle(t)})},null,8,["content"])]),Object(r["m"])("div",Vr,[Object(r["m"])(u,{nodeID:e.selectedNodeContent?e.selectedNodeContent.nodeID:""},null,8,["nodeID"])]),Object(r["m"])("div",Hr,[Object(r["m"])(l)]),Object(r["m"])("div",Ur,[Object(r["m"])(d,{content:e.selectedNodeContent?e.selectedNodeContent.content:"",rows:20,onContentChanged:t[2]||(t[2]=function(t){return e.changeContent(t)})},null,8,["content"])])]),Object(r["m"])("div",qr,[Object(r["m"])("div",Jr,[Object(r["m"])(p,{id:"comment",placeholder:"Your notes (visible only to you)",autoResize:!0,rows:"2",value:e.selectedNodeComment,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.changeComment(t)}),onKeydown:e.checkAuthorized},null,8,["value","onKeydown"])])]),Object(r["m"])("div",Wr,[Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.section," p-pt-2")}," based on ",2),Object(r["m"])("div",Gr,[Object(r["m"])(b,{clickedTitleId:e.clickedTitleId,onSelectPreconditionIsOn:t[4]||(t[4]=function(t){return e.$emit("select-precondition-is-on")}),onSelectPreconditionIsOff:t[5]||(t[5]=function(t){return e.$emit("select-precondition-is-off")})},null,8,["clickedTitleId"])])]),e.selectedNodeContent?(Object(r["A"])(),Object(r["g"])(m,{key:1,"node-id":e.selectedNode.id},null,8,["node-id"])):Object(r["h"])("",!0),e.selectedNodeContent&&e.usedBy&&e.usedBy.length>0?(Object(r["A"])(),Object(r["g"])("div",$r,[Object(r["m"])("div",Yr,[Object(r["m"])("div",{class:"p-col-12 ".concat(e.$style.section," p-pt-5")}," basis for ",2)]),Object(r["m"])(f,{nodeIDs:e.usedBy},null,8,["nodeIDs"])])):Object(r["h"])("",!0),Object(r["m"])(O,{"node-id":e.selectedNode.id},null,8,["node-id"])])],6)):e.editModeOn?(Object(r["A"])(),Object(r["g"])("div",{key:1,class:"".concat(e.wrapperClass()),style:e.isWideScreen()?"":"height:".concat(e.wrapperHeight,"px;")},[Object(r["m"])("div",Fr,[Object(r["m"])("div",Xr,[Zr,Object(r["m"])("div",Kr,[Object(r["m"])("div",{class:e.$style.title}," Map edit mode is on ",2)]),Object(r["m"])("div",{class:"p-col-12 ".concat(e.$style.list)},' In this mode you can change map structure but cannot edit contents of individual nodes. To return back to content editing push "edit map" button again. ',2),Object(r["m"])("div",{class:"p-col-1 ".concat(e.$style.icon)},[Qr],2),Object(r["m"])("div",{class:"p-col-11 ".concat(e.$style.list)},' To add new node 1) select parent node on map and then 2) click "add" button in upper menu. ',2),Object(r["m"])("div",{class:"p-col-1 ".concat(e.$style.icon)},[eo],2),Object(r["m"])("div",{class:"p-col-11 ".concat(e.$style.list)},' To remove node 1) select it on map and 2) click "delete" button in upper menu. ',2),Object(r["m"])("div",{class:"p-col-1 ".concat(e.$style.icon)},[to],2),Object(r["m"])("div",{class:"p-col-11 ".concat(e.$style.list)},' To move node 1) select it on map, then 2) press "cut" button, then 3) select its new parent and 4) press "paste" button. ',2),Object(r["m"])("div",{class:"p-col-1 ".concat(e.$style.icon)},[no],2),Object(r["m"])("div",{class:"p-col-11 ".concat(e.$style.list)},' You can use "log" to see log of map edits and revert or complain any unfortunate edit. ',2),Object(r["m"])("div",{class:"p-col-12 ".concat(e.$style.list)}," After add, paste or remove you can drag node title and its neighbours to adjust node centers position. ",2)])])],6)):(Object(r["A"])(),Object(r["g"])("div",{key:2,class:"".concat(e.wrapperClass()),style:e.isWideScreen()?"":"height:".concat(e.wrapperHeight,"px;")},[Object(r["m"])("div",ro,[Object(r["m"])("div",oo,[e.isWideScreen()?(Object(r["A"])(),Object(r["g"])("div",io,[ao])):Object(r["h"])("",!0),co,Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon)},[so],2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)}," Sign in to edit map ",2),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.list)},[uo],2),Object(r["W"])(Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)},[lo,po,bo,mo,fo,Oo,vo,ho,go],2),[[v,{escape:!1,autoHide:!1,pt:{root:{style:{"max-width":"fit-content"}},arrow:{style:{borderRightColor:"#dcdcde",borderBottomColor:"rgb(255 255 255 / 0)",borderTopColor:"rgb(255 255 255 / 0)"}},text:{style:{"background-color":"#dcdcde",color:"black"}}},value:"\n<div style='padding-left: 20px; width:370px;height:550px;'>\n  Use <a target='_blank' href='https://markdown-it.github.io/'>markdown</a> to format text\n  and <a target='_blank' href='https://katex.org/docs/supported.html'>katex</a> notation to write formulas.\n For example write\n <textarea rows='3' cols='40'>$$\n\\sum_{\\mathclap{1\\le i\\le j\\le n}} x_{ij}\n$$</textarea>\n  to render formula:\n  ".concat(e.md.render("$$\n\\sum_{\\mathclap{1\\le i\\le j\\le n}} x_{ij}\n$$"),"\n  <div style='margin-top: -4em;'>\n  Or write\n   <textarea rows='3' cols='40'>![](https://cdn.scimap.org/images/default.jpg =340x)</textarea>\n   to insert image:\n   ").concat(e.md.render("![](https://cdn.scimap.org/images/default.jpg =340x)"),"\n   </div>\n</div>")}]]),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon)},[jo],2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)},[yo,xo,Io],2),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon),style:{color:"#3B6BF9","padding-left":"10px","font-weight":"bold","font-size":"1.5em"}}," W ",2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)}," Use Wikipedia core content policies: neutral point of view, verifiability, and no original research ",2),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon)},[No],2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)}," Pin nodes that you are currently interested in ",2),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon)},[wo],2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)}," Subscribe to node changes to receive updates on email ",2),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon),style:{color:"#3B6BF9"}}," [ORG] ",2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)}," If you know actions one can take to push knowledge further (jobs, crowdsourcing, etc.) - you can also add it! ",2),Object(r["m"])("div",{class:"p-col-2 ".concat(e.$style.icon)},[ko],2),Object(r["m"])("div",{class:"p-col-10 ".concat(e.$style.list)},[Do,To,Eo],2),Object(r["m"])("div",{class:"p-col-12 ".concat(e.$style.list)},[_o],2)])])],6))}var Co=n("4c62"),So={class:"p-col-10 p-pl-md-2"},Po={class:"p-col-2 p-p-md-0"};function Ao(e,t,n,o,i,a){var c=Object(r["J"])("Link"),s=Object(r["J"])("RemoveIcon");return Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.preconditions,(function(t){return Object(r["A"])(),Object(r["g"])("div",{class:"p-grid ".concat(e.$style.precondition," p-p-md-0"),key:t.id},[Object(r["m"])("div",So,[Object(r["m"])("p",{class:"".concat(e.$style.preconditionPath)},Object(r["N"])(e.preconditionPaths[t.id]),3),Object(r["m"])("p",{class:"".concat(e.$style.title)},[Object(r["m"])(c,{nodeID:t.id,nodeTitle:t.title},null,8,["nodeID","nodeTitle"])],2)]),Object(r["m"])("div",Po,[Object(r["m"])(s,{onClick:function(n){return e.remove(t.id)}},null,8,["onClick"])])],2)})),128)}var Mo=n("67c1"),Bo=n.n(Mo),Lo=Object(r["Y"])("data-v-154fe046");Object(r["D"])("data-v-154fe046");var zo={key:0,class:"custom"},Vo=Object(r["m"])("img",{style:{height:"35px"},alt:"pin-off",src:Bo.a},null,-1),Ho={key:1,class:"custom"},Uo=Object(r["m"])("img",{style:{height:"35px"},alt:"pin-on",src:Or.a},null,-1);Object(r["B"])();var qo=Lo((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("div",{style:{cursor:"pointer"},onMouseenter:t[1]||(t[1]=function(e){return o.mouseOver=!0}),onMouseleave:t[2]||(t[2]=function(e){return o.mouseOver=!1})},[o.mouseOver?(Object(r["A"])(),Object(r["g"])("div",zo,[Vo])):(Object(r["A"])(),Object(r["g"])("div",Ho,[Uo]))],32)})),Jo={name:"RemoveIcon",setup:function(){var e=Object(r["G"])(!1);return{mouseOver:e}}};n("46b4");Jo.render=qo,Jo.__scopeId="data-v-154fe046";var Wo=Jo,Go=n("d725");function $o(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("a",{href:"#",onClick:t[1]||(t[1]=function(t){return e.goto(t,e.nodeID)})},Object(r["N"])(e.nodeTitle),1)}var Yo=Object(r["n"])({name:"Link",props:{nodeID:{type:String,required:!0},nodeTitle:{type:String,required:!0}},setup:function(){var e=qt(),t=Object(Ft["e"])(),n=e.state.tree;return{goto:function(r,o){r.preventDefault();var i=te(o,n.mapNodeLayers),a=Object(l["a"])(i,1),c=a[0];null!=c&&(t.push({name:"node",params:{id:o}}),e.commit("zoomPan/".concat(wt.RESET_ZOOM_AND_PAN)),e.commit("zoomPan/".concat(wt.SET_PAN),{x:-c.center.x+n.mapNodeLayers[0]["0"].center.x,y:-c.center.y+n.mapNodeLayers[0]["0"].center.y}))}}}});Yo.render=$o;var Fo=Yo,Xo=Object(r["n"])({name:"Preconditions",props:{nodeId:{type:String,required:!0}},components:{Link:Fo,RemoveIcon:Wo},setup:function(e){var t=qt(),n=Object(Go["b"])(),o=Object(r["G"])([]),i=Object(r["G"])({});return Object(r["U"])((function(){if(o.value=[],i.value={},e.nodeId&&t.state.precondition.preconditions[e.nodeId]){var n,r=Object(p["a"])(t.state.precondition.preconditions[e.nodeId]);try{for(r.s();!(n=r.n()).done;){var a=n.value;o.value.push(t.state.tree.nodeRecord[a].node),i.value[a]=Fn(a,t.state.tree.nodeRecord)}}catch(c){r.e(c)}finally{r.f()}}})),{preconditions:o,preconditionPaths:i,remove:function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(o){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.state.user&&t.state.user.user&&!t.state.user.user.isAnonymous){r.next=4;break}return r.next=3,t.dispatch("".concat(Lt.confirmSignInPopup),{confirm:n,message:"Please authorize to added node prerequisites"});case 3:return r.abrupt("return");case 4:t.commit("precondition/".concat(j.REMOVE_PRECONDITION),{nodeID:e.nodeId,preconditionID:o}),S.savePreconditions(t.state.user.user,{nodeId:e.nodeId,preconditionIds:t.state.precondition.preconditions[e.nodeId]});case 6:case"end":return r.stop()}}),r)})));function o(e){return r.apply(this,arguments)}return o}()}}}),Zo=n("533a");const Ko=Xo.__cssModules={};Ko["$style"]=Zo["default"],Xo.render=Ao;var Qo=Xo,ei={class:"p-col-12"};function ti(e,t,n,o,i,a){var c=Object(r["J"])("Link");return Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.usedBy,(function(t){return Object(r["A"])(),Object(r["g"])("div",{class:"p-grid ".concat(e.$style.precondition," p-p-md-0"),key:t.id},[Object(r["m"])("div",ei,[Object(r["m"])("p",{class:"".concat(e.$style.preconditionPath)},Object(r["N"])(e.usedByPaths[t.id]),3),Object(r["m"])("p",{class:"".concat(e.$style.title)},[Object(r["m"])(c,{nodeID:t.id,nodeTitle:t.title},null,8,["nodeID","nodeTitle"])],2)])],2)})),128)}var ni=Object(r["n"])({name:"UsedBy",components:{Link:Fo},props:{nodeIDs:Object},setup:function(e){var t=qt(),n=Object(r["G"])([]),o=Object(r["G"])({});return Object(r["U"])((function(){if(n.value=[],o.value={},e.nodeIDs){var r,i=Object(p["a"])(e.nodeIDs);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.state.tree.nodeRecord[a]?(n.value.push(t.state.tree.nodeRecord[a].node),o.value[a]=Fn(a,t.state.tree.nodeRecord)):console.log("UsedBy: cannot find id in nodeRecord",a)}}catch(c){i.e(c)}finally{i.f()}}})),{usedBy:n,usedByPaths:o}}}),ri=n("187b");const oi=ni.__cssModules={};oi["$style"]=ri["default"],ni.render=ti;var ii=ni,ai=Object(r["Y"])("data-v-22c74c27"),ci=ai((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])(r["a"],null,[o.isAuthorized?Object(r["W"])((Object(r["A"])(),Object(r["g"])("p",{key:0,innerHTML:o.renderedContent,onClick:t[1]||(t[1]=function(e){return o.setEditOn(!0)}),class:"renderedContent"},null,8,["innerHTML"])),[[r["S"],!o.editOn]]):(Object(r["A"])(),Object(r["g"])("p",{key:1,innerHTML:o.renderedContent,class:"renderedContent"},null,8,["innerHTML"])),Object(r["m"])("textarea",{class:"rawContent p-inputtextarea p-inputtext p-component p-inputtextarea-resizable",style:{display:"none"},ref:"txtarea",rows:n.rows,value:n.content,onInput:t[2]||(t[2]=function(e){return o.changeContent(e.target.value)}),onFocusout:t[3]||(t[3]=function(e){return o.setEditOn(!1)})},null,40,["rows","value"])],64)})),si=(n("466d"),n("498a"),n("d4cd")),ui=n.n(si),li=n("a68e"),di=n("8102"),pi=n("746a"),bi=new ui.a;bi.use(li,{output:"html"}).use(di).use(pi,"warning",{validate:function(e){return console.log("validate",e.trim(),"warning"==e.trim()),e.trim().match(/^warning$/)},render:function(e,t){var n=e[t].info.trim().match(/^warning(.*)$/);return 1===e[t].nesting?'<div style="background-color: #c6f68d; padding: 8px;">'+bi.utils.escapeHtml(n[1])+"\n":"</div>\n"}});var mi={name:"Markdown",emits:["content-changed"],props:{content:{type:String,required:!0},rows:{type:Number,required:!0}},setup:function(e,t){var n=qt(),o=Object(r["e"])((function(){return bi.render(e.content)})),i=Object(r["G"])(!1),a=Object(r["G"])(null);return{isAuthorized:Object(r["e"])((function(){return n.state.user&&n.state.user.user&&!n.state.user.user.isAnonymous})),editOn:i,txtarea:a,setEditOn:function(e){i.value=e,e&&a.value&&(a.value.style.display="block",a.value.focus()),!e&&a.value&&(a.value.style.display="none")},renderedContent:o,changeContent:function(e){t.emit("content-changed",e)}}}};n("175a");mi.render=ci,mi.__scopeId="data-v-22c74c27";var fi=mi,Oi={key:0},vi={key:1,class:"m-0"};function hi(e,t,n,o,i,a){var c=Object(r["J"])("ChangeLogComplain"),s=Object(r["J"])("Markdown"),u=Object(r["J"])("Card"),l=Object(r["J"])("Fieldset");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c,{show:e.complainModalVisible,complainChangeLink:e.complainChangeLink,onHide:t[1]||(t[1]=function(t){return e.complainModalVisible=!1})},null,8,["show","complainChangeLink"]),Object(r["m"])(l,{legend:"change log",toggleable:!0,collapsed:e.collapsed,"onUpdate:collapsed":t[2]||(t[2]=function(t){return e.toggle(t)}),pt:{legend:{class:"bg-primary"}}},{default:Object(r["V"])((function(){return[e.isAuthorized?(Object(r["A"])(),Object(r["g"])("div",vi,[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.changes,(function(t,n){return Object(r["A"])(),Object(r["g"])(u,{key:n,class:"mt-3"},Object(r["k"])({title:Object(r["V"])((function(){return[Object(r["l"])(Object(r["N"])(new Date(t.timestamp).toLocaleDateString())+" "+Object(r["N"])(new Date(t.timestamp).toLocaleTimeString())+" / "+Object(r["N"])(t.action)+" change ",1)]})),subtitle:Object(r["V"])((function(){return[Object(r["l"])(Object(r["N"])(t.userDisplayName?t.userDisplayName:"user id ".concat(t.userID))+" / ",1),Object(r["m"])("a",{href:"#",onClick:function(n){return e.showComplain(t.changeLogID)}},"Complain",8,["onClick"])]})),_:2},[t.action==e.ActionType.Name?{name:"content",fn:Object(r["V"])((function(){return[Object(r["l"])(Object(r["N"])(t.newName),1)]}))}:t.action==e.ActionType.Content?{name:"content",fn:Object(r["V"])((function(){return[Object(r["m"])(s,{content:t.newContent,rows:10},null,8,["content"])]}))}:t.action==e.ActionType.Precondition?{name:"content",fn:Object(r["V"])((function(){return[Object(r["m"])("div",{innerHTML:e.getContent(t)},null,8,["innerHTML"])]}))}:void 0]),1024)})),128))])):(Object(r["A"])(),Object(r["g"])("div",Oi," Sign in to see node change log "))]})),_:1},8,["collapsed"])],64)}var gi,ji=n("743f"),yi=n("9899");n("2ca0");function xi(e,t,n){return Ii.apply(this,arguments)}function Ii(){return Ii=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=[],n.length&&o.push(Object(E["i"])("node_id","in",n)),t.length&&o.push(Object(E["i"])("action","in",t)),o.push(Object(E["i"])("user_id","!=","function")),i=Object(E["h"])(Object(E["b"])(Object(E["e"])(),"changes"),E["a"].apply(void 0,o),Object(E["g"])("timestamp","desc")),e.abrupt("return",Object(E["f"])(i,(function(e){var t=[];e.forEach((function(e){t.push({changeLogID:e.id,nodeID:e.get("node_id"),userID:e.get("user_id"),timestamp:e.get("timestamp"),action:e.get("action"),attributes:{value:e.get("attributes.value"),valueBefore:e.get("attributes.valueBefore"),valueAfter:e.get("attributes.valueAfter"),added:e.get("attributes.added"),removed:e.get("attributes.removed"),parentNodeID:e.get("attributes.parentNodeID")}})})),r(t)})));case 6:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ni(e){return wi.apply(this,arguments)}function wi(){return wi=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.next=3,O["a"].database().ref("map/".concat(t,"/name")).get();case 3:if(r=e.sent,!r.exists()){e.next=8;break}n["map/".concat(t)]=r.val(),e.next=12;break;case 8:return e.next=10,O["a"].database().ref("trash/".concat(t,"/map/name")).get();case 10:o=e.sent,o.exists()&&(n["trash/".concat(t)]=o.val());case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function ki(e){return Di.apply(this,arguments)}function Di(){return Di=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.next=3,O["a"].database().ref("public_user_data/".concat(t,"/displayName")).get();case 3:return r=e.sent,r.exists()&&(n["".concat(t)]=r.val()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Ti(e){return Ei.apply(this,arguments)}function Ei(){return Ei=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=Object(p["a"])(t);try{for(r.s();!(o=r.n()).done;)i=o.value,n.push(ki(i))}catch(d){r.e(d)}finally{r.f()}return e.next=5,Promise.all(n);case 5:a=e.sent,c={},s=Object(p["a"])(a);try{for(s.s();!(u=s.n()).done;)l=u.value,c[Object.keys(l)[0]]=Object.values(l)[0]}catch(d){s.e(d)}finally{s.f()}return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function _i(e){return Ri.apply(this,arguments)}function Ri(){return Ri=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=Object(p["a"])(t);try{for(r.s();!(o=r.n()).done;)i=o.value,n.push(Ni(i))}catch(d){r.e(d)}finally{r.f()}return e.next=5,Promise.all(n);case 5:a=e.sent,c={},s=Object(p["a"])(a);try{for(s.s();!(u=s.n()).done;)l=u.value,c[Object.keys(l)[0]]=Object.values(l)[0]}catch(d){s.e(d)}finally{s.f()}return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Ci(e,t){if(null==e)return"";var n="";return null!=t["map/".concat(e)]?n="map/".concat(e):null!=t["trash/".concat(e)]&&(n="trash/".concat(e)),n}function Si(e,t,n){return Pi.apply(this,arguments)}function Pi(){return Pi=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,n,(function(e){var t,n={},o={},i=Object(p["a"])(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(n[a.userID]="",o[a.nodeID]="",a.action==gi.ParentID&&(null!=a.attributes.valueBefore&&(o[a.attributes.valueBefore]=""),null!=a.attributes.valueAfter&&(o[a.attributes.valueAfter]="")),a.action==gi.Restore&&null!=a.attributes.parentNodeID&&(o[a.attributes.parentNodeID]=""),a.action==gi.Precondition){if(null!=a.attributes.removed){var c,s=Object(p["a"])(a.attributes.removed);try{for(s.s();!(c=s.n()).done;){var u=c.value;o[u]=""}}catch(h){s.e(h)}finally{s.f()}}if(null!=a.attributes.added){var l,d=Object(p["a"])(a.attributes.added);try{for(d.s();!(l=d.n()).done;){var b=l.value;o[b]=""}}catch(h){d.e(h)}finally{d.f()}}}}}catch(h){i.e(h)}finally{i.f()}var m=[];for(var f in o)m.push(f);var O=[];for(var v in n)O.push(v);Promise.all([_i(m),Ti(O)]).then((function(t){var n=t[0],o=t[1],i=[];e.forEach((function(e){var t=Ci(e.nodeID,n);if(e.action==gi.Name)i.push({changeLogID:e.changeLogID,timestamp:e.timestamp,action:e.action,userID:e.userID,userDisplayName:o[e.userID],node:{id:e.nodeID,idPath:t,name:n[t]},newName:e.attributes.value});else if(e.action==gi.Content)i.push({changeLogID:e.changeLogID,timestamp:e.timestamp,action:e.action,userID:e.userID,userDisplayName:o[e.userID],node:{id:e.nodeID,idPath:t,name:n[t]},newContent:e.attributes.value});else if(e.action==gi.Precondition){var r=[];if(e.attributes.removed){var a,c=Object(p["a"])(e.attributes.removed);try{for(c.s();!(a=c.n()).done;){var s=a.value;r.push({id:s,idPath:Ci(s,n),name:n[Ci(s,n)]})}}catch(h){c.e(h)}finally{c.f()}}var u=[];if(e.attributes.added){var l,d=Object(p["a"])(e.attributes.added);try{for(d.s();!(l=d.n()).done;){var b=l.value;u.push({id:b,idPath:Ci(b,n),name:n[Ci(b,n)]})}}catch(h){d.e(h)}finally{d.f()}}i.push({changeLogID:e.changeLogID,timestamp:e.timestamp,action:e.action,userID:e.userID,userDisplayName:o[e.userID],node:{id:e.nodeID,idPath:t,name:n[t]},removed:r,added:u})}else if(e.action==gi.ParentID&&null!==e.attributes.valueAfter){var m=Ci(e.attributes.valueBefore,n),f=Ci(e.attributes.valueAfter,n);i.push({changeLogID:e.changeLogID,timestamp:e.timestamp,action:e.action,userID:e.userID,userDisplayName:o[e.userID],node:{id:e.nodeID,idPath:t,name:n[t]},parentNodeBefore:{id:e.attributes.valueBefore,idPath:m,name:n[m]},parentNodeAfter:{id:e.attributes.valueAfter,idPath:f,name:n[f]},isRemoved:!1,isAdded:null==e.attributes.valueBefore})}else if(e.action==gi.Remove){var O=Ci(e.attributes.parentNodeID,n);i.push({changeLogID:e.changeLogID,timestamp:e.timestamp,action:e.action,userID:e.userID,userDisplayName:o[e.userID],node:{id:e.nodeID,idPath:t,name:n[t]},parentNodeBefore:{id:e.attributes.parentNodeID,idPath:O,name:n[O]},parentNodeAfter:null,isRemoved:!0,isAdded:!1})}else if(e.action==gi.Restore){var v=Ci(e.attributes.parentNodeID,n);i.push({changeLogID:e.changeLogID,timestamp:e.timestamp,action:e.action,userID:e.userID,userDisplayName:o[e.userID],node:{id:e.nodeID,idPath:t,name:n[t]},parentNodeBefore:null,parentNodeAfter:{id:e.attributes.parentNodeID,idPath:v,name:n[v]},isRemoved:!1,isAdded:!0})}})),r(i)}))})));case 1:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Ai(e){return e.startsWith("trash")}function Mi(e,t,n){return Ai(e)?'<a target="_blank" href="/node_description/'.concat(t,'">').concat(n,"</a>"):'<a target="_blank" href="/'.concat(t,'">').concat(n,"</a>")}(function(e){e["Name"]="name",e["ParentID"]="parentID",e["Content"]="content",e["Precondition"]="precondition",e["Remove"]="remove",e["Restore"]="restore"})(gi||(gi={}));var Bi=Object(r["m"])("h3",null,Object(r["N"])("Please use our discord channel to complain about inappropriate changes"),-1),Li=Object(r["m"])("h3",null,[Object(r["m"])("a",{target:"_blank",href:"https://discord.com/channels/1171118046543347782/1196694554791915600"},"Discord edit-complains channel")],-1),zi=Object(r["m"])("p",null," You can use the following text: ",-1),Vi=Object(r["l"])(" Hi, I think I found changes that was inappropriate because ... "),Hi=Object(r["m"])("br",null,null,-1),Ui=Object(r["m"])("br",null,null,-1),qi=Object(r["l"])(" This is the ...st time I found inappropriate changes from this user. "),Ji=Object(r["m"])("br",null,null,-1);function Wi(e,t,n,o,i,a){var c=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(c,{visible:e.complainModalVisible,"onUpdate:visible":t[1]||(t[1]=function(t){return e.complainModalVisible=t}),onHide:t[2]||(t[2]=function(t){return e.$emit("hide")}),dismissableMask:!0,closable:!0,modal:!0,closeOnEscape:!0},{header:Object(r["V"])((function(){return[Bi]})),footer:Object(r["V"])((function(){return[]})),default:Object(r["V"])((function(){return[Li,zi,Object(r["m"])("code",null,[Vi,Hi,Object(r["l"])(" Here is the changes I am talking about "+Object(r["N"])(e.complainChangeLink)+" ",1),Ui,qi,Ji])]})),_:1},8,["visible"])}var Gi=n("5bd2"),$i=Object(r["n"])({name:"ChangeLogComplain",props:{show:Boolean,complainChangeLink:String},components:{Dialog:Gi["a"]},emits:["hide"],setup:function(e){var t=Object(r["G"])(!1);return Object(r["T"])((function(){return[e.show]}),function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=n[0];case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),{complainModalVisible:t}}});$i.render=Wi;var Yi=$i,Fi=Object(r["n"])({name:"ChangeLog",computed:{ActionType:function(){return gi}},props:{nodeId:{type:String,required:!0}},components:{Markdown:fi,ChangeLogComplain:Yi,Fieldset:ji["a"],Card:yi["a"]},setup:function(e){var t=qt(),n=Object(r["e"])((function(){return t.state.user.user&&!t.state.user.user.isAnonymous})),o=Object(r["G"])(""),i=Object(r["G"])(!1),a=Object(r["G"])(!0),c=Object(r["E"])([]),u=function(){};return Object(r["T"])((function(){return[e.nodeId,a.value]}),function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n[0]!=r[0]&&(a.value=!0),u(),u=function(){},0!=a.value){t.next=7;break}return t.next=6,Si([gi.Name,gi.Content,gi.Precondition],[e.nodeId],(function(e){c.splice.apply(c,[0,c.length].concat(Object(q["a"])(e)))}));case 6:u=t.sent;case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),{changes:c,collapsed:a,toggle:function(e){a.value=e},showComplain:function(e){i.value=!0,o.value="https://scimap.org/change/"+e},getContent:function(e){e=e;var t,n=[],r=Object(p["a"])(e.removed);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(Mi(o.idPath,o.id,o.name))}}catch(l){r.e(l)}finally{r.f()}var i,a=[],c=Object(p["a"])(e.added);try{for(c.s();!(i=c.n()).done;){var s=i.value;a.push(Mi(s.idPath,s.id,s.name))}}catch(l){c.e(l)}finally{c.f()}var u="";return n.length>0&&(u+="removed: ".concat(n.join(", "))),a.length>0&&(u+="<br> added: ".concat(a.join(", "))),u},complainModalVisible:i,complainChangeLink:o,isAuthorized:n}}});Fi.render=hi;var Xi=Fi,Zi=Object(r["m"])("h3",null,Object(r["N"])("Choose parent from which pin will be visible"),-1);function Ki(e,t,n,o,i,a){var c=Object(r["J"])("PinIcon"),s=Object(r["J"])("Listbox"),u=Object(r["J"])("Button"),l=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c,{onClick:o.clickPin},null,8,["onClick"]),Object(r["m"])(l,{visible:o.addDialogVisible,"onUpdate:visible":t[2]||(t[2]=function(e){return o.addDialogVisible=e}),dismissableMask:!0,closable:!0,modal:!0,closeOnEscape:!0},{header:Object(r["V"])((function(){return[Zi]})),footer:Object(r["V"])((function(){return[Object(r["m"])(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o.cancelAdd},null,8,["onClick"]),Object(r["m"])(u,{label:"Yes",icon:"pi pi-check",onClick:o.add},null,8,["onClick"])]})),default:Object(r["V"])((function(){return[Object(r["m"])(s,{modelValue:o.selectedParent,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.selectedParent=e}),options:o.parents,optionLabel:"title"},null,8,["modelValue","options"])]})),_:1},8,["visible"])],64)}var Qi=n("bb57"),ea=n("dc4a"),ta=n("b969"),na=n.n(ta),ra=Object(r["Y"])("data-v-4ed46db5");Object(r["D"])("data-v-4ed46db5");var oa={key:0,class:"pin"},ia=Object(r["m"])("img",{style:{height:"35px"},alt:"pin-off",src:_r.a},null,-1),aa={key:1,class:"pin"},ca=Object(r["m"])("img",{style:{height:"35px"},alt:"pin-on",src:na.a},null,-1);Object(r["B"])();var sa=ra((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("div",{style:{cursor:"pointer"},onMouseenter:t[1]||(t[1]=function(e){return o.mouseOver=!0}),onMouseleave:t[2]||(t[2]=function(e){return o.mouseOver=!1})},[o.isPinned||o.mouseOver?(Object(r["A"])(),Object(r["g"])("div",oa,[ia])):(Object(r["A"])(),Object(r["g"])("div",aa,[ca]))],32)})),ua={name:"PinIcon",setup:function(){var e=qt(),t=Object(r["G"])(!1);return Object(r["T"])((function(){return e.state.tree.selectedNodeId}),Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=!1;case 1:case"end":return e.stop()}}),e)})))),{isPinned:Object(r["e"])((function(){return void 0!==e.state.pin.pins[e.state.tree.selectedNodeId]})),mouseOver:t}}};n("229a");ua.render=sa,ua.__scopeId="data-v-4ed46db5";var la=ua,da={name:"PinButton",components:{PinIcon:la,Dialog:Gi["a"],Button:Qi["a"],Listbox:ea["a"]},setup:function(){var e=qt(),t=Object(Go["b"])(),n=e.state.tree,o=Object(r["G"])(!1),i=Object(r["G"])(!1),a=Object(r["e"])((function(){return e.getters["tree/selectedNode"]})),c=Object(r["G"])(""),u=Object(r["e"])((function(){var e=[],t=n.nodeRecord[n.selectedNodeId].parent;while(n.nodeRecord[t.id].parent)e.push({title:t.title,id:t.id}),t=n.nodeRecord[t.id].parent;return e.push({title:"root",id:0}),e}));return{clickPin:function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.state.user&&e.state.user.user&&!e.state.user.user.isAnonymous){n.next=4;break}return n.next=3,e.dispatch("".concat(Lt.confirmSignInPopup),{confirm:t,message:"Please authorize to pin nodes"});case 3:return n.abrupt("return");case 4:void 0!==e.state.pin.pins[e.state.tree.selectedNodeId]?(e.dispatch("pin/".concat(m.RemovePin),e.state.tree.selectedNodeId),S.savePins(e.state.user.user,e.state.pin.pins)):o.value=!o.value;case 5:case"end":return n.stop()}}),n)})));function r(){return n.apply(this,arguments)}return r}(),selectedParent:i,parents:u,add:function(){o.value=!1,e.dispatch("pin/".concat(m.AddPin),{parentId:i.value.id,nodeId:a.value.id}),S.savePins(e.state.user.user,e.state.pin.pins),i.value=null},cancelAdd:function(){o.value=!1},addDialogVisible:o,newNodeTitle:c}}};da.render=Ki;var pa=da;function ba(e,t,n,o,i,a){var c=Object(r["J"])("SubscribeIcon");return Object(r["A"])(),Object(r["g"])(c,{onClick:e.toggleSubscribe,"is-on":e.isOn},null,8,["onClick","is-on"])}var ma=n("ce14"),fa=n.n(ma),Oa=Object(r["Y"])("data-v-5d02b387");Object(r["D"])("data-v-5d02b387");var va={key:0,class:"subscribe"},ha=Object(r["m"])("img",{style:{height:"35px"},alt:"img",src:Cr.a},null,-1),ga={key:1,class:"subscribe"},ja=Object(r["m"])("img",{style:{height:"35px"},alt:"img",src:fa.a},null,-1);Object(r["B"])();var ya=Oa((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("div",{style:{cursor:"pointer"},onMouseenter:t[1]||(t[1]=function(e){return o.mouseOver=!0}),onMouseleave:t[2]||(t[2]=function(e){return o.mouseOver=!1})},[n.isOn||o.mouseOver?(Object(r["A"])(),Object(r["g"])("div",va,[ha])):(Object(r["A"])(),Object(r["g"])("div",ga,[ja]))],32)})),xa={name:"SubscribeIcon",props:{isOn:Boolean},setup:function(){var e=Object(r["G"])(!1);return{mouseOver:e}}};n("6951");xa.render=ya,xa.__scopeId="data-v-5d02b387";var Ia=xa,Na=Object(r["n"])({name:"SubscribeButton",components:{SubscribeIcon:Ia},props:{nodeID:{type:String,required:!0}},setup:function(e){var t=qt();return{isOn:Object(r["e"])((function(){return!!t.state.subscriptions.subscriptions[e.nodeID]&&1==t.state.subscriptions.subscriptions[e.nodeID]})),toggleSubscribe:function(){t.dispatch("subscriptions/".concat(A.ToggleSubscription),e.nodeID)}}}});Na.render=ba;var wa=Na,ka=Object(r["Y"])("data-v-00857be5"),Da=ka((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["W"])(Object(r["m"])("p",{innerHTML:o.renderedContent,onClick:t[1]||(t[1]=function(e){return o.setEditOn(!0)}),class:"title"},null,8,["innerHTML"]),[[r["S"],!o.editOn]]),Object(r["m"])("textarea",{class:"title rawTitle p-inputtextarea p-inputtext p-component p-inputtextarea-resizable",style:{display:"none"},ref:"txtarea",rows:"1",value:n.content,onInput:t[2]||(t[2]=function(e){return o.changeContent(e.target.value)}),onFocusout:t[3]||(t[3]=function(e){return o.setEditOn(!1)})},null,40,["value"])],64)})),Ta={name:"Title",emits:["content-changed"],props:{content:{type:String,required:!0}},setup:function(e,t){var n=Object(r["e"])((function(){return e.content})),o=Object(r["G"])(!1),i=qt(),a=Object(r["G"])(null);return{editOn:o,txtarea:a,setEditOn:function(e){i.state.user&&i.state.user.user&&!i.state.user.user.isAnonymous&&(o.value=e,e&&a.value&&(a.value.style.display="block",a.value.focus()),!e&&a.value&&(a.value.style.display="none"))},renderedContent:n,changeContent:function(e){t.emit("content-changed",e)}}}};n("0c69");Ta.render=Da,Ta.__scopeId="data-v-00857be5";var Ea=Ta;function _a(e,t,n,o,i,a){var c=Object(r["J"])("AddBasedOnIcon"),s=Object(r["J"])("Button"),u=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c,{onClick:o.showAddBanner},null,8,["onClick"]),Object(r["m"])(u,{visible:o.addBannerVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return o.addBannerVisible=e}),dismissableMask:!1,closable:!0,modal:!1,closeOnEscape:!0,onMousedown:t[2]||(t[2]=Object(r["X"])((function(){}),["stop"]))},{header:Object(r["V"])((function(){return[Object(r["m"])("h3",null,' Set "'+Object(r["N"])(o.preconditionNode.title?o.preconditionNode.title:o.selectedNode?o.selectedNode.title:"")+'" as precondition for "'+Object(r["N"])(o.targetNode?o.targetNode.title:"")+'" ',1)]})),footer:Object(r["V"])((function(){return[Object(r["m"])(s,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:o.cancelAdd},null,8,["onClick"]),Object(r["m"])(s,{label:"Done",icon:"pi pi-check",onClick:o.add},null,8,["onClick"])]})),_:1},8,["visible"])],64)}var Ra=n("7835"),Ca=n.n(Ra),Sa=Object(r["Y"])("data-v-2494d1ac");Object(r["D"])("data-v-2494d1ac");var Pa={key:0,class:"custom"},Aa=Object(r["m"])("img",{style:{height:"35px"},alt:"pin-off",src:Ca.a},null,-1),Ma={key:1,class:"custom"},Ba=Object(r["m"])("img",{style:{height:"35px"},alt:"pin-on",src:mr.a},null,-1);Object(r["B"])();var La=Sa((function(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("div",{style:{cursor:"pointer"},onMouseenter:t[1]||(t[1]=function(e){return o.mouseOver=!0}),onMouseleave:t[2]||(t[2]=function(e){return o.mouseOver=!1})},[o.mouseOver?(Object(r["A"])(),Object(r["g"])("div",Pa,[Aa])):(Object(r["A"])(),Object(r["g"])("div",Ma,[Ba]))],32)})),za={name:"AddBasedOnIcon",setup:function(){var e=Object(r["G"])(!1);return{mouseOver:e}}};n("7ccc");za.render=La,za.__scopeId="data-v-2494d1ac";var Va=za,Ha={name:"AddBasedOnButton",components:{Dialog:Gi["a"],Button:Qi["a"],AddBasedOnIcon:Va},emits:["select-precondition-is-on","select-precondition-is-off"],props:{clickedTitleId:{type:String,required:!0}},setup:function(e,t){var n=qt(),o=Object(Go["b"])(),i=Object(r["G"])(!1),a=Object(r["G"])({}),c=Object(r["G"])({}),u=Object(r["e"])((function(){return n.getters["tree/selectedNode"]}));return Object(r["T"])((function(){return e.clickedTitleId}),(function(){i.value&&"-1"!==e.clickedTitleId&&n.state.tree.nodeRecord[e.clickedTitleId]&&(c.value=n.state.tree.nodeRecord[e.clickedTitleId].node)}),{immediate:!0}),{showAddBanner:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.state.user&&n.state.user.user&&!n.state.user.user.isAnonymous){e.next=4;break}return e.next=3,n.dispatch("".concat(Lt.confirmSignInPopup),{confirm:o,message:"Please authorize to added node prerequisites"});case 3:return e.abrupt("return");case 4:t.emit("select-precondition-is-on"),a.value=n.getters["tree/selectedNode"],i.value=!i.value;case 7:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),add:function(){var e=[];n.state.precondition.preconditions[a.value.id]&&(e=n.state.precondition.preconditions[a.value.id]),e.push(c.value.id),S.savePreconditions(n.state.user.user,{nodeId:a.value.id,preconditionIds:e}),t.emit("select-precondition-is-off"),i.value=!1,c.value={}},cancelAdd:function(){i.value=!1,c.value={},t.emit("select-precondition-is-off")},addBannerVisible:i,targetNode:a,preconditionNode:c,selectedNode:u}}};Ha.render=_a;var Ua=Ha,qa=Object(r["m"])("div",{style:{width:"431px","padding-right":"10px"}},' Press "copy markdown link" button to add image into this node description ',-1),Ja=Object(r["l"])("upload"),Wa=Object(r["m"])("div",{style:{height:"10px"}},null,-1),Ga=Object(r["m"])("div",{style:{height:"10px"}},null,-1),$a={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},Ya=Object(r["l"])("set as default"),Fa=Object(r["l"])("copy markdown link"),Xa=Object(r["m"])("span",{class:"material-symbols-outlined"},"delete",-1);function Za(e,t,n,o,i,a){var c=Object(r["J"])("Button"),s=Object(r["J"])("ProgressBar"),u=Object(r["J"])("Card"),l=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[e.isAuthorized?(Object(r["A"])(),Object(r["g"])("img",{key:0,style:{position:"absolute",left:"0",top:"0",width:"100%",height:"240px",cursor:"pointer"},alt:"welcome",src:e.defaultImageURL,onClick:t[1]||(t[1]=function(){return e.toggleAddDialog&&e.toggleAddDialog.apply(e,arguments)})},null,8,["src"])):(Object(r["A"])(),Object(r["g"])("img",{key:1,style:{position:"absolute",left:"0",top:"0",width:"100%",height:"240px"},alt:"welcome",src:e.defaultImageURL},null,8,["src"])),Object(r["m"])("input",{type:"file",ref:"input",style:{display:"none"},onChange:t[2]||(t[2]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)}),accept:"image/*"},null,544),Object(r["m"])(l,{visible:e.addDialogVisible,"onUpdate:visible":t[3]||(t[3]=function(t){return e.addDialogVisible=t}),dismissableMask:!0,closable:!0,modal:!0,closeOnEscape:!0,onMousedown:t[4]||(t[4]=Object(r["X"])((function(){}),["stop"]))},{header:Object(r["V"])((function(){return[qa]})),default:Object(r["V"])((function(){return[Object(r["m"])(c,{rounded:"",onClick:e.triggerUpload},{default:Object(r["V"])((function(){return[Ja]})),_:1},8,["onClick"]),Wa,e.showProgressBar?(Object(r["A"])(),Object(r["g"])(s,{key:0,mode:"indeterminate",style:{height:"6px"}})):Object(r["h"])("",!0),Ga,(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.items,(function(t,n){return Object(r["A"])(),Object(r["g"])(u,{key:n,class:"p-mt-1"},{content:Object(r["V"])((function(){return[Object(r["m"])("img",{alt:"image",src:t.url,style:{width:"431px"}},null,8,["src"])]})),footer:Object(r["V"])((function(){return[Object(r["m"])("div",$a,[Object(r["m"])(c,{rounded:"",onClick:function(n){return e.setAsDefault(t.url)}},{default:Object(r["V"])((function(){return[Ya]})),_:2},1032,["onClick"]),Object(r["m"])(c,{rounded:"",onClick:function(n){return e.copyMDLink(t.url)}},{default:Object(r["V"])((function(){return[Fa]})),_:2},1032,["onClick"]),e.showRemoveButton(t.id)?(Object(r["A"])(),Object(r["g"])(c,{key:0,onClick:function(n){return e.toTrash(t.id)},severity:"danger",text:"",raised:"",rounded:"","aria-label":"Delete"},{icon:Object(r["V"])((function(){return[Xa]})),_:2},1032,["onClick"])):Object(r["h"])("",!0)])]})),_:2},1024)})),128))]})),_:1},8,["visible"])],64)}n("2b3d");var Ka=n("18cb"),Qa=n("c045"),ec=n("d374"),tc="webp",nc=Object(r["n"])({name:"TitleImage",components:{Button:Qi["a"],Card:yi["a"],Dialog:Gi["a"],ProgressBar:Qa["a"]},props:{nodeID:{type:String,required:!0},nodeContent:{type:String,required:!0}},setup:function(e){var t=Object(Ka["b"])(),n=qt(),o=Object(Go["b"])(),i=Object(r["G"])(!1),a=Object(r["G"])(),c="https://cdn.scimap.org/images/default.jpg",u=Object(r["G"])([]),l=Object(r["G"])(!1),d=Object(r["G"])(c),p=Object(r["e"])((function(){return"/node_image/".concat(e.nodeID)}));return Object(r["U"])((function(){var t=n.state.image.images[e.nodeID];for(var r in u.value=[],u.value.push({id:"",timestamp:1/0,name:"default",url:c,removed:0}),d.value=c,t)"default"!=r?u.value.push({id:r,timestamp:Number(r),name:t[r].name,url:"https://cdn.scimap.org"+t[r].path,removed:t[r].removed}):d.value=t[r].url;u.value=u.value.filter((function(e){return!e.removed})).sort((function(e,t){return t.timestamp-e.timestamp}))})),{items:u,isAuthorized:Object(r["e"])((function(){return n.state.user&&n.state.user.user&&!n.state.user.user.isAnonymous})),defaultImageURL:d,setAsDefault:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].database().ref("".concat(p.value)).update({default:{url:t,name:""}});case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),copyMDLink:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText("![](".concat(n," =350x)"));case 2:t.add({severity:"info",summary:"Copied",detail:"You can now paste it into node description. Please, do not use this link in other node description as someone can remove it from this node images as not used!",life:1e3});case 3:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}(),showRemoveButton:function(t){return!!t&&(!e.nodeContent.length||!e.nodeContent.includes(t))},toTrash:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.require({message:"Are you sure you want to delete this image?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined",rejectLabel:"Cancel",acceptLabel:"Delete",accept:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].database().ref("".concat(p.value,"/").concat(n)).update({removed:(new Date).getTime()});case 2:t.add({severity:"info",summary:"Image was deleted",detail:"",life:3e3});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()});case 1:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}(),toggleAddDialog:function(){i.value=!i.value},addDialogVisible:i,input:a,triggerUpload:function(){a.value.click()},showProgressBar:l,onInputChange:function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(o){var i,a,c,s,u,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.state.user&&n.state.user.user&&!n.state.user.user.isAnonymous&&0!=e.nodeID.length){r.next=2;break}return r.abrupt("return");case 2:return l.value=!0,i=o.target.files[0],r.next=6,Object(ec["a"])(i,90,0,0,tc);case 6:if(a=r.sent,!(a.size>5e5)){r.next=14;break}return r.next=10,Object(ec["a"])(i,90,1200,"auto",tc);case 10:if(a=r.sent,!(a.size>5e5)){r.next=14;break}return t.add({severity:"info",summary:"Sorry",detail:"Cannot compress file, please try to resize/compress it to less than 500Kb",life:3e3}),r.abrupt("return");case 14:c=i.name,s=(new Date).getTime(),u="/user/".concat(n.state.user.user.uid,"/image/").concat(s,".").concat(tc),d=O["a"].storage().ref(u).put(a),d.on("state_changed",(function(e){}),(function(e){console.log(e.message)}),(function(){l.value=!1,d.snapshot.ref.getDownloadURL().then((function(e){var t={};try{t=new URL(e)}catch(r){return void console.log(r)}var n=t.protocol+"//"+t.hostname+(""==t.port?"":":"+t.port)+t.pathname+"?alt=media";O["a"].database().ref("".concat(p.value,"/").concat(s)).update({name:c,path:u,url:n})}))}));case 19:case"end":return r.stop()}}),r)})));function o(e){return r.apply(this,arguments)}return o}()}}});nc.render=Za;var rc=nc,oc=n("a68e"),ic=n("8102"),ac=new ui.a;ac.use(oc,{output:"html"}).use(ic);var cc=Object(r["n"])({name:"NodeContent",components:{TitleImage:rc,AddBasedOnButton:Ua,Title:Ea,SectionUsedBy:ii,Markdown:fi,TextArea:Co["a"],SectionPreconditions:Qo,ChangeLog:Xi,PinButton:pa,SubscribeButton:wa},emits:["select-precondition-is-on","select-precondition-is-off"],props:{show:{type:Boolean,required:!0},selectedNodeId:{type:String||null,validator:function(e){return"string"===typeof e||null===e},required:!0},clickedTitleId:{type:String,required:!0},wrapperHeight:{type:Number,required:!0}},setup:function(e){var t=Object(r["Q"])(),n=qt(),o=Object(Go["b"])(),i=n.state.tree,a=Object(r["e"])((function(){return e.selectedNodeId&&i.nodeRecord[e.selectedNodeId]?i.nodeRecord[e.selectedNodeId].node:null})),c=Object(r["e"])((function(){if(e.selectedNodeId&&n.state.nodeContent.nodeContents[e.selectedNodeId])return n.state.nodeContent.nodeContents[e.selectedNodeId];var t=K(Ae);return t.nodeID=e.selectedNodeId,t})),l=Object(r["e"])((function(){return e.selectedNodeId&&n.state.nodeContent.userNodeComments[e.selectedNodeId]?n.state.nodeContent.userNodeComments[e.selectedNodeId].comment:""}));return{md:ac,usedBy:Object(r["e"])((function(){return n.state.precondition.reverseIndex[e.selectedNodeId]})),editModeOn:Object(r["e"])((function(){return n.state.editModeOn})),selectedNode:a,selectedNodeContent:c,checkAuthorized:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.state.user.user&&!n.state.user.user.isAnonymous){e.next=4;break}return e.next=3,n.dispatch("".concat(Lt.confirmSignInPopup),{confirm:o,message:"Please authorize to add comments and edit content"});case 3:t.preventDefault();case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),selectedNodeComment:l,changeNodeTitle:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.value&&a.value.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.debouncedUpdate(Object(u["a"])({},"map/".concat(a.value.id,"/name"),t));case 4:n=e.sent,n&&Q(n.error.message,n.kv);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),changeContent:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("nodeContent/".concat(Pe.setNodeContent),{nodeID:a.value.id,content:t});case 2:r=e.sent,r&&Q(r,{});case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),changeComment:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("nodeContent/".concat(Pe.setNodeComment),{nodeID:a.value.id,comment:t});case 2:r=e.sent,r&&Q(r,{});case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),isWideScreen:Xn,wrapperClass:function(){return Xn()?t.wrapperContent:t.wrapperContentMobile}}}}),sc=n("5c0f");const uc=cc.__cssModules={};uc["$style"]=sc["default"],cc.render=Ro;var lc=cc,dc=n("9383"),pc=n("b3b6"),bc=n("c8fa"),mc=n.n(bc),fc={key:0,style:{width:"100%"}},Oc={style:{position:"absolute",right:"1.5rem",top:"1.2rem"}},vc=Object(r["m"])("img",{alt:"user",src:mc.a,style:{width:"1.2rem"}},null,-1),hc={key:0,style:{position:"absolute",right:"6.1rem",top:"1.2rem"}},gc={key:2,style:{position:"absolute",right:"20.6rem",top:"1.2rem"}},jc={key:3,style:{position:"absolute",right:"26.6rem",top:"1.2rem"}},yc={key:4,style:{position:"absolute",right:"32.6rem",top:"1.2rem"}},xc={key:5,style:{position:"absolute",right:"39.6rem",top:"1.2rem"}},Ic={key:1};function Nc(e,t,n,o,i,a){var c=Object(r["J"])("MenuButton"),s=Object(r["J"])("PrimeMenu"),u=Object(r["J"])("Feedback"),l=Object(r["J"])("EditMode"),d=Object(r["J"])("MapChangeLog"),p=Object(r["J"])("AddNode"),b=Object(r["J"])("RemoveNode"),m=Object(r["J"])("CutPaste"),f=Object(r["J"])("Button");return Object(r["A"])(),Object(r["g"])("div",{class:e.$style.wrapper},[o.email?(Object(r["A"])(),Object(r["g"])("div",fc,[Object(r["m"])("div",Oc,[Object(r["m"])(c,{onClick:o.toggleUserMenu},{default:Object(r["V"])((function(){return[vc]})),_:1},8,["onClick"]),Object(r["m"])(s,{ref:"menu",id:"overlay_menu",model:o.items,popup:!0},null,8,["model"])]),o.isWideScreen()?(Object(r["A"])(),Object(r["g"])("div",hc,[Object(r["m"])(u)])):Object(r["h"])("",!0),o.isWideScreen()?(Object(r["A"])(),Object(r["g"])(l,{key:1,style:{position:"absolute",right:"12.5rem",top:"1.2rem"}})):Object(r["h"])("",!0),o.editModeOn&&o.isWideScreen()?(Object(r["A"])(),Object(r["g"])("div",gc,[Object(r["m"])(d,{onRestoreSelectNewParentIsOn:t[1]||(t[1]=function(t){return e.$emit("restore-select-new-parent-is-on")}),onRestoreSelectNewParentIsOff:t[2]||(t[2]=function(t){return e.$emit("restore-select-new-parent-is-off")}),clickedTitleId:n.clickedTitleId},null,8,["clickedTitleId"])])):Object(r["h"])("",!0),o.editModeOn?(Object(r["A"])(),Object(r["g"])("div",jc,[Object(r["m"])(p)])):Object(r["h"])("",!0),o.editModeOn?(Object(r["A"])(),Object(r["g"])("div",yc,[Object(r["m"])(b)])):Object(r["h"])("",!0),o.editModeOn?(Object(r["A"])(),Object(r["g"])("div",xc,[Object(r["m"])(m)])):Object(r["h"])("",!0)])):(Object(r["A"])(),Object(r["g"])("div",Ic,[Object(r["m"])(f,{onClick:o.signIn,style:{position:"absolute",right:"2rem",top:"1.2rem"},rounded:"",size:"small",icon:"pi pi-sign-in",label:o.isWideScreen()?"sign in":""},null,8,["onClick","label"])]))],2)}var wc=Object(r["m"])("img",{alt:"icon",src:mr.a,style:{width:"20px"}},null,-1),kc=Object(r["m"])("span",{class:"p-ml-2"},"add",-1);function Dc(e,t,n,o,i,a){var c=Object(r["J"])("MenuButton"),s=Object(r["J"])("Input"),u=Object(r["J"])("Button"),l=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c,{onClick:o.toggleAddDialog},{default:Object(r["V"])((function(){return[wc,kc]})),_:1},8,["onClick"]),Object(r["m"])(l,{visible:o.addDialogVisible,"onUpdate:visible":t[2]||(t[2]=function(e){return o.addDialogVisible=e}),dismissableMask:!0,closable:!0,modal:!0,closeOnEscape:!0,onMousedown:t[3]||(t[3]=Object(r["X"])((function(){}),["stop"]))},{header:Object(r["V"])((function(){return[Object(r["m"])("h3",null,Object(r["N"])(o.selectedNodeTitle?"Add subsection to ".concat(o.selectedNodeTitle):"Add section"),1)]})),footer:Object(r["V"])((function(){return[Object(r["m"])(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o.cancelAdd},null,8,["onClick"]),Object(r["m"])(u,{label:"Yes",icon:"pi pi-check",onClick:o.add},null,8,["onClick"])]})),default:Object(r["V"])((function(){return[Object(r["m"])(s,{type:"text",modelValue:o.newNodeTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.newNodeTitle=e})},null,8,["modelValue"])]})),_:1},8,["visible"])],64)}var Tc=n("8398");function Ec(e,t,n,o,i,a){var c=Object(r["J"])("Button");return Object(r["A"])(),Object(r["g"])(c,{size:"small",rounded:"",onMouseenter:t[1]||(t[1]=function(t){return e.mouseover=!0}),onMouseleave:t[2]||(t[2]=function(t){return e.mouseover=!1}),style:(e.mouseover?"background-color: #03dbfc; ":e.bgColor?"background-color: ".concat(e.bgColor,";"):"background-color: white;")+"color: black; border-color:#3B6BF9;"},{default:Object(r["V"])((function(){return[Object(r["I"])(e.$slots,"default")]})),_:3},8,["style"])}var _c=Object(r["n"])({name:"MenuButton",components:{Button:Qi["a"]},props:{bgColor:String},setup:function(){var e=Object(r["G"])(!1);return{mouseover:e}}});_c.render=Ec;var Rc=_c,Cc={name:"AddNode",components:{MenuButton:Rc,Dialog:Gi["a"],Button:Qi["a"],Input:Tc["a"]},setup:function(){var e=qt(),t=Object(r["G"])(!1),n=Object(r["e"])((function(){return e.getters["tree/selectedNode"]})),o=Object(r["G"])("");return{selectedNodeTitle:Object(r["e"])((function(){return n.value?n.value.title:""})),toggleAddDialog:function(){return t.value=!t.value},add:function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.dispatch("".concat(Lt.createNode),{parentID:n.value?n.value.id:0,title:o.value});case 2:i=r.sent,e.commit("positionChangePermits/".concat(V.ADD_NODES),[i].concat(Object(q["a"])(e.state.tree.nodeRecord[n.value.id].node.children.map((function(e){return e.id}))))),o.value="",t.value=!1;case 6:case"end":return r.stop()}}),r)})));function i(){return r.apply(this,arguments)}return i}(),cancelAdd:function(){o.value="",t.value=!1},addDialogVisible:t,newNodeTitle:o}}};Cc.render=Dc;var Sc=Cc,Pc=Object(r["m"])("img",{alt:"icon",src:Or.a,style:{width:"20px"}},null,-1),Ac=Object(r["m"])("span",{class:"p-ml-2"},"delete",-1);function Mc(e,t,n,o,i,a){var c=Object(r["J"])("MenuButton"),s=Object(r["J"])("Button"),u=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c,{onClick:o.toggleDialog,disabled:!o.selectedNodeTitle},{default:Object(r["V"])((function(){return[Pc,Ac]})),_:1},8,["onClick","disabled"]),Object(r["m"])(u,{visible:o.addDialogVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return o.addDialogVisible=e}),dismissableMask:!0,closable:!0,modal:!0,closeOnEscape:!0},{header:Object(r["V"])((function(){return[Object(r["m"])("h3",null,Object(r["N"])('Remove "'.concat(o.selectedNodeTitle,'" and all its descendants?')),1)]})),footer:Object(r["V"])((function(){return[Object(r["m"])(s,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o.cancel},null,8,["onClick"]),Object(r["m"])(s,{label:"Yes",icon:"pi pi-check",onClick:o.remove},null,8,["onClick"])]})),_:1},8,["visible"])],64)}var Bc={name:"RemoveNode",components:{MenuButton:Rc,Dialog:Gi["a"],Button:Qi["a"]},setup:function(){var e=qt(),t=Object(Ka["b"])(),n=Object(r["G"])(!1),o=Object(r["e"])((function(){return e.getters["tree/selectedNode"]}));return{selectedNodeTitle:Object(r["e"])((function(){return o.value?o.value.title:""})),toggleDialog:function(){var r=o.value.id,i=[r],a=[];while(i.length>0){var c,s=i.pop();a.push(s),(c=i).push.apply(c,Object(q["a"])(e.state.tree.nodeRecord[s].node.children.map((function(e){return e.id}))))}i=[r];var u={};while(i.length>0){var d,p=i.pop(),b=$n(a,e.state.precondition.reverseIndex[p]),m=Object(l["a"])(b,2),f=m[0];m[1];e.state.precondition.reverseIndex[p]&&f.length>0&&(u[p]=f),(d=i).push.apply(d,Object(q["a"])(e.state.tree.nodeRecord[p].node.children.map((function(e){return e.id}))))}if(Object.keys(u).length>0){var O=function(){var n=e.state.tree.nodeRecord,r="";for(var o in u)r+="<div>- remove ".concat(Gn(o,n)," from 'based on' of ").concat(u[o].map((function(e){return Gn(e,n)})).join(", "),"</div>");return t.add({severity:"info",summary:"Cannot remove node until some other nodes use it or its children in their 'based on'",detail:"If you are sure you want to remove it, please: "+r,life:3e4}),{v:void 0}}();if("object"===Object(J["a"])(O))return O.v}n.value=!n.value},remove:function(){n.value=!1,e.dispatch("".concat(Lt.removeNode),o.value.id),e.commit("positionChangePermits/".concat(V.ADD_NODES),e.state.tree.nodeRecord[o.value.id].parent.children.map((function(e){return e.id}))),e.commit("tree/".concat(xt.SET_SELECTED_NODE_ID),e.state.tree.nodeRecord[o.value.id].parent.id)},cancel:function(){n.value=!1},addDialogVisible:n}}};Bc.render=Mc;var Lc=Bc,zc=n("8423"),Vc=n.n(zc),Hc=n("4612"),Uc=n.n(Hc),qc=Object(r["m"])("img",{alt:"icon",src:Vc.a,style:{width:"20px"}},null,-1),Jc=Object(r["m"])("span",{class:"p-ml-2"},"edit map",-1),Wc=Object(r["m"])("img",{alt:"icon",src:Uc.a,style:{width:"20px"}},null,-1),Gc=Object(r["m"])("span",{class:"p-ml-2"},"edit map",-1);function $c(e,t,n,o,i,a){var c=Object(r["J"])("MenuButton");return Object(r["A"])(),Object(r["g"])("div",null,[o.editModeOn?Object(r["h"])("",!0):(Object(r["A"])(),Object(r["g"])(c,{key:0,onClick:o.on,style:{height:"35px"}},{default:Object(r["V"])((function(){return[qc,Jc]})),_:1},8,["onClick"])),o.editModeOn?(Object(r["A"])(),Object(r["g"])(c,{key:1,onClick:o.off,style:{height:"35px"},"bg-color":"#03dbfc;"},{default:Object(r["V"])((function(){return[Wc,Gc]})),_:1},8,["onClick"])):Object(r["h"])("",!0)])}var Yc={name:"EditMode",components:{MenuButton:Rc},setup:function(){var e=qt();return{editModeOn:Object(r["e"])((function(){return e.state.editModeOn})),on:function(){e.dispatch("".concat(Lt.setEditMode),!0)},off:function(){e.dispatch("".concat(Lt.setEditMode),!1)}}}};Yc.render=$c;var Fc=Yc,Xc=n("70bb"),Zc=n.n(Xc),Kc=Object(r["m"])("img",{alt:"icon",src:hr.a,style:{width:"20px"}},null,-1),Qc=Object(r["m"])("span",{class:"p-ml-2"},"cut",-1),es=Object(r["m"])("img",{alt:"icon",src:Zc.a,style:{width:"20px"}},null,-1),ts=Object(r["m"])("span",{class:"p-ml-2"},"paste",-1);function ns(e,t,n,o,i,a){var c=Object(r["J"])("MenuButton");return Object(r["A"])(),Object(r["g"])(r["a"],null,[null==o.cutNodeID?(Object(r["A"])(),Object(r["g"])(c,{key:0,onClick:o.cut,disabled:!o.selectedNode},{default:Object(r["V"])((function(){return[Kc,Qc]})),_:1},8,["onClick","disabled"])):Object(r["h"])("",!0),null!=o.cutNodeID?(Object(r["A"])(),Object(r["g"])(c,{key:1,onClick:o.paste},{default:Object(r["V"])((function(){return[es,ts]})),_:1},8,["onClick"])):Object(r["h"])("",!0)],64)}var rs={name:"CutPaste",components:{MenuButton:Rc},setup:function(){var e=qt(),t=Object(r["e"])((function(){return e.getters["tree/selectedNode"]})),n=Object(r["G"])(null);return{selectedNode:t,cutNodeID:n,cut:function(){n.value=t.value.id},paste:function(){var r=e.state.tree.nodeRecord[n.value].parent.children.map((function(e){return e.id})),o=e.state.tree.nodeRecord[t.value.id].node.children.map((function(e){return e.id}));e.commit("positionChangePermits/".concat(V.ADD_NODES),[].concat(Object(q["a"])(r),Object(q["a"])(o))),e.dispatch("".concat(Lt.cutPasteNode),{nodeID:n.value,parentID:t.value.id}),n.value=null}}}};rs.render=ns;var os=rs,is=Object(r["m"])("img",{alt:"icon",src:Pr.a,style:{width:"20px"}},null,-1),as=Object(r["m"])("span",{class:"p-ml-2"},"chat",-1);function cs(e,t,n,o,i,a){var c=Object(r["J"])("MenuButton");return Object(r["A"])(),Object(r["g"])(c,{onClick:o.send},{default:Object(r["V"])((function(){return[is,as]})),_:1},8,["onClick"])}var ss={name:"Feedback",components:{MenuButton:Rc},setup:function(){return{send:function(){window.open("https://discord.com/channels/1171118046543347782/1171118047105396749","_blank")}}}};ss.render=cs;var us=ss,ls=n("fc68"),ds=n.n(ls),ps=Object(r["m"])("img",{alt:"icon",src:jr.a,style:{width:"20px"}},null,-1),bs=Object(r["m"])("span",{class:"p-ml-2"},"log",-1),ms=Object(r["m"])("h3",null," Map change log ",-1),fs={class:"p-grid"},Os={class:"p-col-1"},vs={key:0,alt:"add_icon",src:mr.a,style:{width:"20px"}},hs={key:1,alt:"add_icon",src:Or.a,style:{width:"20px"}},gs={key:2,alt:"add_icon",src:ds.a,style:{width:"20px"}},js={class:"p-col-6"},ys={class:"p-col-5"};function xs(e,t,n,o,i,a){var c=Object(r["J"])("ChangeLogComplain"),s=Object(r["J"])("MenuButton"),u=Object(r["J"])("RestoreNode"),l=Object(r["J"])("Card"),d=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[Object(r["m"])(c,{show:e.complainModalVisible,complainChangeLink:e.complainChangeLink,onHide:t[1]||(t[1]=function(t){return e.complainModalVisible=!1})},null,8,["show","complainChangeLink"]),Object(r["m"])(s,{onClick:e.toggleAddDialog},{default:Object(r["V"])((function(){return[ps,bs]})),_:1},8,["onClick"]),Object(r["m"])(d,{visible:e.addDialogVisible,"onUpdate:visible":t[4]||(t[4]=function(t){return e.addDialogVisible=t}),dismissableMask:!1,closable:!0,modal:!1,closeOnEscape:!0,onMousedown:t[5]||(t[5]=Object(r["X"])((function(){}),["stop"]))},{header:Object(r["V"])((function(){return[ms]})),default:Object(r["V"])((function(){return[(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(e.changes,(function(n,o){return Object(r["A"])(),Object(r["g"])(l,{key:o,class:"p-mt-3"},{title:Object(r["V"])((function(){return[Object(r["m"])("div",fs,[Object(r["m"])("div",Os,[n.isAdded?(Object(r["A"])(),Object(r["g"])("img",vs)):n.isRemoved?(Object(r["A"])(),Object(r["g"])("img",hs)):(Object(r["A"])(),Object(r["g"])("img",gs))]),Object(r["m"])("div",js,Object(r["N"])(new Date(n.timestamp).toLocaleDateString())+" "+Object(r["N"])(new Date(n.timestamp).toLocaleTimeString()),1),Object(r["m"])("div",ys,[Object(r["m"])(u,{onRestoreSelectNewParentIsOn:t[2]||(t[2]=function(t){return e.$emit("restore-select-new-parent-is-on")}),onRestoreSelectNewParentIsOff:t[3]||(t[3]=function(t){return e.$emit("restore-select-new-parent-is-off")}),clickedTitleId:e.clickedTitleId,event:n},null,8,["clickedTitleId","event"])])])]})),subtitle:Object(r["V"])((function(){return[Object(r["l"])(Object(r["N"])(n.userDisplayName)+" / ",1),Object(r["m"])("a",{href:"#",onClick:function(t){return e.showComplain(n.changeLogID)}},"Complain",8,["onClick"])]})),content:Object(r["V"])((function(){return[Object(r["m"])("div",{style:{width:"20rem"},innerHTML:e.getActionDescription(n)},null,8,["innerHTML"])]})),_:2},1024)})),128))]})),_:1},8,["visible"])],64)}var Is=n("4fbc"),Ns=n.n(Is),ws=Object(r["m"])("h3",null," Parent node of this node was deleted, please select new parent. ",-1);function ks(e,t,n,o,i,a){var c=Object(r["J"])("Button"),s=Object(r["J"])("Dialog");return Object(r["A"])(),Object(r["g"])(r["a"],null,[e.event.isRemoved&&e.IsNodeInTrash(e.event.node.idPath)?(Object(r["A"])(),Object(r["g"])("img",{key:0,alt:"add_icon",src:Ns.a,style:{width:"30px",cursor:"pointer"},onClick:t[1]||(t[1]=function(t){return e.revertRemove(e.event)})})):Object(r["h"])("",!0),Object(r["m"])(s,{visible:e.newParentDialogVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.newParentDialogVisible=t}),dismissableMask:!1,closable:!0,modal:!1,closeOnEscape:!0,onMousedown:t[3]||(t[3]=Object(r["X"])((function(){}),["stop"]))},{header:Object(r["V"])((function(){return[ws]})),footer:Object(r["V"])((function(){return[Object(r["m"])(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:e.cancelAdd},null,8,["onClick"]),Object(r["m"])(c,{label:"Done",icon:"pi pi-check",onClick:e.add},null,8,["onClick"])]})),default:Object(r["V"])((function(){return[Object(r["l"])(' Set "'+Object(r["N"])(e.newParentNode&&e.newParentNode.title?e.newParentNode.title:"")+'" as new parent node. ',1)]})),_:1},8,["visible"])],64)}var Ds=Object(r["n"])({name:"RestoreNode",components:{Dialog:Gi["a"],Button:Qi["a"]},emits:["restore-select-new-parent-is-on","restore-select-new-parent-is-off"],props:{event:{type:Object,required:!0},clickedTitleId:{type:String,required:!0}},setup:function(e,t){var n=qt(),o=Object(r["G"])(!1),i=Object(r["G"])(null),a=Object(r["G"])("");Object(r["T"])((function(){return e.clickedTitleId}),(function(){o.value&&a.value&&"-1"!==e.clickedTitleId&&n.state.tree.nodeRecord[e.clickedTitleId]&&(i.value=n.state.tree.nodeRecord[e.clickedTitleId].node)}),{immediate:!0});var c=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.update(Object(u["a"])({},"cmd/restore",{nodeID:t,parentID:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{newParentDialogVisible:o,newParentNode:i,cancelAdd:function(){o.value=!1,a.value="",i.value=null,t.emit("restore-select-new-parent-is-off")},add:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(a.value,i.value.id);case 2:t.emit("restore-select-new-parent-is-off"),o.value=!1,a.value="",i.value=null;case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),IsNodeInTrash:Ai,revertRemove:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isRemoved){e.next=2;break}return e.abrupt("return");case 2:if(!n.parentNodeBefore||Ai(n.parentNodeBefore.idPath)){e.next=8;break}if(!Ai(n.node.idPath)){e.next=6;break}return e.next=6,c(n.node.id,n.parentNodeBefore.id);case 6:e.next=11;break;case 8:t.emit("restore-select-new-parent-is-on"),o.value=!0,a.value=n.node.id;case 11:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()}}});Ds.render=ks;var Ts=Ds,Es=Object(r["n"])({name:"MapChangeLog",components:{RestoreNode:Ts,MenuButton:Rc,ChangeLogComplain:Yi,Card:yi["a"],Dialog:Gi["a"]},emits:["restore-select-new-parent-is-on","restore-select-new-parent-is-off"],props:{clickedTitleId:{type:String,required:!0}},setup:function(){var e=Object(r["G"])(""),t=Object(r["G"])(!1),n=Object(r["G"])(!1),o=Object(r["E"])([]);return Si([gi.ParentID,gi.Remove,gi.Restore],[],(function(e){o.splice.apply(o,[0,o.length].concat(Object(q["a"])(e)))})),{complainChangeLink:e,complainModalVisible:t,showComplain:function(n){t.value=!0,e.value="https://scimap.org/change/"+n},toggleAddDialog:function(){return n.value=!n.value},addDialogVisible:n,changes:o,getActionDescription:function(e){return e.action===gi.Restore?"node ".concat(Mi(e.node.idPath,e.node.id,e.node.name)," was restored to ").concat(Mi(e.parentNodeAfter.idPath,e.parentNodeAfter.id,e.parentNodeAfter.name)):e.isAdded?"node ".concat(Mi(e.node.idPath,e.node.id,e.node.name)," was added to ").concat(Mi(e.parentNodeAfter.idPath,e.parentNodeAfter.id,e.parentNodeAfter.name)):e.isRemoved?"node ".concat(Mi(e.node.idPath,e.node.id,e.node.name)," was removed from ").concat(Mi(e.parentNodeBefore.idPath,e.parentNodeBefore.id,e.parentNodeBefore.name)):"node ".concat(Mi(e.node.idPath,e.node.id,e.node.name)," was moved from ").concat(Mi(e.parentNodeBefore.idPath,e.parentNodeBefore.id,e.parentNodeBefore.name)," to ").concat(Mi(e.parentNodeAfter.idPath,e.parentNodeAfter.id,e.parentNodeAfter.name))}}}});Es.render=xs;var _s=Es,Rs=n("7b17"),Cs={name:"Menu",components:{Button:Qi["a"],PrimeMenu:Rs["a"],MenuButton:Rc,Feedback:us,CutPaste:os,AddNode:Sc,RemoveNode:Lc,EditMode:Fc,MapChangeLog:_s},emits:["restore-select-new-parent-is-on","restore-select-new-parent-is-off"],props:{clickedTitleId:{type:String,required:!0}},setup:function(){Object(r["Q"])();var e=qt(),t=e.state.user,n=Object(r["G"])(),o=Object(r["e"])((function(){return t.user&&t.user.photoURL?t.user.photoURL:"../../assets/images/user.svg"})),i=Object(r["e"])((function(){return t.user?t.user.email:null})),a=Object(r["e"])((function(){return e.state.editModeOn})),c=Object(r["e"])((function(){var n=[{label:i.value},{separator:!0}];return n.push.apply(n,[{label:"email changes - "+(t.subscribePeriod?t.subscribePeriod:"weekly"),icon:"pi pi-eye",items:[{label:"weekly",icon:"pi pi-calendar",command:function(){e.dispatch("user/".concat(Ye.setSubscribePeriod),"weekly")}},{label:"daily",icon:"pi pi-tablet",command:function(){e.dispatch("user/".concat(Ye.setSubscribePeriod),"daily")}},{label:"on pause",icon:"pi pi-pause",command:function(){e.dispatch("user/".concat(Ye.setSubscribePeriod),"on pause")}}]},{label:"sign out",icon:"pi pi-sign-out",command:function(){e.dispatch("user/".concat(Ye.signOut))}}]),n}));return{isWideScreen:Xn,email:i,userPhotoURL:o,editModeOn:a,isNodeSelected:Object(r["e"])((function(){return e.state.tree.selectedNodeId})),isPinned:Object(r["e"])((function(){return void 0!==e.state.pin.pins[e.state.tree.selectedNodeId]})),signIn:function(){return e.dispatch("user/".concat(Ye.signIn))},menu:n,toggleUserMenu:function(e){n.value.toggle(e)},items:c}}},Ss=n("8c45");const Ps=Cs.__cssModules={};Ps["$style"]=Ss["default"],Cs.render=Nc;var As=Cs,Ms={class:"p-input-icon-right",style:{width:"100%"}};function Bs(e,t,n,o,i,a){var c=Object(r["J"])("InputText");return Object(r["A"])(),Object(r["g"])("span",Ms,[Object(r["m"])("i",{class:"pi pi-times",style:{right:"1.2rem",cursor:"pointer"},onClick:t[1]||(t[1]=function(){return o.clearBox&&o.clearBox.apply(o,arguments)})}),Object(r["m"])(c,{class:e.$style["searchBox"],placeholder:"Search SciMap",modelValue:o.value,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return o.value=e}),t[3]||(t[3]=function(e){return o.doSearch(e)})]},null,8,["class","modelValue"])])}var Ls={name:"TextSearch",components:{InputText:Tc["a"]},setup:function(){var e=Object(r["G"])(""),t=qt(),n=Object(T["debounce"])(S.setUserLastSearch,2e3),o=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,We(r);case 2:return o=e.sent,t.commit("searchResult/".concat(Mt.SET_NODE_IDS),o),r.length>0&&n(t.state.user.user.uid,r),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{doSearch:o,value:e,clearBox:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.value="",t.next=3,o("");case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}}},zs=n("dc79");const Vs=Ls.__cssModules={};Vs["$style"]=zs["default"],Ls.render=Bs;var Hs=Ls,Us=n("237b"),qs=n("1e02"),Js={style:{"text-align":"center"}},Ws={id:"metadata39"},Gs=Object(r["l"])("image/svg+xml"),$s=Object(r["m"])("defs",{id:"defs37"},null,-1),Ys=Object(r["m"])("rect",{id:"rect2",fill:"#f4ece4"},null,-1),Fs=Object(r["m"])("g",{transform:"matrix(1.1095,0,0,1.1095,-56.049,-47.895)",id:"logo-group"},[Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 326.81,529.4 h -6.1402 l 0.22464,-1.1482 h 13.578 l -0.2496,1.1482 h -6.1402 l -3.5443,16.573 h -1.248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60730"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 341.63,527.75 h 1.248 l -1.7722,8.3366 q 1.0733,-1.5226 2.5958,-2.4211 1.5226,-0.89856 3.0701,-0.89856 1.5725,0 2.2714,0.89856 0.69888,0.8736 0.69888,2.471 0,0.52416 -0.0749,1.1232 -0.0499,0.59904 -0.19968,1.248 l -1.5725,7.463 h -1.248 l 1.5226,-7.2384 q 0.2496,-1.1731 0.2496,-2.0717 0,-2.7456 -2.2714,-2.7456 -0.7488,0 -1.5475,0.29952 -0.77376,0.29952 -1.5226,0.84864 -0.72384,0.54912 -1.3478,1.2979 -0.624,0.72384 -1.0234,1.5725 l -1.6973,8.0371 h -1.248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60732"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 361.53,546.22 q -1.1731,0 -2.0966,-0.42432 -0.89856,-0.44928 -1.5475,-1.1981 -0.624,-0.7488 -0.94848,-1.7472 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5226 0.57408,-2.9453 0.59904,-1.4477 1.6474,-2.5459 1.0483,-1.1232 2.4461,-1.7971 1.4227,-0.67392 3.0701,-0.67392 0.77376,0 1.4976,0.22464 0.72384,0.22464 1.273,0.67392 0.57408,0.42432 0.89856,1.0733 0.34944,0.64896 0.34944,1.4976 0,3.744 -6.7891,3.744 -0.79872,0 -1.6973,-0.025 -0.8736,-0.025 -1.9469,-0.0998 -0.025,0.19968 -0.0499,0.42432 0,0.22464 0,0.42432 0,0.92352 0.22464,1.7472 0.2496,0.82368 0.72384,1.4477 0.4992,0.59904 1.223,0.97344 0.7488,0.34944 1.7222,0.34944 0.624,0 1.273,-0.17472 0.67392,-0.19968 1.273,-0.52416 0.59904,-0.34944 1.0982,-0.82368 0.52416,-0.4992 0.8736,-1.0982 l 1.0483,0.32448 q -0.44928,0.7488 -1.0982,1.3478 -0.624,0.59904 -1.3978,1.0483 -0.7488,0.42432 -1.5974,0.64896 -0.84864,0.2496 -1.7222,0.2496 z m 2.6707,-12.43 q -1.1731,0 -2.1715,0.44928 -0.97344,0.42432 -1.7472,1.1482 -0.77376,0.69888 -1.3229,1.6224 -0.54912,0.92352 -0.82368,1.897 1.0483,0.0749 1.872,0.0998 0.84864,0.025 1.6474,0.025 1.5475,0 2.5958,-0.19968 1.0733,-0.22464 1.7222,-0.59904 0.64896,-0.3744 0.92352,-0.8736 0.29952,-0.52416 0.29952,-1.1482 0,-0.624 -0.27456,-1.0733 -0.2496,-0.47424 -0.67392,-0.77376 -0.39936,-0.29952 -0.94848,-0.42432 -0.54912,-0.14976 -1.0982,-0.14976 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60734"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 385.71,546.22 q -1.1731,0 -2.0966,-0.42432 -0.89856,-0.44928 -1.5475,-1.1981 -0.624,-0.7488 -0.94848,-1.7472 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5226 0.57408,-2.9453 0.59904,-1.4477 1.6474,-2.5459 1.0483,-1.1232 2.4461,-1.7971 1.4227,-0.67392 3.0701,-0.67392 0.77376,0 1.4976,0.22464 0.72384,0.22464 1.273,0.67392 0.57408,0.42432 0.89856,1.0733 0.34944,0.64896 0.34944,1.4976 0,3.744 -6.7891,3.744 -0.79872,0 -1.6973,-0.025 -0.8736,-0.025 -1.9469,-0.0998 -0.025,0.19968 -0.0499,0.42432 0,0.22464 0,0.42432 0,0.92352 0.22464,1.7472 0.2496,0.82368 0.72384,1.4477 0.4992,0.59904 1.223,0.97344 0.7488,0.34944 1.7222,0.34944 0.624,0 1.273,-0.17472 0.67392,-0.19968 1.273,-0.52416 0.59904,-0.34944 1.0982,-0.82368 0.52416,-0.4992 0.8736,-1.0982 l 1.0483,0.32448 q -0.44928,0.7488 -1.0982,1.3478 -0.624,0.59904 -1.3978,1.0483 -0.7488,0.42432 -1.5974,0.64896 -0.84864,0.2496 -1.7222,0.2496 z m 2.6707,-12.43 q -1.1731,0 -2.1715,0.44928 -0.97344,0.42432 -1.7472,1.1482 -0.77376,0.69888 -1.3229,1.6224 -0.54912,0.92352 -0.82368,1.897 1.0483,0.0749 1.872,0.0998 0.84864,0.025 1.6474,0.025 1.5475,0 2.5958,-0.19968 1.0733,-0.22464 1.7222,-0.59904 0.64896,-0.3744 0.92352,-0.8736 0.29952,-0.52416 0.29952,-1.1482 0,-0.624 -0.27456,-1.0733 -0.2496,-0.47424 -0.67392,-0.77376 -0.39936,-0.29952 -0.94848,-0.42432 -0.54912,-0.14976 -1.0982,-0.14976 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60736"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 402.18,546.22 q -1.4227,0 -2.6458,-0.4992 -1.1981,-0.4992 -1.9469,-1.4976 l 0.77376,-0.84864 q 0.82368,0.94848 1.7722,1.3978 0.97344,0.44928 2.2464,0.44928 0.89856,0 1.6474,-0.22464 0.77376,-0.22464 1.3229,-0.624 0.57408,-0.39936 0.8736,-0.97344 0.32448,-0.57408 0.32448,-1.2979 0,-0.94848 -0.8736,-1.3978 -0.8736,-0.44928 -2.496,-0.8736 -0.8736,-0.22464 -1.5226,-0.44928 -0.64896,-0.22464 -1.0982,-0.4992 -0.42432,-0.29952 -0.64896,-0.69888 -0.22464,-0.39936 -0.22464,-0.97344 0,-1.0733 0.44928,-1.897 0.44928,-0.84864 1.1981,-1.3978 0.7488,-0.57408 1.7222,-0.84864 0.9984,-0.29952 2.0717,-0.29952 1.4477,0 2.4461,0.52416 1.0234,0.4992 1.4477,1.2979 l -0.82368,0.67392 q -0.42432,-0.7488 -1.3478,-1.1232 -0.89856,-0.3744 -2.0218,-0.3744 -0.77376,0 -1.4726,0.19968 -0.69888,0.17472 -1.248,0.57408 -0.52416,0.3744 -0.84864,0.97344 -0.32448,0.57408 -0.32448,1.3728 0,0.42432 0.17472,0.72384 0.17472,0.27456 0.4992,0.4992 0.34944,0.19968 0.8736,0.3744 0.52416,0.14976 1.223,0.32448 0.97344,0.2496 1.7222,0.4992 0.77376,0.2496 1.2979,0.59904 0.54912,0.32448 0.82368,0.79872 0.27456,0.44928 0.27456,1.0982 0,0.97344 -0.42432,1.7971 -0.42432,0.79872 -1.1731,1.3978 -0.7488,0.57408 -1.7971,0.89856 -1.0234,0.32448 -2.2464,0.32448 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60738"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 418.36,546.22 q -1.4227,0 -2.6458,-0.4992 -1.1981,-0.4992 -1.9469,-1.4976 l 0.77376,-0.84864 q 0.82368,0.94848 1.7722,1.3978 0.97344,0.44928 2.2464,0.44928 0.89856,0 1.6474,-0.22464 0.77376,-0.22464 1.3229,-0.624 0.57408,-0.39936 0.8736,-0.97344 0.32448,-0.57408 0.32448,-1.2979 0,-0.94848 -0.8736,-1.3978 -0.8736,-0.44928 -2.496,-0.8736 -0.8736,-0.22464 -1.5226,-0.44928 -0.64896,-0.22464 -1.0982,-0.4992 -0.42432,-0.29952 -0.64896,-0.69888 -0.22464,-0.39936 -0.22464,-0.97344 0,-1.0733 0.44928,-1.897 0.44928,-0.84864 1.1981,-1.3978 0.7488,-0.57408 1.7222,-0.84864 0.9984,-0.29952 2.0717,-0.29952 1.4477,0 2.4461,0.52416 1.0234,0.4992 1.4477,1.2979 l -0.82368,0.67392 q -0.42432,-0.7488 -1.3478,-1.1232 -0.89856,-0.3744 -2.0218,-0.3744 -0.77376,0 -1.4726,0.19968 -0.69888,0.17472 -1.248,0.57408 -0.52416,0.3744 -0.84864,0.97344 -0.32448,0.57408 -0.32448,1.3728 0,0.42432 0.17472,0.72384 0.17472,0.27456 0.4992,0.4992 0.34944,0.19968 0.8736,0.3744 0.52416,0.14976 1.223,0.32448 0.97344,0.2496 1.7222,0.4992 0.77376,0.2496 1.2979,0.59904 0.54912,0.32448 0.82368,0.79872 0.27456,0.44928 0.27456,1.0982 0,0.97344 -0.42432,1.7971 -0.42432,0.79872 -1.1731,1.3978 -0.7488,0.57408 -1.7971,0.89856 -1.0234,0.32448 -2.2464,0.32448 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60740"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 435.97,546.22 q -1.1731,0 -2.0966,-0.42432 -0.89856,-0.44928 -1.5475,-1.1981 -0.624,-0.7488 -0.94848,-1.7472 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5226 0.57408,-2.9453 0.59904,-1.4477 1.6474,-2.5459 1.0483,-1.1232 2.4461,-1.7971 1.4227,-0.67392 3.0701,-0.67392 0.77376,0 1.4976,0.22464 0.72384,0.22464 1.273,0.67392 0.57408,0.42432 0.89856,1.0733 0.34944,0.64896 0.34944,1.4976 0,3.744 -6.7891,3.744 -0.79872,0 -1.6973,-0.025 -0.8736,-0.025 -1.9469,-0.0998 -0.025,0.19968 -0.0499,0.42432 0,0.22464 0,0.42432 0,0.92352 0.22464,1.7472 0.2496,0.82368 0.72384,1.4477 0.4992,0.59904 1.223,0.97344 0.7488,0.34944 1.7222,0.34944 0.624,0 1.273,-0.17472 0.67392,-0.19968 1.273,-0.52416 0.59904,-0.34944 1.0982,-0.82368 0.52416,-0.4992 0.8736,-1.0982 l 1.0483,0.32448 q -0.44928,0.7488 -1.0982,1.3478 -0.624,0.59904 -1.3978,1.0483 -0.7488,0.42432 -1.5974,0.64896 -0.84864,0.2496 -1.7222,0.2496 z m 2.6707,-12.43 q -1.1731,0 -2.1715,0.44928 -0.97344,0.42432 -1.7472,1.1482 -0.77376,0.69888 -1.3229,1.6224 -0.54912,0.92352 -0.82368,1.897 1.0483,0.0749 1.872,0.0998 0.84864,0.025 1.6474,0.025 1.5475,0 2.5958,-0.19968 1.0733,-0.22464 1.7222,-0.59904 0.64896,-0.3744 0.92352,-0.8736 0.29952,-0.52416 0.29952,-1.1482 0,-0.624 -0.27456,-1.0733 -0.2496,-0.47424 -0.67392,-0.77376 -0.39936,-0.29952 -0.94848,-0.42432 -0.54912,-0.14976 -1.0982,-0.14976 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60742"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 451.31,533 h 1.1731 l -0.67392,3.095 q 0.52416,-0.7488 1.223,-1.3478 0.69888,-0.624 1.4726,-1.0483 0.79872,-0.44928 1.6224,-0.67392 0.84864,-0.2496 1.6723,-0.2496 1.4976,0 2.1466,0.79872 0.64896,0.79872 0.64896,2.3213 0,0.57408 -0.0998,1.223 -0.0749,0.64896 -0.22464,1.3978 l -1.5725,7.463 h -1.248 l 1.5226,-7.2384 q 0.14976,-0.69888 0.19968,-1.273 0.0749,-0.57408 0.0749,-1.0483 0,-2.496 -2.0717,-2.496 -0.77376,0 -1.5974,0.29952 -0.82368,0.29952 -1.5974,0.84864 -0.7488,0.54912 -1.3978,1.2979 -0.64896,0.72384 -1.0733,1.5725 l -1.6973,8.0371 h -1.248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60744"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 472.29,546.22 q -1.1232,0 -2.0218,-0.42432 -0.89857,-0.42432 -1.5475,-1.1731 -0.62399,-0.7488 -0.97344,-1.7472 -0.32448,-0.9984 -0.32448,-2.1466 0,-1.5974 0.62401,-3.0202 0.624,-1.4477 1.6723,-2.5459 1.0733,-1.0982 2.4461,-1.7472 1.3978,-0.64896 2.9453,-0.64896 1.6973,0 2.7955,0.79872 1.1232,0.79872 1.4726,2.2214 l -1.3229,0.39936 q -0.29953,-1.0733 -1.1731,-1.6723 -0.8736,-0.624 -2.0717,-0.624 -1.1731,0 -2.2714,0.54912 -1.0982,0.52416 -1.9469,1.4477 -0.84865,0.89856 -1.3728,2.1216 -0.52416,1.1981 -0.52416,2.5459 0,0.94848 0.27455,1.7971 0.27457,0.82368 0.74881,1.4477 0.4992,0.59904 1.1981,0.94848 0.69887,0.34944 1.5226,0.34944 0.64896,0 1.3229,-0.19968 0.67393,-0.19968 1.273,-0.52416 0.59905,-0.32448 1.0483,-0.7488 0.47424,-0.44928 0.72384,-0.92352 l 1.1482,0.34944 q -0.3744,0.67392 -0.99841,1.273 -0.59903,0.57408 -1.3478,0.9984 -0.74879,0.42432 -1.6224,0.64896 -0.84864,0.2496 -1.6973,0.2496 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60746"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 489.89,546.22 q -1.1731,0 -2.0966,-0.42432 -0.89856,-0.44928 -1.5475,-1.1981 -0.624,-0.7488 -0.94848,-1.7472 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5226 0.57408,-2.9453 0.59903,-1.4477 1.6474,-2.5459 1.0483,-1.1232 2.4461,-1.7971 1.4227,-0.67392 3.0701,-0.67392 0.77377,0 1.4976,0.22464 0.72384,0.22464 1.273,0.67392 0.57408,0.42432 0.89856,1.0733 0.34944,0.64896 0.34944,1.4976 0,3.744 -6.7891,3.744 -0.79872,0 -1.6973,-0.025 -0.8736,-0.025 -1.9469,-0.0998 -0.025,0.19968 -0.0499,0.42432 0,0.22464 0,0.42432 0,0.92352 0.22464,1.7472 0.2496,0.82368 0.72384,1.4477 0.4992,0.59904 1.223,0.97344 0.7488,0.34944 1.7222,0.34944 0.624,0 1.273,-0.17472 0.67392,-0.19968 1.273,-0.52416 0.59904,-0.34944 1.0982,-0.82368 0.52416,-0.4992 0.8736,-1.0982 l 1.0483,0.32448 q -0.44928,0.7488 -1.0982,1.3478 -0.624,0.59904 -1.3978,1.0483 -0.7488,0.42432 -1.5974,0.64896 -0.84864,0.2496 -1.7222,0.2496 z m 2.6707,-12.43 q -1.1731,0 -2.1715,0.44928 -0.97343,0.42432 -1.7472,1.1482 -0.77376,0.69888 -1.3229,1.6224 -0.54912,0.92352 -0.82369,1.897 1.0483,0.0749 1.872,0.0998 0.84863,0.025 1.6474,0.025 1.5475,0 2.5958,-0.19968 1.0733,-0.22464 1.7222,-0.59904 0.64896,-0.3744 0.92353,-0.8736 0.29952,-0.52416 0.29952,-1.1482 0,-0.624 -0.27456,-1.0733 -0.24961,-0.47424 -0.67392,-0.77376 -0.39936,-0.29952 -0.94848,-0.42432 -0.54913,-0.14976 -1.0982,-0.14976 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60748"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 513.92,546.22 q -1.1232,0 -2.0218,-0.42432 -0.8736,-0.42432 -1.4976,-1.1482 -0.59904,-0.7488 -0.94849,-1.7222 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5725 0.62401,-3.0202 0.64896,-1.4726 1.7222,-2.5709 1.0733,-1.1232 2.4461,-1.7722 1.3978,-0.67392 2.8704,-0.67392 1.0982,0 1.9718,0.44928 0.89855,0.42432 1.4976,1.1731 0.624,0.72384 0.94848,1.7222 0.34944,0.9984 0.34944,2.1216 0,1.5475 -0.64896,2.9952 -0.62399,1.4477 -1.6973,2.5709 -1.0483,1.0982 -2.4211,1.7722 -1.3728,0.64896 -2.8704,0.64896 z m 0.22463,-1.1232 q 1.1232,0 2.2214,-0.54912 1.1232,-0.54912 1.9718,-1.4726 0.8736,-0.92352 1.3978,-2.1216 0.54913,-1.223 0.54913,-2.5459 0,-0.94848 -0.27456,-1.7722 -0.27457,-0.82368 -0.77376,-1.4227 -0.47424,-0.624 -1.1731,-0.97344 -0.69887,-0.34944 -1.5226,-0.34944 -1.1232,0 -2.2214,0.54912 -1.0733,0.54912 -1.9469,1.4976 -0.8736,0.92352 -1.4227,2.1466 -0.52416,1.223 -0.52416,2.5709 0,0.94848 0.27455,1.7722 0.27456,0.79872 0.7488,1.3978 0.4992,0.59904 1.1731,0.94848 0.69889,0.32448 1.5226,0.32448 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60750"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 530.47,534.02 h -1.7222 l 0.22464,-1.0234 h 1.7472 l 0.0749,-0.42432 q 0.47424,-2.3962 1.6973,-3.719 1.248,-1.3478 2.8954,-1.3478 0.69887,0 1.2979,0.22464 0.624,0.22464 0.99839,0.59904 l -0.64896,0.89856 q -0.24959,-0.27456 -0.72383,-0.44928 -0.44928,-0.17472 -0.94849,-0.17472 -1.1981,0 -2.0966,0.9984 -0.89856,0.9984 -1.223,2.9453 l -0.0749,0.44928 h 3.4694 l -0.22463,1.0234 h -3.4944 l -3.6442,17.272 h -1.248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60752"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 549.65,527.75 h 1.248 l -1.9469,9.2102 q 1.4227,-1.9469 3.0202,-3.095 1.6224,-1.1482 3.3946,-1.1482 1.4227,0 2.1466,0.69888 0.74881,0.69888 0.74881,1.9219 0,1.6474 -1.3229,2.9203 -1.2979,1.273 -3.6941,1.9219 l 2.9453,5.7907 h -1.3728 l -3.095,-6.3648 q 2.6208,-0.54912 3.9686,-1.6474 1.3728,-1.0982 1.3728,-2.4461 0,-0.8736 -0.52416,-1.2979 -0.52416,-0.44928 -1.4726,-0.44928 -1.6474,0 -3.3446,1.3728 -1.6973,1.3478 -3.1949,3.7939 l -1.4976,7.0387 h -1.248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60754"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 566.41,533 h 1.1731 l -0.67392,3.095 q 0.52416,-0.7488 1.223,-1.3478 0.69888,-0.624 1.4726,-1.0483 0.79873,-0.44928 1.6224,-0.67392 0.84864,-0.2496 1.6723,-0.2496 1.4976,0 2.1466,0.79872 0.64895,0.79872 0.64895,2.3213 0,0.57408 -0.0998,1.223 -0.0749,0.64896 -0.22465,1.3978 l -1.5725,7.463 h -1.248 l 1.5226,-7.2384 q 0.14976,-0.69888 0.19968,-1.273 0.0749,-0.57408 0.0749,-1.0483 0,-2.496 -2.0717,-2.496 -0.77375,0 -1.5974,0.29952 -0.82368,0.29952 -1.5974,0.84864 -0.7488,0.54912 -1.3978,1.2979 -0.64896,0.72384 -1.0733,1.5725 l -1.6973,8.0371 h -1.248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60756"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 587.29,546.22 q -1.1232,0 -2.0218,-0.42432 -0.87359,-0.42432 -1.4976,-1.1482 -0.59905,-0.7488 -0.94848,-1.7222 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5725 0.624,-3.0202 0.64896,-1.4726 1.7222,-2.5709 1.0733,-1.1232 2.4461,-1.7722 1.3978,-0.67392 2.8704,-0.67392 1.0982,0 1.9718,0.44928 0.89856,0.42432 1.4976,1.1731 0.624,0.72384 0.94848,1.7222 0.34944,0.9984 0.34944,2.1216 0,1.5475 -0.64896,2.9952 -0.624,1.4477 -1.6973,2.5709 -1.0483,1.0982 -2.4211,1.7722 -1.3728,0.64896 -2.8704,0.64896 z m 0.22463,-1.1232 q 1.1232,0 2.2214,-0.54912 1.1232,-0.54912 1.9718,-1.4726 0.8736,-0.92352 1.3978,-2.1216 0.54912,-1.223 0.54912,-2.5459 0,-0.94848 -0.27455,-1.7722 -0.27457,-0.82368 -0.77376,-1.4227 -0.47424,-0.624 -1.1731,-0.97344 -0.69888,-0.34944 -1.5226,-0.34944 -1.1232,0 -2.2214,0.54912 -1.0733,0.54912 -1.9469,1.4976 -0.8736,0.92352 -1.4227,2.1466 -0.52416,1.223 -0.52416,2.5709 0,0.94848 0.27456,1.7722 0.27456,0.79872 0.7488,1.3978 0.4992,0.59904 1.1731,0.94848 0.69888,0.32448 1.5226,0.32448 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60758"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 601.72,533 h 1.2979 l 2.1216,11.731 q 1.1731,-1.3229 2.1466,-2.7706 0.97345,-1.4477 1.7722,-2.9203 l -1.2979,-6.0403 h 1.2979 l 0.8736,4.393 q 0.57408,-1.1482 0.9984,-2.2464 0.42432,-1.0982 0.74879,-2.1466 h 1.1981 q -0.89857,2.9702 -2.5709,6.0653 l 1.1482,5.6659 q 2.3462,-2.7955 3.9437,-5.8656 1.5974,-3.0701 2.4211,-5.8656 h 1.223 q -0.9984,3.2698 -2.7706,6.5395 -1.7722,3.2698 -4.4928,6.4397 h -1.2979 l -1.0733,-5.4163 q -0.79872,1.3728 -1.7722,2.7456 -0.97344,1.3478 -2.1466,2.6707 h -1.2979 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60760"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 626.1,546.12 q -0.84864,0 -1.3229,-0.44928 -0.47424,-0.47424 -0.47424,-1.273 0,-0.27456 0.0749,-0.624 l 3.3946,-16.024 h 1.248 l -3.3197,15.65 q -0.025,0.1248 -0.0499,0.22464 0,0.0998 0,0.22464 0,0.52416 0.29952,0.82368 0.32448,0.29952 0.92352,0.29952 0.27456,0 0.64896,-0.0499 0.3744,-0.0749 0.69888,-0.19968 v 0.9984 q -0.42432,0.17472 -1.0733,0.27456 -0.624,0.1248 -1.0483,0.1248 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60762"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 639.84,546.22 q -1.1731,0 -2.0966,-0.42432 -0.89856,-0.44928 -1.5475,-1.1981 -0.62401,-0.7488 -0.94849,-1.7472 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5226 0.57408,-2.9453 0.59904,-1.4477 1.6474,-2.5459 1.0483,-1.1232 2.4461,-1.7971 1.4227,-0.67392 3.0701,-0.67392 0.77376,0 1.4976,0.22464 0.72384,0.22464 1.273,0.67392 0.57408,0.42432 0.89856,1.0733 0.34944,0.64896 0.34944,1.4976 0,3.744 -6.7891,3.744 -0.79872,0 -1.6973,-0.025 -0.8736,-0.025 -1.9469,-0.0998 -0.025,0.19968 -0.0499,0.42432 0,0.22464 0,0.42432 0,0.92352 0.22464,1.7472 0.2496,0.82368 0.72384,1.4477 0.4992,0.59904 1.223,0.97344 0.7488,0.34944 1.7222,0.34944 0.624,0 1.273,-0.17472 0.67392,-0.19968 1.273,-0.52416 0.59904,-0.34944 1.0982,-0.82368 0.52416,-0.4992 0.8736,-1.0982 l 1.0483,0.32448 q -0.44928,0.7488 -1.0982,1.3478 -0.624,0.59904 -1.3978,1.0483 -0.7488,0.42432 -1.5974,0.64896 -0.84864,0.2496 -1.7222,0.2496 z m 2.6707,-12.43 q -1.1731,0 -2.1715,0.44928 -0.97345,0.42432 -1.7472,1.1482 -0.77377,0.69888 -1.3229,1.6224 -0.54911,0.92352 -0.82368,1.897 1.0483,0.0749 1.872,0.0998 0.84864,0.025 1.6474,0.025 1.5475,0 2.5958,-0.19968 1.0733,-0.22464 1.7222,-0.59904 0.64896,-0.3744 0.92352,-0.8736 0.29952,-0.52416 0.29952,-1.1482 0,-0.624 -0.27456,-1.0733 -0.2496,-0.47424 -0.67392,-0.77376 -0.39936,-0.29952 -0.94848,-0.42432 -0.54912,-0.14976 -1.0982,-0.14976 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60764"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 657.48,546.22 q -1.0982,0 -1.9718,-0.44928 -0.8736,-0.44928 -1.4726,-1.1981 -0.59904,-0.7488 -0.92352,-1.7222 -0.29951,-0.9984 -0.29951,-2.0966 0,-1.5226 0.59903,-2.9453 0.59905,-1.4477 1.5974,-2.5709 1.0234,-1.1232 2.3213,-1.7971 1.3229,-0.67392 2.7456,-0.67392 0.79872,0 1.4477,0.2496 0.67392,0.2496 1.1981,0.67392 0.52416,0.39936 0.89856,0.94848 0.3744,0.54912 0.59904,1.1731 l 1.6973,-8.0621 h 1.273 l -3.4944,16.424 q -0.0499,0.2496 -0.0499,0.29952 0,0.3744 0.42432,0.3744 l -0.2496,1.1232 q -0.17472,0.025 -0.29952,0.025 -0.1248,0 -0.2496,0 -0.84864,-0.1248 -0.84864,-0.89856 0,-0.0749 0,-0.14976 0.025,-0.0998 0.0499,-0.27456 0.025,-0.19968 0.0749,-0.4992 0.0749,-0.29952 0.17472,-0.79872 -1.0234,1.2979 -2.4461,2.0717 -1.4227,0.77376 -2.7955,0.77376 z m 0.47424,-1.1232 q 0.624,0 1.3978,-0.27456 0.79872,-0.27456 1.5226,-0.7488 0.72384,-0.4992 1.2979,-1.1232 0.59904,-0.624 0.82368,-1.3478 l 0.89856,-4.2682 q -0.0998,-0.69888 -0.44928,-1.3229 -0.34944,-0.64896 -0.87359,-1.0982 -0.49921,-0.47424 -1.1482,-0.7488 -0.62399,-0.27456 -1.2979,-0.27456 -1.223,0 -2.3213,0.59904 -1.0982,0.59904 -1.9219,1.5725 -0.82368,0.94848 -1.2979,2.1466 -0.47424,1.1731 -0.47424,2.3462 0,0.92352 0.27457,1.7472 0.27455,0.82368 0.77375,1.4477 0.4992,0.624 1.1981,0.9984 0.72384,0.34944 1.5974,0.34944 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60766"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 675.71,551.54 q -2.1466,0 -3.2698,-0.82368 -1.0982,-0.79872 -1.5725,-2.1715 l 0.94849,-0.57408 q 0.44928,1.3229 1.5725,1.9219 1.1232,0.624 2.5459,0.624 0.92353,0 1.8221,-0.27456 0.89857,-0.27456 1.6224,-0.82368 0.7488,-0.52416 1.273,-1.3229 0.54912,-0.79872 0.77377,-1.872 l 0.59903,-2.8454 q -0.4992,0.624 -1.1232,1.1482 -0.62399,0.4992 -1.2979,0.8736 -0.67392,0.3744 -1.3978,0.57408 -0.72384,0.19968 -1.3978,0.19968 -1.0733,0 -1.9219,-0.44928 -0.84864,-0.44928 -1.4477,-1.1981 -0.57408,-0.7488 -0.89856,-1.7222 -0.29952,-0.97344 -0.29952,-2.0467 0,-1.4976 0.59904,-2.9203 0.59904,-1.4477 1.5974,-2.5709 1.0234,-1.1232 2.3462,-1.7971 1.3229,-0.69888 2.7955,-0.69888 1.5974,0 2.5958,0.89856 1.0234,0.8736 1.5974,2.1466 l 0.59904,-2.8205 h 1.1232 l -2.8205,13.229 q -0.27456,1.3229 -0.97344,2.3213 -0.67392,0.9984 -1.6224,1.6474 -0.94848,0.67392 -2.0717,0.9984 -1.1232,0.34944 -2.2963,0.34944 z m 1.6474,-6.4397 q 0.77376,0 1.5725,-0.29952 0.82368,-0.32448 1.5226,-0.82368 0.69888,-0.4992 1.223,-1.1232 0.52416,-0.624 0.7488,-1.248 l 0.89857,-4.2682 q -0.12481,-0.7488 -0.47424,-1.3728 -0.32448,-0.64896 -0.82369,-1.0982 -0.4992,-0.44928 -1.1482,-0.69888 -0.64895,-0.27456 -1.3478,-0.27456 -1.273,0 -2.3712,0.624 -1.0733,0.624 -1.897,1.5974 -0.79872,0.94848 -1.273,2.1466 -0.44928,1.1731 -0.44928,2.2963 0,0.92352 0.27456,1.7472 0.27456,0.82368 0.77376,1.4477 0.4992,0.624 1.1981,0.9984 0.69887,0.34944 1.5725,0.34944 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60768"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 696.49,546.22 q -1.1731,0 -2.0966,-0.42432 -0.89855,-0.44928 -1.5475,-1.1981 -0.62401,-0.7488 -0.94849,-1.7472 -0.32448,-0.9984 -0.32448,-2.1216 0,-1.5226 0.57408,-2.9453 0.59904,-1.4477 1.6474,-2.5459 1.0483,-1.1232 2.4461,-1.7971 1.4227,-0.67392 3.0701,-0.67392 0.77376,0 1.4976,0.22464 0.72384,0.22464 1.273,0.67392 0.57408,0.42432 0.89856,1.0733 0.34944,0.64896 0.34944,1.4976 0,3.744 -6.7891,3.744 -0.79872,0 -1.6973,-0.025 -0.8736,-0.025 -1.9469,-0.0998 -0.025,0.19968 -0.0499,0.42432 0,0.22464 0,0.42432 0,0.92352 0.22464,1.7472 0.2496,0.82368 0.72384,1.4477 0.4992,0.59904 1.223,0.97344 0.7488,0.34944 1.7222,0.34944 0.624,0 1.273,-0.17472 0.67392,-0.19968 1.273,-0.52416 0.59904,-0.34944 1.0982,-0.82368 0.52416,-0.4992 0.8736,-1.0982 l 1.0483,0.32448 q -0.44928,0.7488 -1.0982,1.3478 -0.624,0.59904 -1.3978,1.0483 -0.7488,0.42432 -1.5974,0.64896 -0.84864,0.2496 -1.7222,0.2496 z m 2.6707,-12.43 q -1.1731,0 -2.1715,0.44928 -0.97344,0.42432 -1.7472,1.1482 -0.77376,0.69888 -1.3229,1.6224 -0.54912,0.92352 -0.82368,1.897 1.0483,0.0749 1.872,0.0998 0.84864,0.025 1.6474,0.025 1.5475,0 2.5958,-0.19968 1.0733,-0.22464 1.7222,-0.59904 0.64896,-0.3744 0.92352,-0.8736 0.29952,-0.52416 0.29952,-1.1482 0,-0.624 -0.27456,-1.0733 -0.2496,-0.47424 -0.67392,-0.77376 -0.39936,-0.29952 -0.94848,-0.42432 -0.54912,-0.14976 -1.0982,-0.14976 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60770"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 335.37,388.67 c -4.8096,-2.7655 -10.581,-4.2084 -17.435,-4.2084 -6.3727,0 -12.144,1.0822 -17.194,3.006 -5.0501,1.9238 -9.1382,4.8096 -12.024,8.537 -2.8858,3.7274 -4.3286,8.1763 -4.3286,13.226 0,7.3346 2.7655,13.467 8.537,18.276 5.6513,4.8096 13.467,7.6954 23.447,8.6573 7.2144,0.72144 12.505,2.7655 16.112,6.012 3.487,3.2465 5.2906,7.0942 5.2906,11.663 0,4.8096 -2.1643,8.6573 -6.2525,11.423 -4.2084,2.7655 -9.2585,4.0882 -15.27,4.0882 -5.1703,0 -9.8597,-1.0822 -14.068,-3.2465 -4.3286,-2.1643 -7.0942,-4.8096 -8.537,-7.9358 -0.6012,-1.2024 -1.4429,-2.2846 -2.6453,-3.006 -1.2024,-0.72144 -2.4048,-1.2024 -3.6072,-1.2024 -0.6012,0 -0.96192,0.12024 -1.2024,0.12024 -1.5631,0.36072 -2.7655,0.96192 -3.6072,1.9238 -0.96192,0.96192 -1.3226,1.9238 -1.3226,3.1262 0,0.72144 0.12024,1.4429 0.6012,2.4048 2.4048,5.7715 6.7334,10.341 13.106,13.828 6.3727,3.6072 13.467,5.2906 21.282,5.2906 5.8918,0 11.423,-0.96192 16.593,-3.006 5.1703,-2.0441 9.3787,-5.1703 12.505,-9.2585 3.1262,-4.0882 4.6894,-9.1382 4.6894,-14.91 0,-7.9358 -2.6453,-14.309 -7.9358,-19.118 -5.2906,-4.8096 -12.745,-7.8156 -22.365,-8.7775 -8.6573,-0.84168 -14.669,-2.6453 -18.036,-5.531 -3.3667,-2.7655 -5.0501,-6.2525 -5.0501,-10.461 0,-4.4489 1.8036,-7.8156 5.6513,-10.22 3.7274,-2.4048 8.6573,-3.6072 14.79,-3.6072 4.9298,0 9.018,0.96192 12.264,2.8858 3.2465,1.9238 6.012,4.5691 8.1763,8.1763 0.48096,1.0822 1.3226,1.9238 2.4048,2.525 0.96193,0.6012 2.1643,0.84168 3.3667,0.84168 1.2024,0 2.1643,-0.24048 3.1262,-0.84168 1.5631,-1.0822 2.4048,-2.525 2.4048,-4.3286 0,-1.3226 -0.48096,-2.7655 -1.4429,-4.3286 -3.3667,-5.1703 -7.3346,-9.1382 -12.024,-12.024 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60773"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 420.68,424.02 c -6.2525,-7.2144 -14.188,-10.822 -23.567,-10.822 -6.2525,0 -11.904,1.4429 -16.834,4.3286 -5.0501,2.8858 -8.8978,6.8537 -11.663,11.904 -2.7655,5.0501 -4.0882,10.822 -4.0882,17.194 0,6.2525 1.3226,12.024 4.2084,17.074 2.8858,5.0501 6.8537,9.018 11.904,11.904 5.0501,2.8858 10.701,4.3286 17.074,4.3286 8.6573,0 15.872,-2.6453 21.643,-8.0561 0.96192,-0.96192 1.4429,-2.0441 1.4429,-3.2465 0,-1.5631 -0.84168,-3.006 -2.2846,-4.3286 -0.96192,-0.72144 -2.0441,-1.0822 -3.1262,-1.0822 -1.4429,0 -3.006,0.6012 -4.4489,1.6834 -3.3667,2.8858 -7.8156,4.2084 -13.226,4.2084 -4.2084,0 -7.9358,-0.96192 -11.182,-2.8858 -3.2465,-1.9238 -5.7715,-4.5691 -7.5751,-7.9358 -1.8036,-3.3667 -2.6453,-7.3346 -2.6453,-11.663 0,-6.7334 1.9238,-12.264 5.7715,-16.353 3.8477,-4.0882 8.7775,-6.2525 15.03,-6.2525 3.006,0 5.6513,0.6012 8.0561,1.5631 2.4048,0.96192 4.5691,2.525 6.6132,4.6894 1.2024,1.4429 2.7655,2.1643 4.6894,2.1643 0.96192,0 1.9238,-0.24048 2.7655,-0.84168 1.6834,-1.2024 2.6453,-2.6453 2.6453,-4.4489 0,-1.2024 -0.48096,-2.1643 -1.2024,-3.1262 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60775"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 443.11,415.36 c -1.2024,1.2024 -1.6834,2.6453 -1.6834,4.4489 v 53.507 c 0,1.8036 0.48096,3.2465 1.6834,4.4489 1.20244,1.2024 2.6453,1.6834 4.4489,1.6834 1.8036,0 3.2465,-0.48096 4.4489,-1.6834 1.0822,-1.2024 1.6834,-2.6453 1.6834,-4.4489 v -53.507 c 0,-1.8036 -0.6012,-3.2465 -1.6834,-4.4489 -1.2024,-1.0822 -2.6453,-1.6834 -4.4489,-1.6834 -1.8036,0 -3.2465,0.6012 -4.4489,1.6834 z m 9.9799,-25.852 c -1.5631,-1.5631 -3.3667,-2.4048 -5.531,-2.4048 -2.1643,0 -4.0882,0.84168 -5.6513,2.4048 -1.5631,1.56312 -2.2846,3.3667 -2.2846,5.531 0,2.1643 0.72144,4.0882 2.2846,5.6513 1.5631,1.5631 3.487,2.2846 5.6513,2.2846 2.1643,0 3.9679,-0.72144 5.531,-2.2846 1.5631,-1.5631 2.4048,-3.487 2.4048,-5.6513 0,-2.1643 -0.84168,-3.9679 -2.4048,-5.531 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60777"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 570.05,387.34 c -1.2024,-1.2024 -2.7655,-1.8036 -4.4489,-1.8036 -2.4048,0 -4.3286,1.2024 -5.531,3.3667 l -34.749,71.543 -35.711,-71.543 c -1.3226,-2.1643 -3.1262,-3.3667 -5.531,-3.3667 -1.8036,0 -3.2465,0.6012 -4.4489,1.8036 -1.2024,1.2024 -1.8036,2.7655 -1.8036,4.4489 v 81.402 c 0,1.8036 0.6012,3.2465 1.8036,4.4489 1.2024,1.2024 2.6453,1.8036 4.4489,1.8036 1.6833,0 3.2465,-0.6012 4.4489,-1.8036 1.2024,-1.2024 1.8036,-2.6453 1.8036,-4.4489 v -58.677 l 28.737,57.595 c 1.2024,2.525 3.1263,3.7274 5.7715,3.7274 2.1643,0 3.9679,-0.96192 5.4108,-3.1262 l 29.098,-59.278 v 59.759 c 0,1.8036 0.6012,3.2465 1.8036,4.4489 1.2024,1.2024 2.6453,1.8036 4.4489,1.8036 1.6834,0 3.1262,-0.6012 4.3286,-1.8036 1.2024,-1.2024 1.9239,-2.6453 1.9239,-4.4489 v -81.39 c 0,-1.6834 -0.60122,-3.2465 -1.8036,-4.4489 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60779"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 647.9,423.06 c -6.493,-6.493 -14.309,-9.8597 -23.567,-9.8597 -9.1382,0 -17.074,3.3667 -23.567,9.8597 -6.493,6.493 -9.7394,14.309 -9.7394,23.567 0,9.2585 3.2465,17.074 9.7394,23.567 6.493,6.493 14.429,9.7394 23.567,9.7394 8.2966,0 15.631,-2.6453 21.884,-8.0561 v 2.2846 c 0,1.6834 0.48096,3.006 1.6834,4.0882 1.0822,1.2024 2.4048,1.6834 4.0882,1.6834 1.5631,0 2.8858,-0.48096 4.0882,-1.6834 1.0822,-1.0822 1.6834,-2.4048 1.6834,-4.0882 v -27.535 c 0,-9.2585 -3.2465,-17.074 -9.8597,-23.567 z m -23.567,45.33 c -6.012,0 -11.182,-2.0441 -15.391,-6.3727 -4.3286,-4.2084 -6.3727,-9.3787 -6.3727,-15.391 0,-6.012 2.0441,-11.182 6.3727,-15.391 4.2084,-4.3286 9.3787,-6.493 15.391,-6.493 6.012,0 11.182,2.1643 15.391,6.493 4.3286,4.2084 6.493,9.3787 6.493,15.391 0,6.012 -2.1643,11.182 -6.493,15.391 -4.2084,4.3286 -9.3787,6.3727 -15.391,6.3727 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60781"}),Object(r["m"])("path",{"stroke-miterlimit":"2",d:"m 732.88,423.06 c -6.493,-6.493 -14.309,-9.7394 -23.567,-9.7394 -9.2585,0 -17.074,3.2465 -23.567,9.7394 -6.493,6.493 -9.7394,14.429 -9.7394,23.567 v 55.31 c 0,1.6834 0.48096,3.006 1.6834,4.0882 1.0822,1.2024 2.4048,1.6834 4.0882,1.6834 1.5631,0 2.8858,-0.48096 3.9679,-1.6834 1.2024,-1.0822 1.8036,-2.4048 1.8036,-4.0882 v -30.06 c 6.1322,5.4108 13.467,8.1763 21.763,8.1763 9.2585,0 17.074,-3.2465 23.567,-9.7394 6.493,-6.6132 9.8597,-14.429 9.8597,-23.687 0,-9.1382 -3.3667,-17.074 -9.8597,-23.567 z m -23.567,45.451 c -6.012,0 -11.182,-2.1643 -15.391,-6.3727 -4.3286,-4.3286 -6.3727,-9.499 -6.3727,-15.511 0,-3.8477 0.96192,-7.5751 2.8858,-10.942 1.9238,-3.3667 4.5691,-6.012 7.9358,-7.9358 3.3667,-1.9238 6.9739,-2.8858 10.942,-2.8858 6.012,0 11.182,2.1643 15.391,6.3727 4.3286,4.3286 6.493,9.3787 6.493,15.391 0,6.012 -2.1643,11.182 -6.493,15.511 -4.2084,4.2084 -9.3787,6.3727 -15.391,6.3727 z",style:{"font-variant-ligatures":"none",fill:"#5a4031","stroke-width":"0","stroke-miterlimit":"2"},id:"path60783"}),Object(r["m"])("path",{style:{fill:"#c3ab9a","stroke-width":"0.75"},d:"m 506.76,227.02 c -0.41909,0.003 -0.8724,0.0213 -1.007,0.0409 -0.13469,0.0196 -0.4391,0.0826 -0.67679,0.13969 -0.23727,0.0575 -0.61507,0.17223 -0.8394,0.25479 -0.22393,0.083 -0.64176,0.26772 -0.92865,0.41075 -0.28648,0.14344 -0.69597,0.36862 -0.90945,0.50082 -0.2135,0.1326 -0.57921,0.38281 -0.81315,0.55627 -0.23352,0.17348 -0.5938,0.45704 -0.80025,0.63009 -0.20641,0.17306 -0.63843,0.57797 -0.95955,0.9003 -0.32151,0.32193 -0.74059,0.7731 -0.93112,1.0024 -0.19099,0.22935 -0.48289,0.59506 -0.64927,0.81315 -0.16638,0.21767 -0.43576,0.59423 -0.59881,0.8361 -0.16305,0.24186 -0.42117,0.64552 -0.57296,0.89655 -0.1522,0.25104 -0.45119,0.80648 -0.66469,1.2339 -0.21351,0.42785 -0.48498,1.0238 -0.6034,1.3244 -0.11843,0.30107 -0.28148,0.74851 -0.36237,0.99495 -0.0809,0.24645 -0.21017,0.70098 -0.28815,1.0108 -0.0776,0.30941 -0.17848,0.7881 -0.22435,1.0634 -0.0463,0.27522 -0.10591,0.74226 -0.13302,1.0383 -0.0296,0.32109 -0.04,0.82485 -0.0254,1.251 0.0133,0.40074 0.0596,0.92325 0.1055,1.1926 0.045,0.26355 0.13178,0.67512 0.19308,0.9141 0.0609,0.23895 0.18681,0.6401 0.27939,0.89153 0.0926,0.25186 0.25186,0.63801 0.35403,0.85815 0.10216,0.22017 0.32817,0.63884 0.50206,0.9303 0.17389,0.29148 0.45495,0.71349 0.62467,0.9387 0.16972,0.22476 0.48747,0.6109 0.70639,0.85777 0.21893,0.24687 0.59465,0.62676 0.83528,0.84398 0.2406,0.21726 0.65677,0.56003 0.9249,0.76185 0.26771,0.20182 0.65594,0.47121 0.86235,0.59881 0.20641,0.12761 0.57254,0.33694 0.81315,0.46496 0.24103,0.12843 0.65552,0.32651 0.92197,0.43993 0.26605,0.11385 0.72225,0.28439 1.0137,0.37905 0.29148,0.0951 0.72099,0.21851 0.95453,0.2748 0.23394,0.0559 0.6501,0.14053 0.92535,0.18723 0.27522,0.0471 0.83355,0.10759 1.2406,0.13427 0.56921,0.0375 0.90158,0.0375 1.4386,-8.2e-4 0.38406,-0.0271 0.93158,-0.088 1.2168,-0.13469 0.28523,-0.0467 0.70557,-0.13219 0.93405,-0.19016 0.22893,-0.0584 0.61425,-0.1718 0.85613,-0.25312 0.24228,-0.0809 0.67596,-0.24894 0.9633,-0.37321 0.28773,-0.12468 0.71057,-0.3311 0.9399,-0.45953 0.22935,-0.12802 0.62341,-0.36821 0.8757,-0.53418 0.25228,-0.16555 0.65594,-0.45745 0.89655,-0.64802 0.24103,-0.19099 0.71181,-0.62091 1.0467,-0.95617 0.33526,-0.33485 0.76522,-0.80603 0.95617,-1.0467 0.19057,-0.24103 0.50124,-0.67263 0.69014,-0.9591 0.18931,-0.2869 0.44744,-0.71849 0.57463,-0.9591 0.12718,-0.24103 0.3165,-0.63134 0.42158,-0.86738 0.10467,-0.23644 0.26271,-0.64009 0.35111,-0.89655 0.0884,-0.25687 0.20934,-0.64551 0.26813,-0.86317 0.0588,-0.21809 0.14554,-0.59048 0.19266,-0.82815 0.0476,-0.23811 0.11426,-0.66012 0.14887,-0.93825 0.0342,-0.27856 0.0743,-0.82523 0.088,-1.2152 0.0146,-0.39657 0.005,-1.0179 -0.0217,-1.4107 -0.0259,-0.38572 -0.0759,-0.9195 -0.11093,-1.1864 -0.035,-0.26646 -0.11092,-0.72849 -0.16929,-1.0267 -0.058,-0.29816 -0.18933,-0.834 -0.29149,-1.1906 -0.10217,-0.35654 -0.29065,-0.91118 -0.41825,-1.2322 -0.1276,-0.32109 -0.36446,-0.84315 -0.52626,-1.1601 -0.16179,-0.3165 -0.43826,-0.79523 -0.61382,-1.0634 -0.17555,-0.26771 -0.47621,-0.6843 -0.66761,-0.9249 -0.19141,-0.24103 -0.56546,-0.65511 -0.83108,-0.92033 -0.26562,-0.26563 -0.66094,-0.62341 -0.879,-0.7956 -0.21767,-0.1718 -0.56503,-0.42534 -0.77145,-0.56253 -0.20641,-0.13761 -0.54418,-0.34569 -0.7506,-0.46287 -0.20641,-0.11718 -0.52542,-0.28147 -0.7089,-0.3657 -0.18348,-0.0838 -0.4662,-0.20559 -0.62842,-0.27064 -0.16221,-0.065 -0.49998,-0.18473 -0.7506,-0.26562 -0.25062,-0.0809 -0.6059,-0.18431 -0.78938,-0.23019 -0.18348,-0.0454 -0.53334,-0.12092 -0.7773,-0.16721 -0.24394,-0.0467 -0.71724,-0.11385 -1.0516,-0.14887 -0.34402,-0.0363 -0.93907,-0.0617 -1.3702,-0.0588 z m 27.992,9.4822 c -0.24061,-0.01 -0.53627,4.2e-4 -0.65677,0.0221 -0.12051,0.0217 -0.32943,0.0842 -0.46413,0.13886 -0.13469,0.055 -0.35611,0.17514 -0.49122,0.26688 -0.13553,0.0917 -0.36529,0.29482 -0.51124,0.45078 -0.14595,0.15596 -0.37739,0.4537 -0.51417,0.66137 -0.13677,0.20767 -0.36612,0.61216 -0.50957,0.89903 -0.14345,0.28647 -0.34861,0.72349 -0.45578,0.9708 -0.10717,0.24728 -0.30524,0.71932 -0.43993,1.0496 -0.13428,0.32985 -0.28399,0.75518 -0.33194,0.94493 -0.0492,0.19557 -0.0863,0.47246 -0.0855,0.63926 10e-4,0.16888 0.0321,0.3778 0.073,0.49039 0.0392,0.108 0.13178,0.28106 0.20517,0.38489 0.0738,0.10384 0.26146,0.28231 0.417,0.39658 0.15596,0.11467 0.46162,0.30107 0.67929,0.41449 0.21809,0.11384 0.6526,0.31984 0.96615,0.45828 0.31358,0.13844 0.76395,0.34862 1.0008,0.46746 0.23686,0.11842 0.77768,0.40741 1.2022,0.64176 0.42451,0.23435 1.128,0.61424 1.5638,0.84398 0.43577,0.23018 1.4399,0.75187 2.231,1.1596 0.79148,0.40782 1.8294,0.95535 2.3073,1.2164 0.47747,0.26146 1.1718,0.65594 1.5429,0.87698 0.37071,0.22101 0.93075,0.56628 1.2443,0.76725 0.31317,0.20099 0.80107,0.53 1.0842,0.731 0.28272,0.20058 0.7114,0.51874 0.95205,0.70598 0.24102,0.18765 0.60673,0.48581 0.81315,0.66261 0.20641,0.17681 0.76935,0.68137 1.251,1.1205 0.48163,0.43952 1.3836,1.3056 2.0041,1.9249 0.62049,0.61924 1.4274,1.4541 1.7936,1.8556 0.36613,0.40116 0.79815,0.87991 0.95992,1.0634 0.1618,0.18347 0.52835,0.61507 0.8148,0.95909 0.28606,0.34403 0.74685,0.91613 1.0241,1.2719 0.27731,0.35528 0.69515,0.90907 0.9291,1.2301 0.23394,0.3211 0.64594,0.91201 0.91613,1.3136 0.2698,0.40115 0.63717,0.96412 0.81645,1.251 0.17931,0.28648 0.52792,0.87323 0.77437,1.304 0.24645,0.43035 0.64469,1.1714 0.88485,1.6472 0.24019,0.47539 0.58213,1.1927 0.75938,1.5942 0.17764,0.40116 0.44035,1.03 0.58422,1.397 0.14386,0.36695 0.36737,0.97702 0.49706,1.3552 0.12969,0.37821 0.32818,1.007 0.44077,1.397 0.113,0.38989 0.2798,1.0196 0.37155,1.3994 0.0913,0.37989 0.23226,1.0392 0.31275,1.4654 0.0809,0.42617 0.19348,1.1192 0.25061,1.5404 0.0567,0.42118 0.13594,1.1126 0.17598,1.5371 0.0546,0.58338 0.073,1.1984 0.0746,2.5228 0.001,1.1034 -0.0179,1.9907 -0.0526,2.3978 -0.0296,0.35528 -0.0909,0.96367 -0.13594,1.3515 -0.0446,0.38823 -0.12718,0.9987 -0.18307,1.3569 -0.0563,0.3582 -0.16054,0.95077 -0.23227,1.3168 -0.0717,0.36654 -0.2039,0.98497 -0.29439,1.3748 -0.0901,0.3899 -0.27981,1.1217 -0.42117,1.6263 -0.14178,0.50457 -0.42993,1.424 -0.64052,2.0433 -0.21016,0.61925 -0.44368,1.2948 -0.51874,1.5012 l -0.13637,0.3753 -0.0392,1.2927 c -0.0213,0.71099 -0.0288,1.4524 -0.0166,1.6476 0.0125,0.19515 0.0688,0.53709 0.12552,0.7602 0.0563,0.22268 0.18264,0.56003 0.28022,0.74977 0.12968,0.25187 0.26312,0.43034 0.49289,0.65886 0.17306,0.17264 0.412,0.36529 0.53085,0.42826 0.11842,0.0634 0.3607,0.15179 0.53834,0.19724 0.22143,0.0567 0.46037,0.0826 0.76395,0.0826 0.24269,0 0.59172,-0.0267 0.7752,-0.0588 0.18348,-0.0325 0.48706,-0.0984 0.67471,-0.14637 0.18765,-0.0479 0.50665,-0.14511 0.7089,-0.216 0.20224,-0.0709 0.59756,-0.23811 0.87817,-0.37197 0.28064,-0.13386 0.66512,-0.33735 0.85485,-0.45244 0.18932,-0.11551 0.49082,-0.32651 0.66971,-0.46913 0.17889,-0.14303 0.41825,-0.38322 0.53167,-0.53376 0.1839,-0.24477 0.23769,-0.37155 0.49748,-1.1709 0.16055,-0.49331 0.37739,-1.1968 0.48247,-1.5638 0.10508,-0.36696 0.30275,-1.1084 0.4391,-1.6472 0.13636,-0.53918 0.36863,-1.5338 0.51666,-2.2101 0.14763,-0.67679 0.4095,-1.962 0.58172,-2.8564 0.1718,-0.89445 0.42159,-2.1801 0.5542,-2.8564 l 0.24144,-1.2302 -0.008,-0.72975 c -0.005,-0.40157 -0.0284,-1.0396 -0.053,-1.4178 -0.025,-0.37863 -0.0738,-1.0354 -0.10843,-1.4595 -0.035,-0.4245 -0.10091,-1.1092 -0.14636,-1.522 -0.0451,-0.41283 -0.12969,-1.0976 -0.18765,-1.522 -0.058,-0.4245 -0.17097,-1.1655 -0.25145,-1.6472 -0.0801,-0.48163 -0.21184,-1.2043 -0.29273,-1.6054 -0.0805,-0.40157 -0.23728,-1.1238 -0.34778,-1.6054 -0.11092,-0.48163 -0.29774,-1.2322 -0.41575,-1.668 -0.11801,-0.43576 -0.33818,-1.196 -0.48914,-1.6888 -0.15054,-0.49289 -0.42367,-1.319 -0.60674,-1.8348 -0.18264,-0.51624 -0.47413,-1.2948 -0.64718,-1.7306 -0.17306,-0.43576 -0.44619,-1.0925 -0.60632,-1.4595 -0.16013,-0.36696 -0.46287,-1.0238 -0.67262,-1.4595 -0.20975,-0.43576 -0.56128,-1.1392 -0.7806,-1.5638 -0.21976,-0.4245 -0.61883,-1.1542 -0.8874,-1.6217 -0.26813,-0.46787 -0.65886,-1.1246 -0.8682,-1.4595 -0.20933,-0.33527 -0.60465,-0.94703 -0.87862,-1.3598 -0.27398,-0.41283 -0.74143,-1.0909 -1.0383,-1.5066 -0.29733,-0.41616 -0.82815,-1.1264 -1.1793,-1.5784 -0.35154,-0.45245 -0.93953,-1.1818 -1.306,-1.6209 -0.36655,-0.4391 -0.85905,-1.0145 -1.0934,-1.2781 -0.23477,-0.26396 -0.73225,-0.80812 -1.1055,-1.2093 -0.37322,-0.40157 -1.2485,-1.2932 -1.9444,-1.982 -0.69597,-0.68847 -1.6501,-1.5992 -2.1205,-2.0237 -0.46996,-0.4245 -1.1267,-1.007 -1.4595,-1.2952 -0.33235,-0.28773 -0.97995,-0.83153 -1.4386,-1.2088 -0.4587,-0.37697 -1.1434,-0.93075 -1.522,-1.2306 -0.37822,-0.29941 -1.1101,-0.86235 -1.6263,-1.251 -0.51583,-0.38864 -1.1634,-0.84863 -1.4386,-1.0229 -0.27522,-0.17388 -0.76312,-0.45912 -1.0842,-0.63342 -0.32109,-0.1743 -0.89362,-0.46078 -1.2718,-0.63634 -0.37822,-0.17556 -1.065,-0.47413 -1.5262,-0.66386 -0.46078,-0.18974 -1.4082,-0.56462 -2.1058,-0.83318 -0.69722,-0.26854 -1.6976,-0.65719 -2.2234,-0.86317 -0.52542,-0.20642 -1.1355,-0.42117 -1.3552,-0.47664 -0.24937,-0.0634 -0.5642,-0.10842 -0.8373,-0.11926 z m -51.482,8.5725 c -0.20641,0.001 -0.5521,0.0392 -0.76815,0.0847 -0.21642,0.0454 -0.57296,0.1497 -0.7923,0.23186 -0.21976,0.0817 -0.58714,0.24311 -0.81645,0.35778 -0.22935,0.11468 -0.60465,0.32193 -0.834,0.45996 -0.22935,0.13803 -0.83482,0.53084 -1.3453,0.8724 -0.51083,0.34194 -1.2051,0.82027 -1.5429,1.0629 -0.33819,0.24269 -0.87734,0.63926 -1.1984,0.88155 -0.32109,0.24186 -0.76185,0.58088 -0.97995,0.75307 -0.21767,0.17264 -0.65844,0.53001 -0.97912,0.79478 -0.32067,0.26479 -0.82733,0.69472 -1.1259,0.95535 -0.29858,0.26104 -0.86198,0.77017 -1.2518,1.1318 -0.3899,0.36196 -1.1222,1.0771 -1.6276,1.59 -0.50498,0.51291 -1.1713,1.2139 -1.4804,1.5584 -0.30899,0.34402 -0.76934,0.86947 -1.0233,1.1676 -0.25394,0.29773 -0.66511,0.79477 -0.91365,1.1046 -0.24811,0.30983 -0.71723,0.9195 -1.0417,1.3552 -0.32484,0.43576 -0.74101,1.0083 -0.9249,1.2718 -0.1839,0.26354 -0.46829,0.67971 -0.63176,0.92407 -0.16346,0.24437 -0.50457,0.7752 -0.7581,1.1801 -0.25395,0.40491 -0.67428,1.1055 -0.9345,1.5571 -0.2602,0.45203 -0.62591,1.1072 -0.81314,1.4558 -0.18682,0.34903 -0.53251,1.0246 -0.76816,1.5012 -0.2356,0.47705 -0.58088,1.2047 -0.76725,1.6175 -0.18639,0.41283 -0.47954,1.0884 -0.65135,1.5012 -0.1718,0.41283 -0.43868,1.0788 -0.59297,1.4804 -0.15429,0.40115 -0.40198,1.0767 -0.55044,1.5012 -0.14846,0.4245 -0.39115,1.1468 -0.53876,1.6054 -0.14804,0.4587 -0.39741,1.2844 -0.55419,1.8348 -0.15721,0.55044 -0.39907,1.4512 -0.53751,2.0016 -0.13845,0.55044 -0.33611,1.3852 -0.43911,1.8556 -0.10341,0.46996 -0.26313,1.2393 -0.35528,1.7097 -0.0922,0.46996 -0.24269,1.3052 -0.33485,1.8556 -0.0917,0.55044 -0.21434,1.329 -0.27188,1.7306 -0.058,0.40115 -0.16097,1.1893 -0.22935,1.7514 -0.068,0.5617 -0.1618,1.4061 -0.20808,1.8765 -0.0463,0.46995 -0.12219,1.3427 -0.16806,1.939 -0.0463,0.59631 -0.10299,1.5437 -0.12635,2.1058 -0.0229,0.56169 -0.0725,1.5471 -0.10925,2.1892 -0.0404,0.6993 -0.0571,1.3894 -0.0421,1.7206 0.0138,0.30441 0.0459,0.68888 0.0705,0.85485 0.025,0.16596 0.0926,0.48914 0.1497,0.71808 0.0571,0.22893 0.2231,0.80107 0.36862,1.2718 0.14553,0.47079 0.39699,1.2176 0.55837,1.6605 0.16137,0.44243 0.39906,1.0617 0.52833,1.3761 0.12927,0.314 0.4758,1.0591 0.77063,1.6555 0.2944,0.59631 0.66345,1.2998 0.81937,1.5638 0.22518,0.3803 0.31484,0.49456 0.43285,0.55253 0.093,0.0454 0.32818,0.0871 0.62925,0.11175 0.30024,0.0246 0.68888,0.0246 1.0346,0 0.30441,-0.0217 0.74017,-0.0771 0.96788,-0.12385 0.22768,-0.0463 0.48329,-0.11217 0.56837,-0.14595 0.0992,-0.0396 0.19348,-0.12426 0.26521,-0.23852 0.0613,-0.0972 0.15263,-0.28023 0.20267,-0.40616 0.05,-0.12635 0.13552,-0.37739 0.19015,-0.55795 0.0546,-0.18097 0.12802,-0.46745 0.16305,-0.63676 0.035,-0.16971 0.083,-0.49539 0.10634,-0.72391 0.0296,-0.28856 0.0288,-0.5496 -0.002,-0.85485 -0.0246,-0.24186 -0.1005,-0.71557 -0.16931,-1.0533 -0.0684,-0.33777 -0.16054,-0.8298 -0.20558,-1.0938 -0.0446,-0.26354 -0.11885,-0.8832 -0.16514,-1.3761 -0.0459,-0.49331 -0.11175,-1.2627 -0.14595,-1.7097 -0.0346,-0.44744 -0.0821,-1.1321 -0.10591,-1.522 -0.0238,-0.3899 -0.0613,-1.1593 -0.0842,-1.7097 -0.0225,-0.55044 -0.0409,-1.5262 -0.0409,-2.1684 0,-0.64218 0.0192,-1.5804 0.0425,-2.085 0.0234,-0.50457 0.0705,-1.2647 0.10508,-1.6888 0.0346,-0.42451 0.10008,-1.0904 0.14553,-1.4804 0.0459,-0.38989 0.13094,-1.0187 0.18974,-1.397 0.0588,-0.37864 0.17305,-1.0162 0.25354,-1.417 0.0805,-0.40115 0.23727,-1.0954 0.34819,-1.5429 0.11134,-0.44785 0.29524,-1.1238 0.4095,-1.502 0.11425,-0.37864 0.31191,-0.98078 0.4391,-1.3386 0.1276,-0.35779 0.41991,-1.1217 0.65052,-1.698 0.23018,-0.57588 0.59422,-1.4562 0.80895,-1.9557 0.21475,-0.49957 0.54669,-1.2552 0.73809,-1.6797 0.19099,-0.42451 0.68971,-1.4566 1.108,-2.2935 0.41826,-0.83693 0.97455,-1.907 1.2364,-2.3769 0.26187,-0.47038 0.60298,-1.0708 0.75727,-1.3344 0.15471,-0.26354 0.46162,-0.77062 0.6818,-1.1259 0.22059,-0.3557 0.66469,-1.0404 0.98745,-1.522 0.32275,-0.48164 0.76057,-1.115 0.97372,-1.4074 0.21267,-0.29232 0.623,-0.83647 0.91238,-1.2093 0.28898,-0.37279 0.71349,-0.90277 0.94365,-1.178 0.23018,-0.27522 0.6355,-0.74435 0.90075,-1.0425 0.26521,-0.29816 0.80107,-0.8682 1.1909,-1.2673 0.3899,-0.39865 0.97328,-0.97245 1.2964,-1.2752 0.32318,-0.30232 0.83903,-0.76522 1.1468,-1.0288 0.30733,-0.26313 0.80985,-0.67971 1.1168,-0.92573 0.3065,-0.24603 0.89573,-0.69347 1.3098,-0.99367 0.41367,-0.30066 1.073,-0.75683 1.4649,-1.0142 0.39198,-0.25729 0.99413,-0.63718 1.3382,-0.84398 0.34403,-0.20683 0.95408,-0.5592 1.3552,-0.7827 0.40157,-0.22351 0.86108,-0.49122 1.0216,-0.59422 0.16055,-0.10342 0.44202,-0.30483 0.6255,-0.44786 0.18348,-0.14303 0.47079,-0.40491 0.63884,-0.58171 0.16806,-0.17681 0.39573,-0.46037 0.50624,-0.62967 0.1105,-0.16931 0.25771,-0.44453 0.32692,-0.61174 0.0692,-0.16722 0.14887,-0.42159 0.17723,-0.56545 0.0317,-0.16263 0.043,-0.45453 0.0304,-0.77145 -0.0179,-0.44577 -0.0396,-0.56754 -0.17472,-0.9687 -0.0847,-0.25229 -0.2306,-0.59965 -0.32443,-0.77145 -0.0938,-0.17223 -0.28481,-0.48164 -0.42408,-0.68805 -0.14804,-0.21935 -0.45287,-0.57421 -0.73434,-0.85485 -0.26438,-0.26397 -0.58797,-0.54252 -0.71933,-0.61925 -0.13135,-0.0771 -0.35278,-0.1864 -0.49289,-0.24269 -0.1397,-0.0563 -0.37947,-0.12927 -0.53251,-0.1618 -0.1545,-0.0337 -0.44925,-0.0592 -0.6555,-0.0585 z m 28.252,22.621 c -0.51583,-0.009 -1.1726,-8.2e-4 -1.4595,0.0192 -0.28648,0.02 -0.76523,0.0667 -1.0634,0.10383 -0.29815,0.0375 -0.87278,0.13261 -1.2772,0.21184 -0.40449,0.0792 -1.042,0.21935 -1.417,0.31192 -0.37488,0.0922 -0.93659,0.24144 -1.2485,0.33152 -0.31192,0.0901 -0.87525,0.26979 -1.2518,0.39906 -0.37697,0.12927 -0.91028,0.32526 -1.1855,0.43494 -0.27522,0.11008 -0.72558,0.29773 -1.0008,0.41783 -0.27522,0.11968 -0.76312,0.34903 -1.0842,0.50957 -0.32109,0.16054 -0.86527,0.45078 -1.2093,0.64552 -0.34402,0.19473 -0.94785,0.56712 -1.3415,0.82777 -0.39364,0.26021 -0.9378,0.64052 -1.2093,0.84525 -0.27146,0.20475 -0.73725,0.57504 -1.0354,0.82313 -0.29816,0.24811 -0.93743,0.84607 -1.4207,1.3286 -0.48289,0.48289 -1.0759,1.1122 -1.3168,1.399 -0.24103,0.28647 -0.61674,0.75562 -0.83483,1.0425 -0.21851,0.28648 -0.5567,0.75562 -0.75187,1.0425 -0.19557,0.28647 -0.51458,0.78397 -0.7089,1.105 -0.19433,0.32109 -0.50749,0.8715 -0.69514,1.2226 -0.18807,0.35153 -0.47204,0.91785 -0.63093,1.2585 -0.15929,0.3411 -0.36653,0.804 -0.46078,1.0292 -0.0942,0.22518 -0.24645,0.60631 -0.3386,0.84735 -0.0926,0.2406 -0.2698,0.73809 -0.3949,1.105 -0.12468,0.36696 -0.30983,0.94867 -0.41075,1.2927 -0.10091,0.34402 -0.26104,0.93495 -0.3557,1.3136 -0.0947,0.37821 -0.25437,1.1008 -0.35445,1.6054 -0.1005,0.50457 -0.23852,1.3018 -0.30732,1.7722 -0.0692,0.46995 -0.15387,1.1176 -0.18891,1.4386 -0.035,0.32109 -0.0922,0.93075 -0.12718,1.3552 -0.0346,0.42409 -0.0826,1.4374 -0.10592,2.2518 -0.0292,1.0029 -0.0663,1.6284 -0.11509,1.939 -0.0517,0.32901 -0.0721,0.70639 -0.0717,1.3344 8.2e-4,0.74184 0.0154,0.9474 0.0951,1.344 0.0517,0.25729 0.14178,0.63258 0.20016,0.834 0.058,0.20099 0.19808,0.60089 0.31109,0.88822 0.11342,0.28731 0.32776,0.76395 0.47663,1.0592 0.14929,0.29524 0.44453,0.82695 0.65677,1.1818 0.21184,0.35487 0.66137,1.0508 0.99833,1.5471 0.33735,0.49623 1.0233,1.5116 1.525,2.2572 0.50124,0.74518 1.1572,1.768 1.4574,2.2731 0.30066,0.50498 0.69597,1.1443 0.879,1.4211 0.18264,0.27689 0.54376,0.78315 0.8019,1.1254 0.25853,0.34235 0.68096,0.8661 0.93907,1.1643 0.25812,0.29815 0.75773,0.82402 1.1101,1.1684 0.35236,0.34403 0.80939,0.76725 1.0158,0.94035 0.20641,0.17265 0.53501,0.43702 0.72974,0.58672 0.19516,0.15012 0.56087,0.41367 0.81315,0.5863 0.25229,0.17223 0.67471,0.44077 0.93826,0.59673 0.26396,0.15596 0.81562,0.44911 1.2259,0.65136 0.41075,0.20265 0.99248,0.46495 1.2927,0.58338 0.30066,0.11843 0.70598,0.26979 0.90075,0.3361 0.19515,0.0659 0.65468,0.20266 1.0216,0.30358 0.36697,0.10132 0.93953,0.24019 1.2727,0.30899 0.33277,0.0692 0.87698,0.16388 1.2093,0.21017 0.33194,0.0467 0.83858,0.10843 1.1251,0.13719 0.30524,0.0308 1.0825,0.0526 1.8765,0.0521 0.7456,-4.2e-4 1.6088,-0.0242 1.9182,-0.0526 0.30984,-0.0284 0.78811,-0.0801 1.0634,-0.11468 0.27522,-0.0346 0.78104,-0.11009 1.1238,-0.16721 0.34277,-0.0575 0.91784,-0.16972 1.2772,-0.24937 0.35988,-0.0797 0.92821,-0.22018 1.2631,-0.31192 0.33485,-0.0917 0.9045,-0.26229 1.266,-0.37905 0.36196,-0.11676 0.92993,-0.31525 1.2622,-0.44077 0.33277,-0.12552 0.84862,-0.33235 1.1468,-0.45911 0.29815,-0.12719 0.84232,-0.37531 1.2093,-0.5517 0.36696,-0.17639 0.96743,-0.48705 1.3344,-0.69013 0.36696,-0.20308 0.93907,-0.53751 1.2718,-0.74309 0.33235,-0.20517 0.89783,-0.57838 1.256,-0.82815 0.35863,-0.2502 0.89326,-0.64844 1.1885,-0.8853 0.29565,-0.23686 0.80024,-0.6743 1.1221,-0.972 0.32193,-0.29816 0.81188,-0.79313 1.0896,-1.1008 0.27771,-0.30733 0.60714,-0.68097 0.73224,-0.82981 0.12552,-0.14928 0.41283,-0.51499 0.63843,-0.81315 0.22601,-0.29815 0.60215,-0.83317 0.8361,-1.1884 0.23352,-0.3557 0.58047,-0.91784 0.77063,-1.2497 0.19015,-0.33194 0.5471,-1.0166 0.79312,-1.522 0.24603,-0.5054 0.59673,-1.294 0.7794,-1.7527 0.18265,-0.45869 0.44619,-1.1814 0.58548,-1.6054 0.13927,-0.4245 0.33818,-1.0813 0.44202,-1.4595 0.10382,-0.37864 0.26395,-1.0259 0.35569,-1.4387 0.0922,-0.41282 0.22351,-1.0792 0.29232,-1.4803 0.0688,-0.40158 0.16263,-1.0208 0.20892,-1.3761 0.0459,-0.3557 0.11426,-0.97492 0.15137,-1.3761 0.0409,-0.44286 0.0759,-1.3586 0.0892,-2.3285 0.0129,-0.9858 0.003,-1.9048 -0.0267,-2.3978 -0.0267,-0.43952 -0.0942,-1.2118 -0.15053,-1.7164 -0.0567,-0.50457 -0.1593,-1.2518 -0.2281,-1.6609 -0.0692,-0.40866 -0.19141,-1.0467 -0.2723,-1.4178 -0.0805,-0.37071 -0.24061,-1.0179 -0.35613,-1.4374 -0.11509,-0.41992 -0.29481,-1.0204 -0.39948,-1.3344 -0.10467,-0.31442 -0.28064,-0.80603 -0.39031,-1.0925 -0.11009,-0.2869 -0.2969,-0.74643 -0.41534,-1.0216 -0.11842,-0.27522 -0.40782,-0.8757 -0.64301,-1.3344 -0.23518,-0.4587 -0.60256,-1.1251 -0.81607,-1.4804 -0.21351,-0.3557 -0.54711,-0.8811 -0.74185,-1.1676 -0.19474,-0.2869 -0.56753,-0.8052 -0.82814,-1.1518 -0.26105,-0.34695 -0.70599,-0.90075 -0.98955,-1.2302 -0.28314,-0.32984 -0.75728,-0.85109 -1.0533,-1.1584 -0.29607,-0.30774 -0.8244,-0.81772 -1.1743,-1.1342 -0.35028,-0.31609 -0.92242,-0.80108 -1.2718,-1.078 -0.34986,-0.27648 -0.88905,-0.68013 -1.1989,-0.89656 -0.30984,-0.21641 -0.83528,-0.56086 -1.168,-0.76559 -0.33276,-0.20433 -0.87113,-0.51583 -1.196,-0.69181 -0.32484,-0.17597 -0.86865,-0.44827 -1.2088,-0.60548 -0.33986,-0.15679 -0.88448,-0.39072 -1.2101,-0.51958 -0.32568,-0.12885 -0.8511,-0.31984 -1.1676,-0.42409 -0.3165,-0.10425 -0.8469,-0.26396 -1.1788,-0.35487 -0.33235,-0.0913 -0.87652,-0.22059 -1.2093,-0.28773 -0.33319,-0.0671 -0.86865,-0.15971 -1.1897,-0.20599 -0.32108,-0.0459 -0.79934,-0.10342 -1.0634,-0.12802 -0.26354,-0.0242 -0.90157,-0.0521 -1.4178,-0.0617 z m 41.137,42.655 c -0.8094,-0.01 -1.3136,0.004 -1.6434,0.043 -0.26146,0.0317 -0.64635,0.088 -0.85485,0.12594 -0.2085,0.0375 -0.60423,0.1251 -0.87945,0.1939 -0.27522,0.0688 -0.70139,0.19016 -0.94702,0.26939 -0.24562,0.0796 -0.67679,0.23893 -0.95828,0.35486 -0.28148,0.11551 -0.7481,0.33068 -1.0371,0.47746 -0.28856,0.14679 -0.70056,0.37281 -0.9153,0.50208 -0.21476,0.12927 -0.57587,0.3682 -0.80228,0.53042 -0.22684,0.16221 -0.60339,0.46537 -0.83692,0.67387 -0.23352,0.2085 -0.6059,0.59005 -0.82815,0.84735 -0.22184,0.2577 -0.53751,0.66969 -0.70181,0.91575 -0.16388,0.24603 -0.44535,0.74768 -0.6255,1.1146 -0.17973,0.36696 -0.41408,0.92032 -0.52041,1.2302 -0.10634,0.30941 -0.25896,0.82312 -0.33945,1.1417 -0.0801,0.31817 -0.19932,0.89985 -0.2652,1.2927 -0.0659,0.39239 -0.14888,1.0046 -0.18432,1.3603 -0.0358,0.3557 -0.0834,0.9558 -0.1055,1.3344 -0.0225,0.37822 -0.0534,1.2602 -0.0688,1.9599 -0.0171,0.80355 -0.01,1.5792 0.0204,2.1058 0.0267,0.4587 0.0767,1.0871 0.11092,1.397 0.0346,0.30941 0.11009,0.83482 0.16721,1.1668 0.0572,0.33235 0.16848,0.8703 0.24687,1.1955 0.0784,0.32526 0.22893,0.85613 0.33444,1.1793 0.10591,0.32359 0.28647,0.81773 0.40115,1.0984 0.11509,0.28064 0.33526,0.7539 0.48997,1.0521 0.1543,0.29815 0.39699,0.72724 0.53919,0.95325 0.14219,0.22642 0.41616,0.62049 0.6084,0.8757 0.19265,0.25561 0.53709,0.67095 0.76605,0.92325 0.22893,0.25228 0.60382,0.62424 0.83317,0.8265 0.22977,0.20183 0.56504,0.48122 0.7456,0.62091 0.18056,0.13928 0.54752,0.39907 0.81562,0.57713 0.26814,0.17764 0.73726,0.46036 1.0425,0.628 0.30525,0.16722 0.78022,0.40116 1.0554,0.52 0.27522,0.11885 0.74435,0.29524 1.0425,0.39198 0.29816,0.0972 0.7965,0.22852 1.1072,0.29273 0.31067,0.0642 0.81735,0.14012 1.1259,0.16847 0.35195,0.0326 0.81735,0.0425 1.2489,0.0263 0.37864,-0.0142 0.88155,-0.0542 1.1176,-0.0888 0.23644,-0.0346 0.64843,-0.11175 0.9153,-0.17181 0.2673,-0.0596 0.74268,-0.1914 1.0567,-0.29273 0.31442,-0.10133 0.78187,-0.26896 1.0392,-0.37321 0.25687,-0.10383 0.71391,-0.309 1.0154,-0.45537 0.30148,-0.14637 0.74893,-0.37947 0.99495,-0.5175 0.24562,-0.13802 0.67721,-0.39489 0.9591,-0.57129 0.28148,-0.17597 0.756,-0.49122 1.0538,-0.69972 0.29774,-0.20892 0.72725,-0.52751 0.95407,-0.70806 0.22686,-0.18057 0.6376,-0.54711 0.91283,-0.81398 0.27522,-0.26688 0.65844,-0.67303 0.85193,-0.9024 0.19307,-0.22935 0.51583,-0.66136 0.71723,-0.96037 0.201,-0.29899 0.47038,-0.74018 0.5984,-0.97995 0.12844,-0.24019 0.319,-0.63843 0.42367,-0.8853 0.10509,-0.24687 0.25771,-0.64968 0.33986,-0.8949 0.0821,-0.24562 0.21309,-0.70641 0.29107,-1.0238 0.078,-0.31776 0.18014,-0.83445 0.22643,-1.1484 0.0467,-0.314 0.10383,-0.7773 0.12677,-1.0296 0.0229,-0.25229 0.0412,-1.078 0.0412,-1.8348 -4.2e-4,-0.75683 -0.0192,-1.6951 -0.0421,-2.085 -0.023,-0.3899 -0.0701,-0.98123 -0.10509,-1.3136 -0.0355,-0.33235 -0.10216,-0.84863 -0.14929,-1.1468 -0.0467,-0.29816 -0.14094,-0.7956 -0.2085,-1.105 -0.0679,-0.30984 -0.19849,-0.8223 -0.28981,-1.1392 -0.0917,-0.31692 -0.26688,-0.83273 -0.38948,-1.1468 -0.1226,-0.31359 -0.29774,-0.73184 -0.38906,-0.9291 -0.0917,-0.19725 -0.28398,-0.56295 -0.42742,-0.81315 -0.14346,-0.24978 -0.38532,-0.63551 -0.53752,-0.8565 -0.15179,-0.22101 -0.42909,-0.58714 -0.61633,-0.8136 -0.18723,-0.22644 -0.525,-0.59006 -0.7506,-0.80813 -0.22559,-0.21809 -0.55836,-0.51666 -0.73975,-0.66386 -0.18098,-0.1472 -0.56546,-0.42576 -0.85485,-0.61883 -0.28898,-0.19349 -0.89115,-0.53334 -1.3386,-0.756 -0.44703,-0.22226 -0.9633,-0.46704 -1.1468,-0.54335 -0.18348,-0.0767 -0.57046,-0.22893 -0.85943,-0.3386 -0.28939,-0.10925 -0.8244,-0.28356 -1.1884,-0.38698 -0.36445,-0.10342 -0.84067,-0.22601 -1.0588,-0.27188 -0.21768,-0.0463 -0.65886,-0.12469 -0.97995,-0.17431 -0.46787,-0.0721 -0.81563,-0.093 -1.7514,-0.10425 z m -85.17,2.9282 c -0.28648,-0.0108 -0.80272,-0.005 -1.1468,0.0121 -0.34402,0.0176 -0.83857,0.0638 -1.0992,0.103 -0.26062,0.0396 -0.72975,0.13511 -1.0425,0.21267 -0.31275,0.0776 -0.75645,0.20474 -0.9858,0.28273 -0.22935,0.0784 -0.58172,0.21058 -0.78315,0.2944 -0.20099,0.0834 -0.61341,0.27605 -0.91612,0.42742 -0.30233,0.15179 -0.78773,0.42368 -1.0784,0.60424 -0.29107,0.18055 -0.73267,0.48121 -0.9816,0.66844 -0.24895,0.18682 -0.62133,0.4854 -0.82778,0.66262 -0.20642,0.17764 -0.6476,0.60173 -0.9804,0.94283 -0.33277,0.34069 -0.75225,0.80355 -0.93203,1.0283 -0.17973,0.22518 -0.46704,0.60924 -0.63842,0.85403 -0.1714,0.24477 -0.42993,0.64259 -0.57421,0.88402 -0.1447,0.24144 -0.35779,0.61716 -0.4733,0.83483 -0.11592,0.21767 -0.32275,0.65886 -0.45912,0.97995 -0.13636,0.32109 -0.32526,0.81817 -0.4195,1.105 -0.0942,0.28647 -0.21767,0.6993 -0.2748,0.9174 -0.0571,0.21767 -0.1497,0.64926 -0.206,0.9591 -0.0563,0.30941 -0.1251,0.78562 -0.15262,1.058 -0.0317,0.31108 -0.0421,0.8382 -0.0288,1.4178 0.0159,0.67721 0.0455,1.0558 0.1105,1.4232 0.0488,0.27522 0.15304,0.74434 0.23144,1.0425 0.0784,0.29815 0.2185,0.76057 0.31066,1.0279 0.0926,0.2673 0.26355,0.70848 0.37989,0.97995 0.11676,0.27188 0.35904,0.77813 0.53919,1.1254 0.18014,0.34736 0.47246,0.86318 0.6501,1.1468 0.17764,0.28356 0.4541,0.70098 0.61465,0.92745 0.16012,0.22643 0.4733,0.63926 0.69514,0.9174 0.22184,0.27814 0.60131,0.72099 0.84277,0.98498 0.24144,0.26354 0.63468,0.6672 0.8736,0.89655 0.23895,0.22935 0.62175,0.57796 0.85065,0.77475 0.22935,0.19682 0.61383,0.50832 0.8544,0.6918 0.24103,0.1839 0.6351,0.46578 0.8757,0.62675 0.24103,0.16096 0.64385,0.41116 0.89528,0.55586 0.25145,0.1447 0.68388,0.37154 0.96037,0.50415 0.27689,0.13219 0.72809,0.32443 1.0024,0.42701 0.27439,0.10258 0.66762,0.23436 0.87405,0.29274 0.20642,0.0583 0.56295,0.14344 0.7923,0.1889 0.22935,0.0459 0.62342,0.10508 0.8757,0.13219 0.28398,0.0305 0.7285,0.0401 1.1676,0.0242 0.3899,-0.0134 0.98123,-0.0546 1.3136,-0.0913 0.33277,-0.0367 0.85815,-0.113 1.1676,-0.17013 0.30984,-0.0571 0.74351,-0.14928 0.96368,-0.20517 0.22059,-0.0559 0.6109,-0.16721 0.86737,-0.24769 0.25688,-0.0805 0.66762,-0.22435 0.91283,-0.32026 0.24561,-0.0955 0.64051,-0.26396 0.8778,-0.37447 0.23727,-0.11091 0.60298,-0.29898 0.81315,-0.41825 0.20975,-0.11968 0.5692,-0.34235 0.79852,-0.49581 0.22935,-0.15346 0.59548,-0.41575 0.81315,-0.58297 0.21809,-0.16721 0.68722,-0.59631 1.0433,-0.95407 0.3557,-0.35737 0.78982,-0.83775 0.96367,-1.0671 0.17431,-0.22935 0.42284,-0.58005 0.55295,-0.77978 0.1301,-0.19932 0.35653,-0.59339 0.50332,-0.8757 0.14678,-0.28189 0.35153,-0.71932 0.4541,-0.97162 0.103,-0.25229 0.25521,-0.68305 0.33861,-0.957 0.083,-0.27439 0.20558,-0.77145 0.27188,-1.105 0.0667,-0.3336 0.14095,-0.7902 0.16555,-1.015 0.0242,-0.22434 0.0555,-0.68388 0.0696,-1.0216 0.0142,-0.33735 0.004,-0.95115 -0.0225,-1.364 -0.0267,-0.41283 -0.0763,-0.99458 -0.11051,-1.2927 -0.0342,-0.29816 -0.108,-0.81443 -0.16388,-1.1468 -0.0559,-0.33277 -0.15763,-0.85028 -0.2256,-1.15 -0.0684,-0.30024 -0.17347,-0.72224 -0.23394,-0.93825 -0.0609,-0.21601 -0.18598,-0.62759 -0.27814,-0.9141 -0.0926,-0.2869 -0.28064,-0.80273 -0.41783,-1.1468 -0.13761,-0.34403 -0.39698,-0.92573 -0.57671,-1.2927 -0.17973,-0.36696 -0.45578,-0.88403 -0.61382,-1.1488 -0.15804,-0.2648 -0.43952,-0.70598 -0.62592,-0.97995 -0.18599,-0.27397 -0.49665,-0.69681 -0.68972,-0.93953 -0.19348,-0.24269 -0.5275,-0.62716 -0.74309,-0.85485 -0.21517,-0.22767 -0.55461,-0.56712 -0.75435,-0.7548 -0.19933,-0.18765 -0.54085,-0.48455 -0.75893,-0.66011 -0.21809,-0.17514 -0.66469,-0.49706 -0.99247,-0.71473 -0.33026,-0.21976 -0.912,-0.55128 -1.3048,-0.74477 -0.3899,-0.1914 -0.9153,-0.42409 -1.1676,-0.51666 -0.25228,-0.0922 -0.62758,-0.21642 -0.83399,-0.27605 -0.20642,-0.0596 -0.58255,-0.15304 -0.83566,-0.20809 -0.25311,-0.0554 -0.67554,-0.12802 -0.93825,-0.16179 -0.2627,-0.0337 -0.71223,-0.0705 -0.99914,-0.0809 z m 21.417,26.872 c -0.23143,0.002 -0.51083,0.0283 -0.62133,0.0588 -0.11009,0.0304 -0.30649,0.10717 -0.43619,0.17055 -0.13677,0.0668 -0.34986,0.23019 -0.50832,0.38948 -0.15012,0.15053 -0.33485,0.39115 -0.41074,0.53459 -0.0759,0.14345 -0.18223,0.39073 -0.23644,0.54961 -0.0538,0.15888 -0.12093,0.42992 -0.14886,0.60298 -0.033,0.20475 -0.0425,0.55044 -0.0275,0.9933 0.0154,0.45619 0.0517,0.8094 0.10967,1.0754 0.048,0.21767 0.15387,0.60256 0.23561,0.85484 0.0817,0.25229 0.27688,0.72141 0.4341,1.0425 0.1572,0.3211 0.37405,0.71516 0.48205,0.8757 0.108,0.16055 0.30191,0.42159 0.43077,0.58005 0.12926,0.15888 0.48789,0.51833 0.79769,0.79935 0.30942,0.28106 0.73184,0.64719 0.93826,0.81361 0.20641,0.16638 0.54418,0.42742 0.75059,0.57962 0.20642,0.15263 0.55378,0.39991 0.77145,0.54961 0.2181,0.14971 0.6818,0.44453 1.0308,0.65469 0.34903,0.20975 0.9591,0.54919 1.3553,0.7539 0.39657,0.20475 0.97784,0.48581 1.2922,0.62467 0.31442,0.13886 0.81188,0.34819 1.105,0.46579 0.29316,0.11718 0.97456,0.36028 1.5133,0.54001 0.53918,0.17973 1.3298,0.42034 1.7568,0.53418 0.42742,0.11426 1.1042,0.28314 1.5037,0.37571 0.3999,0.0926 1.0821,0.23603 1.5166,0.3186 0.43452,0.0822 1.2026,0.21391 1.7072,0.29231 0.50457,0.0784 1.3678,0.19807 1.9182,0.26605 0.55044,0.0679 1.226,0.14303 1.5012,0.16638 0.27522,0.0238 1.3919,0.0655 2.4812,0.0926 1.0896,0.0271 2.5437,0.0479 3.2318,0.0463 0.68805,-10e-4 1.5325,-0.0238 1.8765,-0.0492 0.34403,-0.025 0.94448,-0.0838 1.3344,-0.1301 0.38989,-0.0463 1.0654,-0.13094 1.5012,-0.18765 0.43576,-0.0571 1.1864,-0.16055 1.668,-0.22976 0.48164,-0.0697 1.2135,-0.18182 1.6263,-0.2502 0.41283,-0.0679 1.1446,-0.19933 1.6263,-0.2919 0.48163,-0.0926 1.2135,-0.24312 1.6263,-0.33402 0.41283,-0.0909 1.1072,-0.25771 1.5429,-0.3703 0.43577,-0.11259 1.0909,-0.29148 1.4553,-0.3974 0.36487,-0.10592 0.94658,-0.28689 1.2927,-0.40241 0.34653,-0.11509 0.95827,-0.33235 1.3594,-0.48247 0.40157,-0.15012 1.0754,-0.422 1.4983,-0.60423 0.42243,-0.18222 1.0888,-0.49164 1.4804,-0.68763 0.39155,-0.19599 0.96494,-0.49748 1.2748,-0.67012 0.30983,-0.17264 0.84443,-0.49123 1.1884,-0.70848 0.34402,-0.21726 0.90697,-0.59423 1.251,-0.83775 0.34402,-0.24353 0.74935,-0.56504 0.9003,-0.71432 0.15346,-0.15179 0.35987,-0.41742 0.46788,-0.60173 0.10592,-0.18181 0.26729,-0.50082 0.35862,-0.7089 0.0909,-0.20809 0.21434,-0.5471 0.27397,-0.75352 0.0592,-0.20601 0.13552,-0.5321 0.16929,-0.72475 0.0334,-0.19224 0.0609,-0.4758 0.0609,-0.62967 0,-0.15388 -0.0259,-0.36571 -0.0575,-0.4708 -0.0313,-0.10466 -0.12885,-0.30941 -0.21601,-0.45494 -0.0905,-0.14971 -0.35862,-0.46246 -0.62049,-0.7235 -0.25354,-0.25311 -0.63509,-0.5813 -0.84735,-0.72975 -0.21267,-0.14886 -0.59506,-0.38655 -0.85027,-0.52875 -0.2552,-0.1422 -0.63884,-0.33527 -0.85275,-0.42909 -0.2135,-0.0938 -0.57755,-0.23561 -0.80813,-0.31484 -0.32275,-0.11092 -0.48664,-0.14428 -0.71224,-0.14428 -0.16095,0 -0.42867,0.028 -0.59505,0.0625 -0.16597,0.0342 -0.51708,0.13469 -0.78023,0.22351 -0.26271,0.0884 -0.87195,0.32109 -1.3536,0.51666 -0.48163,0.19599 -1.291,0.50749 -1.799,0.69264 -0.5079,0.18473 -1.4086,0.50373 -2.0016,0.70848 -0.59298,0.20433 -1.5004,0.50457 -2.0166,0.6672 -0.51582,0.16221 -1.4261,0.43451 -2.0224,0.60465 -0.59631,0.17055 -1.4595,0.40491 -1.9182,0.52125 -0.4587,0.11634 -1.2602,0.30524 -1.7814,0.41992 -0.52125,0.11467 -1.3657,0.28523 -1.8765,0.37864 -0.51082,0.0934 -1.3794,0.23394 -1.9299,0.31275 -0.55044,0.0784 -1.3852,0.18056 -1.8556,0.22643 -0.46995,0.0463 -1.1363,0.10342 -1.4804,0.12718 -0.34402,0.0242 -1.1884,0.055 -1.8765,0.0692 -0.74268,0.015 -1.6492,0.006 -2.231,-0.0221 -0.53876,-0.0263 -1.2894,-0.0759 -1.668,-0.1105 -0.37821,-0.0346 -0.97867,-0.10092 -1.3344,-0.14679 -0.35528,-0.0459 -0.8715,-0.12093 -1.1468,-0.1668 -0.27522,-0.0459 -0.79102,-0.14053 -1.1468,-0.21017 -0.35528,-0.07 -0.98415,-0.21058 -1.397,-0.31275 -0.41283,-0.10258 -1.0117,-0.26145 -1.3311,-0.35403 -0.319,-0.0922 -0.89115,-0.27147 -1.2718,-0.39823 -0.3803,-0.12635 -0.9633,-0.33402 -1.296,-0.46079 -0.33234,-0.12718 -0.9141,-0.36195 -1.2927,-0.52209 -0.37821,-0.16012 -1.1384,-0.51291 -1.6888,-0.78397 -0.55044,-0.27105 -1.2635,-0.6401 -1.5846,-0.82065 -0.32109,-0.18056 -0.79942,-0.45787 -1.0634,-0.61592 -0.26354,-0.15846 -0.77017,-0.47579 -1.1259,-0.70473 -0.3557,-0.22935 -0.81817,-0.49789 -1.0279,-0.59755 -0.20975,-0.0997 -0.52709,-0.21809 -0.70515,-0.26355 -0.22601,-0.058 -0.45078,-0.0817 -0.74435,-0.0792 z",id:"icon"})],-1);function Xs(e,t,n,o,i,a){var c=Object(r["J"])("dc:format"),s=Object(r["J"])("dc:type"),u=Object(r["J"])("cc:Work"),l=Object(r["J"])("rdf:RDF"),d=Object(r["J"])("ProgressBar");return Object(r["A"])(),Object(r["g"])("div",Js,[(Object(r["A"])(),Object(r["g"])("svg",{height:e.isWideScreen()?.8*e.wrapHeight:"",width:e.isWideScreen()?"":e.wrapWidth,"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg",id:"svg33","xml:space":"preserve",viewBox:"0 0 1024 768",y:"0px",x:"0px",version:"1.1"},[Object(r["m"])("metadata",Ws,[Object(r["m"])(l,null,{default:Object(r["V"])((function(){return[Object(r["m"])(u,{"rdf:about":""},{default:Object(r["V"])((function(){return[Object(r["m"])(c,null,{default:Object(r["V"])((function(){return[Gs]})),_:1}),Object(r["m"])(s,{"rdf:resource":"http://purl.org/dc/dcmitype/StillImage"})]})),_:1})]})),_:1})]),$s,Ys,Fs],8,["height","width"])),Object(r["m"])("div",{style:"padding-left:".concat(e.wrapWidth/4,"px; padding-right:").concat(e.wrapWidth/4,"px;")},[Object(r["m"])(d,{mode:"indeterminate",style:"height: 6px;"})],4)])}var Zs=Object(r["n"])({name:"LogoDummy",methods:{isWideScreen:Xn},components:{ProgressBar:Qa["a"]},props:{wrapWidth:{type:Number},wrapHeight:{type:Number}}});Zs.render=Xs;var Ks=Zs,Qs=Object(r["n"])({name:"Home",components:{LogoDummy:Ks,Splitter:Us["a"],SplitterPanel:qs["a"],TextSearch:Hs,Map:pr,Menu:As,NodeContent:lc,ConfirmDialog:dc["a"],Toast:pc["a"]},setup:function(){var e=qt(),t=Object(Ft["e"])(),n=Object(Ft["d"])(),o=e.state.tree,i=e.state.zoomPan,a=e.state.pin,c=e.state.searchResult,u=Object(r["G"])("-1"),d=!1,b=!1,m=!1;Object(r["T"])((function(){return n.params.id}),(function(){e.commit("tree/".concat(xt.SET_SELECTED_NODE_ID),n.params.id)}),{immediate:!0});var f=function(e,t,n){var r=rr(t,n,e),o=Object(l["a"])(r,2),i=o[0],a=o[1];return a?(Q("Home.vue: error in filterNodesAndLayers:",{err:a}),[]):i.reverse()},O=Object(r["G"])(null),v=Object(r["G"])([]),h=!0;Object(Ft["c"])(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:h=!1;case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Object(r["T"])((function(){return[o.mapNodeLayers]}),(function(){if(h&&n.params.id.length>0&&o.mapNodeLayers.length>0){var t=te(n.params.id,o.mapNodeLayers),r=Object(l["a"])(t,1),i=r[0];null!=i&&e.commit("zoomPan/".concat(wt.SET_PAN),{x:-i.center.x+o.mapNodeLayers[0]["0"].center.x,y:-i.center.y+o.mapNodeLayers[0]["0"].center.y})}})),Object(r["T"])((function(){return[o.mapNodeLayers,i.debouncedZoom,i.debouncedPan]}),(function(){var e=nr(o.mapNodeLayers,o.nodeRecord,{width:window.innerWidth,height:window.innerHeight},i.debouncedZoom,i.pan,{x:S.ROOT_CENTER_X,y:S.ROOT_CENTER_Y}),t=Object(l["a"])(e,2),n=t[0],r=t[1];null!=r&&Q("filterNodesAndLayers: error in findCurrentNode",{err:r}),O.value=n,v.value=f(n,o.mapNodeLayers,o.nodeRecord)}),{immediate:!0,deep:!0});var g=Object(r["G"])([]),j=[];Object(r["T"])(v,(function(){var e=document.getElementById("mapID");if(e&&Object(ar["a"])().phone){e.setAttribute("transform"," scale(1 1)");var t=e.viewBox.baseVal;t.x=0,t.y=0}j=K(v.value),g.value=ir(j,i.zoom,i.pan)}),{immediate:!0,deep:!0}),Object(r["T"])((function(){return[i.zoom,i.pan]}),(function(e,t){if(t){var n=document.getElementById("mapID");if(n&&Object(ar["a"])().phone){n.setAttribute("transform-origin"," ".concat(i.zoomCenter.x,"px ").concat(i.zoomCenter.y,"px")),n.setAttribute("transform"," scale(".concat(i.relative.zoom,")"));var r=n.viewBox.baseVal;r.x=-i.relative.pan.x,r.y=-i.relative.pan.y}else or(g.value,e[0],e[1],t[0],t[1])}else g.value=ir(j,i.zoom,i.pan)}),{immediate:!0,deep:!0});var y=Object(r["G"])(.4*window.innerHeight);return{innerHeight:window.innerHeight,innerWidth:window.innerWidth,isWideScreen:Xn,pinNodes:Object(r["e"])((function(){if(null==O.value)return[];var e=a.pinsReverse[O.value];if(!e)return[];var t,n=Object(p["a"])(v.value);try{for(n.s();!(t=n.n()).done;){var r=t.value;for(var c in r){var s=r[c];if(""!=s.title){var u=e.indexOf(s.id);-1!=u&&e.splice(u,1)}}}}catch(g){n.e(g)}finally{n.f()}var l,d=ne(e,o.mapNodeLayers),b=[],m=Object(p["a"])(d);try{for(m.s();!(l=m.n()).done;){var f=l.value,h=K(f);Object(ar["a"])().phone?h.center=Kn(f.center,i.debouncedZoom,i.debouncedPan):h.center=Kn(f.center,i.zoom,i.pan),b.push(h)}}catch(g){m.e(g)}finally{m.f()}return b})),searchResultNodeIDs:Object(r["e"])((function(){return c.nodeIDs})),searchResultPinNodes:Object(r["e"])((function(){if(null==O.value)return[];var e=K(c.nodeIDs);if(!e)return[];var t,n=Object(p["a"])(v.value);try{for(n.s();!(t=n.n()).done;){var r=t.value;for(var a in r){var s=r[a];if(""!=s.title){var u=e.indexOf(s.id);-1!=u&&e.splice(u,1)}}}}catch(g){n.e(g)}finally{n.f()}var l,d=ne(e,o.mapNodeLayers),b=[],m=Object(p["a"])(d);try{for(m.s();!(l=m.n()).done;){var f=l.value,h=K(f);Object(ar["a"])().phone?h.center=Kn(f.center,i.debouncedZoom,i.debouncedPan):h.center=Kn(f.center,i.zoom,i.pan),b.push(h)}}catch(g){m.e(g)}finally{m.f()}return b})),editModeOn:Object(r["e"])((function(){return e.state.editModeOn})),selectedNodeId:Object(r["e"])((function(){return o.selectedNodeId})),selectedNodePreconditionIds:Object(r["e"])((function(){return o.selectedNodeId?e.state.precondition.preconditions[o.selectedNodeId]:[]})),visibleZoomedPanedLayers:g,nodeDragging:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("positionChangePermits/".concat(H.CheckNodeID),n.id);case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.dispatch("".concat(Lt.updateNodePosition),{nodeId:n.id,delta:{x:n.delta.x/i.zoom,y:n.delta.y/i.zoom}});case 7:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),setSelectPreconditionON:function(){d=!0},setSelectPreconditionOFF:function(){d=!1,u.value="-1"},setRestoreSelectNewParentON:function(){b=!0},setRestoreSelectNewParentOFF:function(){b=!1},clickedTitleId:u,titleClick:function(e){b||d?u.value=e.id:t.push({name:"node",params:{id:e.id}})},titleOver:function(t){m=!0,e.commit("tree/".concat(xt.SET_SELECTED_NODE_ID),t.id)},titleLeave:function(t){m=!1,e.commit("tree/".concat(xt.SET_SELECTED_NODE_ID),n.params.id)},mapDragging:function(t){e.state.editModeOn&&m||(e.commit("zoomPan/".concat(wt.ADD_PAN),t),e.commit("zoomPan/".concat(wt.ADD_RELATIVE_PAN),t))},zoom:function(t){var n={x:(t.center.x-i.pan.x)/i.zoom,y:(t.center.y-i.pan.y)/i.zoom};e.commit("zoomPan/".concat(wt.SET_ZOOM_CENTER),t.center),e.commit("zoomPan/".concat(wt.ADD_ZOOM),t.delta);var r={x:n.x*i.zoom+i.pan.x,y:n.y*i.zoom+i.pan.y};e.commit("zoomPan/".concat(wt.ADD_PAN),{from:r,to:t.center})},splitterResize:function(e){y.value=window.innerHeight*e.sizes[1]/100},contentSplitHeight:y}}}),eu=n("6c34");const tu=Qs.__cssModules={};tu["$style"]=eu["default"],Qs.render=ln;var nu=Qs,ru={key:0},ou={key:1},iu=Object(r["m"])("b",null,"id:",-1),au=Object(r["m"])("b",null,"timestamp:",-1),cu=Object(r["m"])("b",null,"action:",-1),su=Object(r["m"])("b",null,"node_id:",-1),uu=Object(r["m"])("b",null,"user_id:",-1),lu=Object(r["m"])("b",null,"value:",-1),du={key:1};function pu(e,t,n,o,i,a){var c=Object(r["J"])("Markdown");return o.isAuthorized?(Object(r["A"])(),Object(r["g"])("div",ou,[Object(r["m"])("div",null,[iu,Object(r["l"])(" "+Object(r["N"])(o.route.params.id),1)]),Object(r["m"])("div",null,[au,Object(r["l"])(" "+Object(r["N"])(new Date(o.change["timestamp"]).toLocaleDateString())+" "+Object(r["N"])(new Date(o.change["timestamp"]).toLocaleTimeString()),1)]),Object(r["m"])("div",null,[cu,Object(r["l"])(" "+Object(r["N"])(o.change["action"]),1)]),Object(r["m"])("div",null,[su,Object(r["l"])(" "+Object(r["N"])(o.change["node_id"]),1)]),Object(r["m"])("div",null,[uu,Object(r["l"])(" "+Object(r["N"])(o.change["user_id"]),1)]),lu,-1!=["content","name"].indexOf(o.change["action"])?(Object(r["A"])(),Object(r["g"])(c,{key:0,content:o.change["attributes"]["value"],rows:20},null,8,["content"])):(Object(r["A"])(),Object(r["g"])("div",du,Object(r["N"])(JSON.stringify(o.change["attributes"])),1))])):(Object(r["A"])(),Object(r["g"])("h1",ru,"Only authorized users can view changes"))}var bu={name:"Change",components:{Markdown:fi},setup:function(){var e=qt(),t=Object(r["e"])((function(){return e.state.user.user&&!e.state.user.user.isAnonymous})),n=Object(Ft["d"])(),o=Object(r["G"])({});return Object(r["T"])((function(){return t.value}),Object(s["a"])(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.value){e.next=6;break}return r=Object(E["c"])(Object(E["e"])(),"changes",n.params.id),e.next=4,Object(E["d"])(r);case 4:i=e.sent,i.exists()&&(o.value=i.data());case 6:case"end":return e.stop()}}),e)}))),{immediate:!0}),{isAuthorized:t,route:n,change:o}}};bu.render=pu;var mu=bu,fu={key:0},Ou=Object(r["l"])("Please, "),vu=Object(r["l"])(" to unsubscribe"),hu={key:1};function gu(e,t,n,o,i,a){return o.isAuthorized?(Object(r["A"])(),Object(r["g"])("div",hu," You successfully unsubscribed from scimap.org digest! ")):(Object(r["A"])(),Object(r["g"])("h1",fu,[Ou,Object(r["m"])("a",{href:"#",onClick:t[1]||(t[1]=function(e){return a.store.dispatch("user/".concat(a.userActions.signIn))})},"Sign in"),vu]))}var ju={name:"UnsubscribeDigest",computed:{store:function(){return Ut},userActions:function(){return Ye}},setup:function(){var e=qt(),t=Object(r["e"])((function(){return e.state.user.user&&!e.state.user.user.isAnonymous}));return Object(r["T"])((function(){return e.state.user.user&&!e.state.user.user.isAnonymous}),(function(){t.value&&e.dispatch("user/".concat(Ye.setSubscribePeriod),"on pause")}),{immediate:!0}),{isAuthorized:t}}};ju.render=gu;var yu=ju,xu={key:0},Iu={key:1},Nu=Object(r["m"])("b",null,"id:",-1),wu=Object(r["m"])("b",null,"is removed from map:",-1),ku=Object(r["m"])("b",null,"parent_id:",-1),Du=Object(r["m"])("b",null,"name:",-1),Tu=Object(r["m"])("b",null,"content:",-1),Eu=Object(r["m"])("b",null,"precondition:",-1),_u=Object(r["m"])("b",null,"children:",-1);function Ru(e,t,n,o,i,a){var c=Object(r["J"])("Markdown");return o.isAuthorized?(Object(r["A"])(),Object(r["g"])("div",Iu,[Object(r["m"])("div",null,[Nu,Object(r["l"])(" "+Object(r["N"])(o.route.params.id),1)]),Object(r["m"])("div",null,[wu,Object(r["l"])(" "+Object(r["N"])(o.node["is_in_trash"]),1)]),Object(r["m"])("div",null,[ku,Object(r["m"])("a",{target:"_blank",href:o.node["map"]["parentID"]},Object(r["N"])(o.node["map"]["parentID"]),9,["href"])]),Object(r["m"])("div",null,[Du,Object(r["l"])(" "+Object(r["N"])(o.node["map"]["name"]),1)]),Tu,Object(r["m"])(c,{content:o.node["node_content"]?o.node["node_content"]["content"]:"",rows:20},null,8,["content"]),Object(r["m"])("div",null,[Eu,(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(o.node["precondition"],(function(e){return Object(r["A"])(),Object(r["g"])("div",{key:e},[Object(r["m"])("a",{target:"_blank",href:e},Object(r["N"])(e),9,["href"])])})),128))]),Object(r["m"])("div",null,[_u,(Object(r["A"])(!0),Object(r["g"])(r["a"],null,Object(r["H"])(o.node["map"]["children"],(function(e){return Object(r["A"])(),Object(r["g"])("div",{key:e},[Object(r["m"])("a",{target:"_blank",href:e},Object(r["N"])(e),9,["href"])])})),128))])])):(Object(r["A"])(),Object(r["g"])("h1",xu,"Only authorized users can view node profile"))}var Cu={name:"NodeDescription",components:{Markdown:fi},setup:function(){var e=qt(),t=Object(r["e"])((function(){return e.state.user.user&&!e.state.user.user.isAnonymous})),n=Object(Ft["d"])(),o=Object(r["G"])({});return Object(r["T"])((function(){return t.value}),Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value&&O["a"].database().ref("/map/".concat(n.params.id)).once("value",(function(e){e.exists()?(o.value["is_in_trash"]=!1,o.value["map"]=e.val(),O["a"].database().ref("/node_content/".concat(n.params.id)).once("value",(function(e){e.exists()&&(o.value["node_content"]=e.val())})),O["a"].database().ref("/precondition/".concat(n.params.id)).once("value",(function(e){e.exists()&&(o.value["precondition"]=e.val())}))):O["a"].database().ref("/trash/".concat(n.params.id)).once("value",(function(e){e.exists()&&(o.value=e.val(),o.value["is_in_trash"]=!0)}))}));case 1:case"end":return e.stop()}}),e)}))),{immediate:!0}),{isAuthorized:t,route:n,node:o}}};Cu.render=Ru;var Su=Cu;function Pu(e,t){return Object(r["A"])(),Object(r["g"])("h1",null,"Oops, it looks like the page you're looking for doesn't exist.")}const Au={};Au.render=Pu;var Mu=Au,Bu={style:{padding:"2em 2em 2em 2em"}},Lu=Object(r["m"])("h1",null,"Sorry, SciMap do not ready for mobile yet, please reopen it on you laptop/desktop",-1),zu=Object(r["l"])(" You can "),Vu=Object(r["l"])("still "),Hu=Object(r["l"])(" without any warranties"),Uu=Object(r["m"])("li",null,"or watch video about SciMap",-1),qu=Object(r["m"])("div",{style:{"text-align":"center"}},[Object(r["m"])("iframe",{src:"https://www.youtube.com/embed/DuiTlnrK6G4?si=HuVA4cs5U86H9E3l",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})],-1);function Ju(e,t,n,o,i,a){return Object(r["A"])(),Object(r["g"])("div",Bu,[Lu,zu,Object(r["m"])("ul",null,[Object(r["m"])("li",null,[Vu,Object(r["m"])("a",{href:o.url},"try desktop version on mobile",8,["href"]),Hu]),Uu]),qu])}var Wu={setup:function(){var e=new URLSearchParams(window.location.search),t=new URL(decodeURI(e.get("from")));return t.searchParams.append("forceDesktopOnMobile","true"),{url:t.href}}};Wu.render=Ju;var Gu=Wu,$u=[{path:"/passwordLogin",component:tn},{path:"/mobile_warning",component:Gu},{path:"/node_description/:id?",name:"node_description",component:Su},{path:"/change/:id?",name:"change",component:mu},{path:"/unsubscribe_digest",name:"unsubscribe_digest",component:yu},{path:"/:id?",name:"node",component:nu},{path:"/:catchAll(.*)",component:Mu}],Yu=Object(Ft["a"])({history:Object(Ft["b"])("/"),routes:$u}),Fu=Yu,Xu=(n("7165"),n("e1ae"),n("4121"),n("bddf"),n("6b8c"));Object(r["f"])(Wt).use(Ut,Ht).use(Fu).use(Gt["a"]).use($t["a"]).use(Yt["a"]).directive("tooltip",Xu["a"]).mount("#app")},cd50:function(e,t,n){var r={"./bmp":"0dcc","./bmp.js":"0dcc","./gif":"c416","./gif.js":"c416","./jpg":"135b","./jpg.js":"135b","./png":"e9ef","./png.js":"e9ef","./psd":"520c","./psd.js":"520c","./svg":"b0bf","./svg.js":"b0bf","./tiff":"f270","./tiff.js":"f270","./webp":"cf1e","./webp.js":"cf1e"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="cd50"},ce14:function(e,t,n){e.exports=n.p+"img/eye-off.d2cfd862.svg"},d0e0:function(e,t,n){e.exports={wrapper:"Index_wrapper_1nXRC",customSvgIcon:"Index_customSvgIcon_3R9kx"}},d470:function(e,t,n){},d6b6:function(e){e.exports=JSON.parse("{}")},dc79:function(e,t,n){"use strict";var r=n("0be9"),o=n.n(r);n.d(t,"default",(function(){return o.a}))},fc68:function(e,t,n){e.exports=n.p+"img/move.bbe00c47.svg"},fdc1:function(e,t,n){e.exports=n.p+"img/add-off.32a0c20b.svg"},fe82:function(e,t,n){e.exports=n.p+"img/question.df174033.svg"}});
//# sourceMappingURL=app.ba7ef671.js.map